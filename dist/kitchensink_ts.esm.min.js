Object.hasOwn||Object.defineProperty(Object,"hasOwn",{value:function(e,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),r)},configurable:!0,enumerable:!1,writable:!0});var{from:Ee,isArray:ze,of:Tt}=Array,O=e=>e.length===0,je=String.fromCharCode,z=Promise.resolve,{isInteger:me,MAX_VALUE:ye,NEGATIVE_INFINITY:gt,POSITIVE_INFINITY:At}=Number,{assign:X,defineProperty:Ge,keys:_t,getPrototypeOf:Le,values:vt}=Object,$e=Date.now,{iterator:Z,toStringTag:He}=Symbol,Q=setTimeout,ee=clearTimeout,Rt=setInterval,St=clearInterval,Pt=()=>{};var Cr=-ye,le=(e,r=Cr,t=ye)=>e<r?r:e>t?t:e,v=(e,r)=>(e%r+r)%r,Ft=(e,r,t)=>t*(r-e)+e,wt=(e,r,t)=>(t<0?0:t>1?1:t)*(r-e)+e,kt=(e,r,t,n)=>t*(r[n]-e[n])+e[n],Vt=(e,r,t,n)=>(t<0?0:t>1?1:t)*(r[n]-e[n])+e[n],Nr=(e,r,t)=>{let n=e.length,o=Array(n).fill(0);for(let s=0,a=e.length;s<a;s++)o[s]=t*(r[s]-e[s])+e[s];return o},Ct=(e,r,t)=>Nr(e,r,t<0?0:t>1?1:t),Nt=(e,r,t)=>(t-e)/(r-e),Ut=(e,r,t)=>{let n=(t-e)/(r-e);return n<0?0:n>1?1:n},Mt=(e,r,t,n)=>(t[n]-e[n])/(r[n]-e[n]),Ot=(e,r,t,n)=>{let o=(t[n]-e[n])/(r[n]-e[n]);return o<0?0:o>1?1:o},Bt=(e,r,t)=>r[0]+(t-e[0])*(r[1]-r[0])/(e[1]-e[0]),Et=(e,r,t)=>{let n=(t-e[0])/(e[1]-e[0]);return(n<0?0:n>1?1:n)*(r[1]-r[0])+r[0]},zt=e=>{let r=0,t=e.length;for(let n=0;n<t;n++)r+=e[n];return r},jt=(e,r)=>e<r?e:r,fe=(e,r)=>e>r?e:r;var j=e=>{let r=e.length,t=e[0]?.length??0;return[r,t]},qe=e=>{let[r,t]=j(e),n=[];for(let o=0;o<t;o++)n[o]=[];for(let o=0;o<r;o++)for(let s=0;s<t;s++)n[s][o]=e[o][s];return n},Je=(e,r,t,...n)=>{let[o,s]=j(e);return t??=fe(o-r,0),e.splice(r,t,...n)},We=(e,r,t,...n)=>{let[o,s]=j(e),a=n.length>0?qe(n):Array(o).fill([]);return t??=fe(s-r,0),qe(e.map((i,u)=>i.splice(r,t,...a[u])))},Ht=(e,r)=>{let[t,n]=j(e);if(r=v(r,t===0?1:t),r===0)return e;let o=Je(e,t-r,r);return Je(e,0,0,...o),e},qt=(e,r)=>{let[t,n]=j(e);if(r=v(r,n===0?1:n),r===0)return e;let o=We(e,n-r,r);return We(e,0,0,...o),e},Jt=(e,r)=>{let t=e.length,n=r.length,o=e.map(a=>Array(n).fill(a)),s=e.map(()=>r.slice());return[o,s]},Wt=(e,r,t)=>{let n=r.length,o=t.length,s=Array(n).fill(void 0);for(let a=0;a<n;a++){let i=Array(o).fill(0),u=r[a];for(let p=0;p<o;p++)i[p]=e(u,t[p]);s[a]=i}return s};var re=e=>{let{x:r,y:t,width:n,height:o}=e;return n<0&&(n*=-1,r-=n),o<0&&(o*=-1,t-=o),{x:r,y:t,width:n,height:o}},G=e=>Le(e).constructor,Qt=(e,...r)=>new(G(e))(...r),L=e=>e.prototype,be=e=>{let r=typeof e;return r==="object"||r==="function"},en=e=>!be(e),Ye=(e,r,t)=>{Ge(L(e),r,{value:t})};var on=(e,...r)=>t=>e.bind(t,...r),c=(e,r,...t)=>n=>e[r].bind(n,...t),an=(e,r,...t)=>r.bind(e,...t),K=(e,r,...t)=>e[r].bind(e,...t),m=L(Array),F=L(Map),k=L(Set),sn=c(m,"at"),un=c(m,"concat"),cn=c(m,"copyWithin"),pn=c(m,"entries"),dn=c(m,"every"),mn=c(m,"fill"),yn=c(m,"filter"),ln=c(m,"find"),fn=c(m,"findIndex"),bn=c(m,"findLast"),xn=c(m,"findLastIndex"),hn=c(m,"flat"),Tn=c(m,"flatMap"),gn=c(m,"forEach"),An=c(m,"includes"),_n=c(m,"indexOf"),vn=c(m,"join"),Rn=c(m,"keys"),Sn=c(m,"lastIndexOf"),Pn=c(m,"map"),Xe=c(m,"pop"),Ze=c(m,"push"),Dn=c(m,"reduce"),In=c(m,"reduceRight"),Kn=c(m,"reverse"),Fn=c(m,"shift"),wn=c(m,"slice"),kn=c(m,"some"),Vn=c(m,"sort"),Cn=c(m,"splice"),Nn=c(m,"unshift"),Un=c(m,"toLocaleString"),Mn=c(m,"toReversed"),On=c(m,"toSorted"),Bn=c(m,"toSpliced"),En=c(m,"toString"),zn=c(m,"values"),jn=c(m,"with"),Qe=c(m,"splice",0),xe=c(m,"at",-1),$=c(k,"add"),Gn=c(k,"clear"),H=c(k,"delete"),Ln=c(k,"entries"),$n=c(k,"forEach"),te=c(k,"has"),Hn=c(k,"keys"),qn=c(k,"values"),Jn=c(F,"clear"),he=c(F,"delete"),Te=c(F,"entries"),ge=c(F,"forEach"),B=c(F,"get"),Ae=c(F,"has"),_e=c(F,"keys"),ne=c(F,"set"),ve=c(F,"values");var Zn=(e,r="data.bin",t="application/octet-stream")=>{let n=new Blob([e],{type:t}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=r,o.click(),URL.revokeObjectURL(o.href),o.remove()},Ur=e=>{let r=new FileReader;return new Promise((t,n)=>{r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})},Mr=e=>Ur(e).then(r=>{let[t,n]=r.split(";base64,",2);return[t+";base64,",n]}),Qn=e=>Mr(e).then(r=>r[1]),eo=e=>{let r=atob(e),t=r.length,n=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=r.charCodeAt(o);return n},ro=e=>{let t=[];for(let n=0;n<e.length;n+=32766){let o=e.subarray(n,n+32766);t.push(je(...o))}return btoa(t.join(""))};var er=class{constructor(r){this.length=r;this.items=Array(r),this.back=r-1}items;front=0;back;count=0;static{Z}pushBack(...r){for(let t of r)this.count===this.length&&this.popFront(),this.items[this.back]=t,this.back=v(this.back-1,this.length),this.count++}pushFront(...r){for(let t of r)this.count===this.length&&this.popBack(),this.items[this.front]=t,this.front=v(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.items[v(this.back+1,this.length)]}getFront(){if(this.count!==0)return this.items[v(this.front-1,this.length)]}popBack(){if(this.count===0)return;this.back=v(this.back+1,this.length);let r=this.items[this.back];return this.items[this.back]=void 0,this.count--,r}popFront(){if(this.count===0)return;this.front=v(this.front-1,this.length);let r=this.items[this.front];return this.items[this.front]=void 0,this.count--,r}rotate(r){let{front:t,back:n,length:o,count:s,items:a}=this;if(s!==0){if(r=v(r,s),s<o)for(let i=0;i<r;i++){let u=v(n-i,o),p=v(t-i-1,o);a[u]=a[p],a[p]=void 0}this.front=v(t-r,o),this.back=v(n-r,o)}}reverse(){let r=this.count/2|0,{length:t,front:n,back:o,items:s}=this;for(let a=1;a<=r;a++){let i=v(o+a,t),u=v(n-a,t),p=s[i];s[i]=s[u],s[u]=p}}resolveIndex(r){return v(this.back+r+1,this.length)}at(r){return this.items[this.resolveIndex(r)]}replace(r,t){this.items[v(this.back+r+1,this.count)]=t}insert(r,t){this.count===this.length&&this.popFront();let n=this.resolveIndex(r);for(let o=this.front;o>n;o--)this.items[o]=this.items[o-1];this.items[n]=t,this.count++}},rr=e=>{let r=[];e.forEach(o=>{r.push(...o)});let t=new Map([...new Set(r)].map(o=>[o,new Set])),n=B(t);for(let[o,s]of e)s.forEach(a=>n(a).add(o));return t},tr=class{constructor(r,t){let n=r??(t?rr(t):new Map),o=t??(r?rr(r):new Map),s=ne(n),a=ne(o),i=he(n),u=he(o),p=n.size,d=o.size,f=ge(n),T=ge(o),y=B(n),l=B(o),h=Ae(n),b=Ae(o),g=Te(n),M=Te(o),de=_e(n),R=_e(o),S=ve(n),w=ve(o),Ue=(x,...A)=>{let _=y(x)??(s(x,new Set)&&y(x)),P=te(_),D=$(_);for(let I of A)P(I)||(D(I),l(I)?.add(x)||a(I,new Set([x])))},Me=(x,...A)=>{let _=l(x)??(a(x,new Set)&&l(x)),P=te(_),D=$(_);for(let I of A)P(I)||(D(I),y(I)?.add(x)||s(I,new Set([x])))},Vr=()=>{n.clear(),o.clear()},Oe=(x,A=!1)=>{let _=y(x);if(_){for(let P of _)l(P).delete(x);A?_.clear():A=i(x)}return A},Be=(x,A=!1)=>{let _=l(x);if(_){for(let P of _)y(P).delete(x);A?_.clear():A=u(x)}return A};X(this,{fmap:n,rmap:o,size:p,rsize:d,forEach:f,rforEach:T,get:y,rget:l,has:h,rhas:b,entries:g,rentries:M,keys:de,rkeys:R,values:S,rvalues:w,add:Ue,radd:Me,clear:Vr,delete:Oe,rdelete:Be,remove:(x,...A)=>{let _=y(x);if(_){let P=H(_);for(let D of A)P(D)&&l(D).delete(x)}},rremove:(x,...A)=>{let _=l(x);if(_){let P=H(_);for(let D of A)P(D)&&y(D).delete(x)}},set:(x,A)=>(Oe(x,!0),Ue(x,...A),this),rset:(x,A)=>(Be(x,!0),Me(x,...A),this),[Z]:g,[He]:"InvertibleMap"})}},nr=class{constructor(r){let t,n=B(r),o=[],s=Xe(o),a=Ze(o),i=Qe(o),u=xe(o),p=new Map,d=B(p),f=ne(p),T=R=>{for(let S of n(R)??[]){let w=d(S);w?f(S,w+1):T(S)}f(R,1)},y=R=>{f(R,0);for(let S of n(R)??[]){let w=(d(S)??0)-1;w>-1&&(f(S,w),w<1&&y(S))}},l=()=>{i();for(let[R,S]of p)S>0&&a(R)},h=()=>(t=s(),t!==void 0&&f(t,0),t),b=(...R)=>{p.clear(),R.forEach(T),l()},g=(...R)=>{O(R)&&t!==void 0&&R.push(t),R.forEach(y),l()},M=()=>{p.clear(),i()},de=function*(){for(t=h();t!==void 0;)yield t,t=h()};X(this,{edges:r,stack:o,fire:b,block:g,clear:M,pop:h,seek:u,[Z]:de})}},or=class{constructor(r){let{rforEach:t,get:n,rget:o}=r,s=new Set,a=$(s),i=H(s),u={},p={},d=()=>{s.clear(),u={},p={},t((l,h)=>{u[h]=l.size})},f=(...l)=>{console.log(l),d(),l.forEach(a)},T=(...l)=>{let h=[];for(let b of l)i(b)&&n(b)?.forEach(g=>{let M=(u[g]??o(g)?.size??1)-1;M<=0&&h.push(g),u[g]=M});return h.forEach(a),console.log(h),h},y=(...l)=>{let h=[];for(let b of l)i(b),n(b)?.forEach(g=>{(p[g]=(p[g]??0)+1)>=(o(g)?.size??0)&&h.push(g)});return l.concat(O(h)?h:y(...h))};X(this,{pending:s,clear:d,fire:f,resolve:T,reject:y})}},q=class{wmap=new WeakMap;smap=new Map;pick(r){return be(r)?this.wmap:this.smap}get(r){return this.pick(r).get(r)}set(r,t){return this.pick(r).set(r,t),this}has(r){return this.pick(r).has(r)}delete(r){return this.pick(r).delete(r)}},Se=Symbol("represents an unset value for a tree"),Pe=e=>class sr extends e{constructor(n=Se){super();this.value=n}getDeep(n,o=!0){if(O(n))return this;let s=n.pop(),a=this.get(s);return!a&&o&&this.set(s,a=new sr),a?.getDeep(n,o)}setDeep(n,o,s=!0){let a=this.getDeep(n,s);return a&&(a.value=o),a}hasDeep(n){if(O(n))return!0;let o=n.pop();return this.get(o)?.hasDeep(n)??!1}delDeep(n){if(O(n))return!1;let[o,...s]=n;return this.getDeep(s,!1)?.delete(o)??!1}},uo=Pe(WeakMap),ir=Pe(Map),ur=Pe(q),Re=class extends Array{$set=new Set;$add=$(this.$set);$del=H(this.$set);includes=te(this.$set);top=xe(this);fsync(){return super.splice(0),super.push(...this.$set)}rsync(){let{$set:r,$add:t}=this;return r.clear(),super.forEach(t),this.length}reset(r=[]){let{$set:t,$add:n}=this;t.clear(),r.forEach(n),this.fsync()}constructor(r){super(),this.reset(r)}pop(){let r=super.pop();return this.$del(r),r}push(...r){let t=this.includes,n=this.$add,o=r.filter(t);return o.forEach(n),super.push(...o)}pushFront(...r){return r.forEach(this.$del),r.forEach(this.$add),this.fsync()}shift(){let r=super.shift();return this.$del(r),r}unshift(...r){let t=this.includes,n=r.filter(t);return super.unshift(...n),this.rsync()}unshiftRear(...r){return this.delMany(...r),super.unshift(...r),this.rsync()}del(r){return this.$del(r)?(super.splice(super.indexOf(r),1),!0):!1}delMany(...r){r.forEach(this.$del),this.fsync()}},oe=class extends Array{min;max;resize_cb;constructor(r,t,n){super(),this.min=r,this.max=t,this.resize_cb=n}resize(r){let t=this.length,n=t-this.max>0?t-this.min:0;if(n>0){let o=super.splice(0,n);this.resize_cb?.(o)}return r}push(...r){return this.resize(super.push(...r))}},ar=class extends Re{min;max;resize_cb;constructor(r,t,n){super(),this.min=r,this.max=t,this.resize_cb=n}resize(r){let t=this.length,n=t-this.max>0?t-this.min:0;if(n>0){let o=super.splice(0,n);o.forEach(this.$del),this.resize_cb?.(o)}return r}push(...r){return this.resize(super.push(...r))}pushFront(...r){return this.resize(super.pushFront(...r))}};var ae,Or=()=>{ae=new Int32Array(256);let e=-306674912;for(let r=0;r<256;r++){let t=r;for(let n=8;n>0;--n)t=t&1?t>>>1^e:t>>>1;ae[r]=t}},mo=(e,r)=>{r=r===void 0?4294967295:r^-1,ae===void 0&&Or();for(let t=0;t<e.length;++t)r=ae[(r^e[t])&255]^r>>>8;return(r^-1)>>>0};var De=(e,r)=>{let t=e;for(let n of r)t=t[n];return t},cr=(e,r,t)=>{let n=r.pop(),o=De(e,r);return o[n]=t,e},fo=e=>[r=>De(e,r),(r,t)=>cr(e,r,t)],Br=(e,r)=>De(e,pr(r)),Er=(e,r,t)=>cr(e,pr(r),t),bo=e=>[r=>Br(e,r),(r,t)=>Er(e,r,t)],pr=e=>e.split(".").map(r=>r==="0"?0:parseInt(r)||r);var dr=(e,r)=>Ie([e],r),Ie=(e,r)=>r[0]==="u"?yr(e):fr(e),mr=(e,r,t)=>{let[n,o]=Ke(e,r,t,1);return[n[0],o]},Ke=(e,r,t,n)=>t[0]==="u"?lr(e,r,n):br(e,r,n),yr=e=>{let r=e.length,t=[];for(let n=0;n<r;n++){let o=e[n];o=o*(o>=0?1:-1);let s=[];do s.push((o&127)+128),o>>=7;while(o>0);s[0]&=127,t.push(...s.reverse())}return Uint8Array.from(t)},lr=(e,r=0,t)=>{t===void 0&&(t=1/0);let n=[],o=r,s=e.length,a=0;for(let i=e[r++];t>0&&r<s+1;i=e[r++])a<<=7,a+=i&127,i>>7||(n.push(a),t--,a=0);return r--,[n,r-o]},fr=e=>{let r=e.length,t=[];for(let n=0;n<r;n++){let o=e[n],s=o>=0?1:-1,a=[];for(o=o*s;o>63;)a.push((o&127)+128),o>>=7;a.push(o&63|(s==-1?192:128)),a[0]&=127,t.push(...a.reverse())}return Uint8Array.from(t)},br=(e,r=0,t)=>{t===void 0&&(t=1/0);let n=[],o=r,s=e.length,a=0,i=0;for(let u=e[r++];t>0&&r<s+1;u=e[r++])a===0?(a=(u&64)>0?-1:1,i=u&63):(i<<=7,i+=u&127),u>>7||(n.push(i*a),t--,a=0,i=0);return r--,[n,r-o]},To=e=>yr([e]),go=(e,r=0)=>{let[t,n]=lr(e,r,1);return[t[0],n]},Ao=e=>fr([e]),_o=(e,r=0)=>{let[t,n]=br(e,r,1);return[t[0],n]};var Po=e=>!!e.buffer,Fe=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array;default:return console.error('an unrecognized typed array type `"${type}"` was provided'),Uint8Array}},zr=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,J=zr(),Do=(e,r)=>{let t=e.byteLength;for(let n=0;n<t;n+=r)e.subarray(n,n+r).reverse();return e},we=(e,r)=>{let t=e.byteLength,n=new Uint8Array(t),o=r;for(let s=0;s<o;s++){let a=o-1-s*2;for(let i=s;i<t+s;i+=o)n[i]=e[i+a]}return n},xr=(...e)=>{let r=[0];for(let n of e)r.push(r[r.length-1]+n.length);let t=new Uint8Array(r.pop());for(let n of e)t.set(n,r.shift());return t},hr=(...e)=>{let r=[0];for(let n of e)r.push(r[r.length-1]+n.length);let t=new(G(e[0]))(r.pop());for(let n of e)t.set(n,r.shift());return t};function W(e,r,t,n){return e??=0,n??=0,t===void 0?[e+n,r===void 0?r:r+n,t]:(r??=t,e+=e>=0?0:t,r+=r>=0?0:t,t=r-e,[e+n,r+n,t>=0?t:0])}var Io=(e,r)=>ke(e,r),Ko=(e,r,t=0,n,o)=>{[n,o]=W(n,o,e.length);let s=[];for(let a=n;a<o;a+=r+t)s.push(e.slice(a,a+r));return s},ke=(e,r,t=0,n,o)=>{[n,o]=W(n,o,e.length);let s=[];for(let a=n;a<o;a+=r+t)s.push(e.subarray(a,a+r));return s},Fo=(e,r)=>e.length!==r.length?!1:jr(e,r),jr=(e,r)=>{let t=Math.min(e.length,r.length);for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0},Tr=(e,r)=>{let t=[];for(let n=1;n<r.length;n++)t.push(e.slice(r[n-1],r[n]));return t},wo=(e,r)=>{let t=[];for(let n=1;n<r.length;n++)t.push(e.subarray(r[n-1],r[n]));return t},ko=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.slice(r[n-1],r[n]));return t},Vo=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.subarray(r[n-1],r[n]));return t},Co=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.slice(r[n-1],r[n]===void 0?void 0:r[n-1]+r[n]));return t},No=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.subarray(r[n-1],r[n]===void 0?void 0:r[n-1]+r[n]));return t};var gr=new TextEncoder,Ar=new TextDecoder,Eo=(e,r,t,...n)=>{let[o,s]=vr(t,e,r,...n);return[o,r+s]},zo=(e,r,t,n,...o)=>{let s=_r(t,n,...o);return e.set(s,r),[e,r+s.length]},jo=(...e)=>{let r=[];for(let t of e)r.push(_r(...t));return xr(...r)},Go=(e,r,...t)=>{let n=[],o=0;for(let[s,...a]of t){let[i,u]=vr(s,e,r+o,...a);n.push(i),o+=u}return[n,o]},_r=(e,r,...t)=>{switch(e){case"bool":return Gr(r);case"cstr":return $r(r);case"str":return qr(r);case"bytes":return Wr(r);default:return e[1]==="v"?e.endsWith("[]")?Ie(r,e):dr(r,e):e.endsWith("[]")?Rr(r,e):Xr(r,e)}},vr=(e,r,t,...n)=>{switch(e){case"bool":return Lr(r,t);case"cstr":return Hr(r,t);case"str":return Jr(r,t,...n);case"bytes":return Yr(r,t,...n);default:return e[1]==="v"?e.endsWith("[]")?Ke(r,t,e,...n):mr(r,t,e):e.endsWith("[]")?Sr(r,t,e,...n):Zr(r,t,e)}},Gr=e=>Uint8Array.of(e?1:0),Lr=(e,r=0)=>[e[r]>=1,1],$r=e=>gr.encode(e+"\0"),Hr=(e,r=0)=>{let t=e.indexOf(0,r),n=e.subarray(r,t);return[Ar.decode(n),n.length+1]},qr=e=>gr.encode(e),Jr=(e,r=0,t)=>{let n=t===void 0?void 0:r+t,o=e.subarray(r,n);return[Ar.decode(o),o.length]},Wr=e=>e,Yr=(e,r=0,t)=>{let n=t===void 0?void 0:r+t,o=e.slice(r,n);return[o,o.length]},Rr=(e,r)=>{let[t,n,o]=r,s=Fe(r),a=parseInt(n),i=!!(o==="l"&&J||o==="b"&&!J||a===1),u=s.from(e);if(u instanceof Uint8Array)return u;let p=new Uint8Array(u.buffer);return i?p:we(p,a)},Sr=(e,r=0,t,n)=>{let[o,s,a]=t,i=parseInt(s),u=!!(a==="l"&&J||a==="b"&&!J||i===1),p=n?i*n:void 0,d=e.slice(r,p?r+p:void 0),f=d.length,T=Fe(t),y=new T(u?d.buffer:we(d,i).buffer);return[Array.from(y),f]},Xr=(e,r)=>Rr([e],r),Zr=(e,r=0,t)=>{let[n,o]=Sr(e,r,t,1);return[n[0],o]};var Ho=(e,r)=>{let t={};for(let n in e)t[n]=e[n](r[n]);return t},qo=(e,r)=>{let t={};for(let n in e)t[n]=e[n](...r[n]);return t},V=(e,r)=>{let t=[];for(let n=0;n<e.length;n++)t.push(e[n](r[n]));return t},Jo=(e,r)=>{let t=[];for(let n=0;n<e.length;n++)t.push(e[n](...r[n]));return t};var Ve=(e,r)=>ze(r)?r.map(e):e(r),N=e=>((e??1)*100).toFixed(0)+"%",ra=e=>Ve(N,e),U=e=>le(e??0,0,255).toFixed(0),ta=e=>Ve(U,e),Ce=e=>(e??0).toFixed(1)+"deg",na=e=>Ve(Ce,e),C=e=>(e<16?"0":"")+(e|0).toString(16),Qr=[C,C,C],oa=e=>"#"+V(Qr,e).join(""),et=[C,C,C,e=>C(le((e??1)*255,0,255))],aa=e=>"#"+V(et,e).join(""),sa=e=>"rgb("+V([U,U,U],e).join(",")+")",ia=e=>"rgba("+V([U,U,U,N],e).join(",")+")",ua=e=>"hsl("+V([Ce,N,N],e).join(",")+")",ca=e=>"hsla("+V([Ce,N,N,N],e).join(",")+")";var Pr,se,Ne=(e,r)=>(Pr??=new OffscreenCanvas(e??10,r??10),Pr),Dr=(e,r)=>(se===void 0&&(se=Ne(e,r).getContext("2d",{willReadFrequently:!0}),se.imageSmoothingEnabled=!1),se),xa=e=>e===void 0?!1:e.startsWith("data:image/"),ha=e=>e.slice(0,e.indexOf(";base64,")+8),Ta=e=>e.slice(5,e.indexOf(";base64,")),ga=e=>e.substring(e.indexOf(";base64,")+8),Aa=async(e,r,t,n,o)=>{t&&(t=re(t));let s=await Y(e,r),a=t?await createImageBitmap(s,t.x,t.y,t.width,t.height,n):await createImageBitmap(s,n),i=Ne(),u=Dr();return i.width=a.width,i.height=a.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(a,0,0),i.convertToBlob(o)},_a=async(e,r,t,n,o)=>{t&&(t=re(t));let s=await Y(e,r),a=t?await createImageBitmap(s,t.x,t.y,t.width,t.height,n):await createImageBitmap(s,n),i=Ne(),u=Dr();return i.width=a.width,i.height=a.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(a,0,0),u.getImageData(0,0,a.width,a.height,o)},Y=(e,r)=>{if(typeof e=="string"){let t=new Image;return t.src=e,t.decode().then(()=>t)}else{if(e instanceof Uint8ClampedArray)return z(new ImageData(e,r));if(ArrayBuffer.isView(e))return Y(new Uint8ClampedArray(e.buffer),r);if(e instanceof ArrayBuffer)return Y(new Uint8ClampedArray(e),r);if(e instanceof Array)return Y(Uint8ClampedArray.from(e),r)}return z(e)},va=(e,r,t,n=1)=>{let o=e.length/r,s=new Uint8ClampedArray(o).fill(1),a=new Uint8ClampedArray(o);if(t!==void 0){for(let i=0;i<o;i++)s[i]=e[i*r+t]<n?0:1;e=e.filter((i,u)=>u%r!==t),r--}for(let i=0;i<r;i++)for(let u=0;u<o;u++)a[u]+=e[u*r+i];if(t!==void 0)for(let i=0;i<o;i++)a[i]*=s[i];return new Uint8Array(a.buffer)},rt=(e,r,t=1)=>{let{width:n,height:o,data:s}=e,a=s.length/(n*o),i=l=>s.subarray(l*n*a,(l*n+n)*a),u=l=>{let h=new Uint8Array(o*a);for(let b=0;b<o;b++)for(let g=0;g<a;g++)h[b*a+g]=s[(b*n+l)*a+g];return h},p=l=>{let h=0;for(let b=0,g=l.length;b<g;b+=a)h+=r(l[b+0],l[b+1],l[b+2],l[b+3]);return h};console.assert(me(a));let[d,f,T,y]=[0,0,o,n];for(;d<o&&!(p(i(d))>=t);d++);for(;T>=d&&!(p(i(T))>=t);T--);for(;f<n&&!(p(u(f))>=t);f++);for(;y>=f&&!(p(u(y))>=t);y--);return{x:f,y:d,width:y-f,height:T-d}},tt=(e,r)=>{let{width:t,height:n,data:o}=e,s=o.length/(t*n),a=re({x:0,y:0,width:t,height:n,...r}),[i,u,p,d]=[a.y,a.x,a.y+a.height,a.x+a.width];console.assert(me(s));let f=a.width*s,T=(t-d+(u-0))*s,y=(i*t+u)*s,l=((p-1)*t+d)*s,h=ke(o,f,T,y,l),b=hr(...h);return s===4?new ImageData(b,a.width,a.height):{width:a.width,height:a.height,data:b,colorSpace:e.colorSpace??"srgb"}},Ra=(e,r,t=1)=>tt(e,rt(e,r,t)),Sa=(e,r)=>{let{x:t,y:n,width:o,channels:s}=e,{x:a,y:i,width:u,channels:p}=r,d=(a??0)-(t??0),f=(i??0)-(n??0);return T=>p*(T/s%o-d+((T/s/o|0)-f)*u)},Pa=e=>{console.error("not implemented")};var Ca=(e,r,t)=>{let n,o=()=>{};return(...s)=>(ee(n),t&&o(t),new Promise((a,i)=>{o=i,n=Q(()=>a(r(...s)),e)}))},Na=(e,r)=>{let t,n,o,s=a=>(o=new Promise((i,u)=>n=i).then(s),a);return s(),(...a)=>(ee(t),t=Q(()=>n(r(...a)),e),o)},Ir=Symbol("a rejection by a throttled function"),nt=(e,r)=>{let t=0;return(...n)=>{let o=$e();return o-t>e?(t=o,r(...n)):Ir}},Ua=(e,r,t,n)=>{let o,s=()=>{},a=nt(r,t);return(...i)=>{ee(o),n&&s(n);let u=a(...i);return u===Ir?new Promise((p,d)=>{s=d,o=Q(()=>p(t(...i)),e)}):z(u)}},ie=(e,r=!1)=>{let t=r?new q:new Map,n=K(t,"get"),o=K(t,"set"),s=K(t,"has");return{fn:i=>{let u=s(i),p=u?n(i):e(i);return u||o(i,p),p},memory:t}},Ma=e=>ie(e).fn,Oa=(e,r)=>{let t=ie(r),n=K(t.memory,"has"),o=t.fn;return a=>n(a)||--e>=0?o(a):r(a)},ot=(e,r,t)=>{let n=ie(r),o=K(n.memory,"has"),s=n.fn;return i=>{let u=o(i)||--e>=0?s(i):t;return e===0&&(t??=u),u}},Ba=(e,r,t)=>{let n=ie(t),o=K(n.memory,"has"),s=K(n.memory,"delete"),a=n.fn,i=new oe(e,r,d=>{d.forEach(s)}),u=K(i,"push");return d=>(o(d)||u(d),a(d))},Ea=e=>ot(1,e),Kr=(e,r=!1)=>{let t=r?new ur:new ir;return{fn:(...o)=>{let s=t.getDeep(o.toReversed()),a=s.value!==Se,i=a?s.value:e(...o);return a||(s.value=i),i},memory:t}},za=e=>Kr(e,!1).fn,ja=e=>Kr(e,!0).fn,at=(e,r)=>e.length>1?t=>at(e.bind(void 0,t)):e.bind(r),st=(e,r,t=e.length)=>(...n)=>{t-=n.length;let o=e.bind(void 0,...n);return t<=0?o.call(r):st(o,r,t)};var $a=(e,r)=>{for(let t=0;t<r.length;t++)r[t]=e()},Ha=(e,r,t)=>{for(let n=0;n<r.length;n++)r[n]=e(t[n])},qa=(e,r,t,n)=>{for(let o=0;o<r.length;o++)r[o]=e(t[o],n[o])},Ja=(e,r,t,n,o)=>{for(let s=0;s<r.length;s++)r[s]=e(t[s],n[s],o[s])},Wa=(e,r,t,n,o,s)=>{for(let a=0;a<r.length;a++)r[a]=e(t[a],n[a],o[a],s[a])},Ya=(e,r,t,n,o,s,a)=>{for(let i=0;i<r.length;i++)r[i]=e(t[i],n[i],o[i],s[i],a[i])},Xa=(e,r,...t)=>{let n=t.length,o=Array(n).fill(0);for(let s=0;s<r.length;s++){for(let a=0;a<n;a++)o[a]=t[a][s];r[s]=e(...o)}},Za=(e,r,...t)=>{let n=e(...t);for(let o=0;o<r.length;o++)r[o]=n(o)};var ns=e=>e[0].map((r,t)=>e.map(n=>n[t])),os=(e,r,t)=>{[r,t]=W(r,t,e.length);let n=e.slice(r+1,t);for(let o=0;o<n.length;o++)n[o]-=e[r+o-1];return n},as=(e,r,t)=>{[r,t]=W(r,t,e.length);let n=e.slice(r,t-1);for(let o=0;o<n.length;o++)n[o]-=e[r+o+1];return n},ss=e=>{let r=e.length,t=new(G(e))(r+1).fill(0);for(let n=0;n<r;n++)t[n+1]=t[n]+e[n];return t};var is=(e,r=0,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]*=e[n]<0?-1:1;return e},us=(e,r=0,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]*=-1;return e},cs=(e,r,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]=~e[n];return e},ps=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]&=r;return e},ds=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]|=r;return e},ms=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]^=r;return e},ys=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]<<=r;return e},ls=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]>>=r;return e},fs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]>>>=r;return e},bs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]+=r;return e},xs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]-=r;return e},hs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]*=r;return e},Ts=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]/=r;return e},gs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]**=r;return e},As=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]%=r;return e},_s=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]=(e[o]%r+r)%r;return e};var wr={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},Is=(e,r)=>{let{sep:t,prefix:n,postfix:o,trailingSep:s,bra:a,ket:i,toUpperCase:u,radix:p}={...wr,...r},d=e.buffer?Ee(e):e,f=d.map(T=>{let y=(T|0).toString(p);return y=y.length===2?y:"0"+y,u?y.toUpperCase():y}).reduce((T,y)=>T+n+y+o+t,"");return a+f.slice(0,s?void 0:-t.length)+i},Ks=(e,r)=>{let{sep:t,prefix:n,postfix:o,bra:s,ket:a,radix:i}={...wr,...r},[u,p,d,f,T]=[t,n,o,s,a].map(b=>b.length),y=e.slice(f,T>0?-T:void 0),l=p+2+d+u,h=[];for(let b=p;b<y.length;b+=l)h.push(parseInt(y[b]+y[b+1],i));return h},it=e=>e.toUpperCase(),kr=e=>e.toLowerCase(),Fr=(e,r)=>r===1?it(e):r===-1?kr(e):e,ut=(e,r=0,t=void 0)=>{t=(t<e.length?t:e.length)-1;for(let n=r,o=e.charCodeAt(n++);n<t;o=e.charCodeAt(n++))if(o>64&&o<91)return n-1},ct=(e,r=0,t=void 0)=>{t=(t<e.length?t:e.length)-1;for(let n=r,o=e.charCodeAt(n++);n<t;o=e.charCodeAt(n++))if(o>96&&o<123)return n-1},pt=(e,r,t=0,n=void 0)=>r===1?ut(e,t,n):r===-1?ct(e,t,n):void 0,dt=(e,r)=>{let[t,n,o,s="",a="",i=""]=r,u=e.length-1;return e.map((d,f)=>{let T=Fr(d[0],f>0?n:t),y=Fr(d.slice(1),o),l=f<u?s:"";return T+y+l}).reduce((d,f)=>d+f,a)+i},mt=(e,r)=>{let[t,n,o,s="",a="",i=""]=r;e=e.slice(a.length,-i.length||void 0);let u;if(s===""){let p=[0],d=0;for(;d!==void 0;)d=pt(e,n,d+1),p.push(d);u=Tr(e,p)}else u=e.split(s);return u.map(p=>kr(p))},yt=(e,r,t)=>dt(mt(e,r),t),E=(e,r)=>t=>yt(t,e,r),ue=[-1,-1,-1,"_"],ce=[-1,-1,-1,"-"],pe=[-1,1,-1,""],Fs=[1,1,-1,""],ws=[1,1,1,"_"],ks=[1,1,1,"-"],Vs=E(ce,pe),Cs=E(pe,ce),Ns=E(ue,pe),Us=E(pe,ue),Ms=E(ce,ue),Os=E(ue,ce);var zs=e=>e>=0&&e<=1,js=e=>e>=0&&e<=255&&e===(e|0),Gs=e=>e>=0&&e<=360,Ls=e=>e>=0&&e<=Math.PI;export{j as Array2DShape,mo as Crc32,er as Deque,ur as HybridTree,q as HybridWeakMap,tr as InvertibleMap,oe as LimitedStack,ar as LimitedStackSet,Re as StackSet,ir as StrongTree,Ir as THROTTLE_REJECT,Se as TREE_VALUE_UNSET,or as TopologicalAsyncScheduler,nr as TopologicalScheduler,uo as WeakTree,is as abs,bs as add,Ee as array_from,ze as array_isArray,O as array_isEmpty,Tt as array_of,ps as band,eo as base64BodyToBytes,cs as bcomp,bo as bindDotPathTo,fo as bindKeyPathTo,on as bindMethodFactory,c as bindMethodFactoryByName,an as bindMethodToSelf,K as bindMethodToSelfByName,sn as bind_array_at,Qe as bind_array_clear,un as bind_array_concat,cn as bind_array_copyWithin,pn as bind_array_entries,dn as bind_array_every,mn as bind_array_fill,yn as bind_array_filter,ln as bind_array_find,fn as bind_array_findIndex,bn as bind_array_findLast,xn as bind_array_findLastIndex,hn as bind_array_flat,Tn as bind_array_flatMap,gn as bind_array_forEach,An as bind_array_includes,_n as bind_array_indexOf,vn as bind_array_join,Rn as bind_array_keys,Sn as bind_array_lastIndexOf,Pn as bind_array_map,Xe as bind_array_pop,Ze as bind_array_push,Dn as bind_array_reduce,In as bind_array_reduceRight,Kn as bind_array_reverse,Fn as bind_array_shift,wn as bind_array_slice,kn as bind_array_some,Vn as bind_array_sort,Cn as bind_array_splice,Un as bind_array_toLocaleString,Mn as bind_array_toReversed,On as bind_array_toSorted,Bn as bind_array_toSpliced,En as bind_array_toString,Nn as bind_array_unshift,zn as bind_array_values,jn as bind_array_with,Jn as bind_map_clear,he as bind_map_delete,Te as bind_map_entries,ge as bind_map_forEach,B as bind_map_get,Ae as bind_map_has,_e as bind_map_keys,ne as bind_map_set,ve as bind_map_values,$ as bind_set_add,Gn as bind_set_clear,H as bind_set_delete,Ln as bind_set_entries,$n as bind_set_forEach,te as bind_set_has,Hn as bind_set_keys,qn as bind_set_values,xe as bind_stack_seek,Ur as blobToBase64,Qn as blobToBase64Body,Mr as blobToBase64Split,ys as blsh,ds as bor,ls as brsh,fs as bursh,ms as bxor,ro as bytesToBase64Body,pe as camelCase,Cs as camelToKebab,Us as camelToSnake,le as clamp,xr as concatBytes,hr as concatTyped,Qt as constructFrom,Y as constructImageBitmapSource,Aa as constructImageBlob,_a as constructImageData,G as constructorOf,yt as convertCase,Sa as coordinateTransformer,tt as cropImageData,ss as cumulativeSum,at as curry,st as curryMulti,$e as date_now,Ca as debounce,Na as debounceAndShare,Lr as decode_bool,Yr as decode_bytes,Hr as decode_cstr,_o as decode_ivar,br as decode_ivar_array,Zr as decode_number,Sr as decode_number_array,Jr as decode_str,go as decode_uvar,mr as decode_varint,Ke as decode_varint_array,os as diff,as as diff_right,Ts as div,St as dom_clearInterval,ee as dom_clearTimeout,Rt as dom_setInterval,Q as dom_setTimeout,pr as dotPathToKeyPath,Zn as downloadBuffer,Gr as encode_bool,Wr as encode_bytes,$r as encode_cstr,Ao as encode_ivar,fr as encode_ivar_array,Xr as encode_number,Rr as encode_number_array,qr as encode_str,To as encode_uvar,yr as encode_uvar_array,dr as encode_varint,Ie as encode_varint_array,J as env_le,ct as findLow,ut as findUp,pt as findUpOrLow,Ve as formatEach,Ne as getBGCanvas,Dr as getBGCtx,ga as getBase64ImageBody,ha as getBase64ImageHeader,Ta as getBase64ImageMIMEType,rt as getBoundingBox,Br as getDotPath,zr as getEnvironmentEndianess,De as getKeyPath,Fr as getUpOrLow,Is as hexStringOfArray,Ks as hexStringToArray,C as hex_fmt,ua as hsl_fmt,ca as hsla_fmt,va as intensityBitmap,rr as invertMap,Nt as invlerp,Ut as invlerpClamped,Mt as invlerpi,Ot as invlerpiClamped,xa as isBase64Image,be as isComplex,Gs as isDegrees,Fo as isIdentical,en as isPrimitive,Ls as isRadians,jr as isSubidentical,Po as isTypedArray,js as isUByte,zs as isUnitInterval,ce as kebabCase,Vs as kebabToCamel,Ms as kebabToSnake,Ft as lerp,wt as lerpClamped,kt as lerpi,Vt as lerpiClamped,Nr as lerpv,Ct as lerpvClamped,Bt as limp,Et as limpClamped,kr as low,E as makeCaseConverter,fe as max,Ma as memorize,ot as memorizeAfterN,Oa as memorizeAtmostN,ie as memorizeCore,Ba as memorizeLRU,za as memorizeMulti,Kr as memorizeMultiCore,ja as memorizeMultiWeak,Ea as memorizeOnce,Jt as meshGrid,Wt as meshMap,jt as min,_s as mod,v as modulo,Ye as monkeyPatchPrototypeOfClass,hs as mult,us as neg,Pt as noop,ye as number_MAX_VALUE,gt as number_NEGATIVE_INFINITY,At as number_POSITIVE_INFINITY,me as number_isInteger,X as object_assign,Ge as object_defineProperty,Le as object_getPrototypeOf,_t as object_keys,vt as object_values,_r as pack,jo as packSeq,Fs as pascalCase,ra as percent,N as percent_fmt,re as positiveRect,gs as pow,z as promise_resolve,L as prototypeOfClass,Pa as randomRGBA,Eo as readFrom,qo as recordArgsMap,Ho as recordMap,As as rem,W as resolveRange,sa as rgb_fmt,oa as rgb_hex_fmt,ia as rgba_fmt,aa as rgba_hex_fmt,Ht as rotateArray2DMajor,qt as rotateArray2DMinor,ks as screamingKebabCase,ws as screamingSnakeCase,Jo as sequenceArgsMap,V as sequenceMap,Er as setDotPath,cr as setKeyPath,Tr as sliceContinuous,wo as sliceContinuousTypedSubarray,Co as sliceIntervalLengths,No as sliceIntervalLengthsTypedSubarray,ko as sliceIntervals,Vo as sliceIntervalsTypedSubarray,Ko as sliceSkip,ke as sliceSkipTypedSubarray,ue as snakeCase,Ns as snakeToCamel,Os as snakeToKebab,Je as spliceArray2DMajor,We as spliceArray2DMinor,Io as splitTypedSubarray,je as string_fromCharCode,xs as sub,zt as sum,Do as swapEndianess,we as swapEndianessFast,Z as symbol_iterator,He as symbol_toStringTag,nt as throttle,Ua as throttleAndTrail,mt as tokenToWords,ns as transpose2D,qe as transposeArray2D,Pe as treeClass_Factory,Ra as trimImagePadding,Fe as typed_array_constructor_of,ta as ubyte,U as ubyte_fmt,na as udegree,Ce as udegree_fmt,vr as unpack,Go as unpackSeq,it as up,$a as vectorize0,Ha as vectorize1,qa as vectorize2,Ja as vectorize3,Wa as vectorize4,Ya as vectorize5,Za as vectorizeIndexHOF,Xa as vectorizeN,dt as wordsToToken,zo as writeTo};
