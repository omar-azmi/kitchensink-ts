Object.hasOwn||Object.defineProperty(Object,"hasOwn",{value:function(e,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),r)},configurable:!0,enumerable:!1,writable:!0});var Er=()=>{},C=e=>e.length===0,Ge=String.fromCharCode,le=e=>e.toUpperCase(),fe=e=>e.toLowerCase(),z=Promise.resolve.bind(Promise),_t=Promise.reject.bind(Promise),vt=()=>new Promise(Er),Rt=()=>{let e,r;return[new Promise((n,o)=>{e=n,r=o}),e,r]},{from:$e,isArray:He,of:Pt}=Array,{isInteger:be,MAX_VALUE:xe,NEGATIVE_INFINITY:St,POSITIVE_INFINITY:It}=Number,{assign:Q,defineProperty:qe,entries:Dt,fromEntries:Kt,keys:wt,getPrototypeOf:Je,values:kt}=Object,We=Date.now,{iterator:ee,toStringTag:Ye}=Symbol,L=setTimeout,re=clearTimeout,Ft=setInterval,Ct=clearInterval;var he=(e,r=-xe,t=xe)=>e<r?r:e>t?t:e,v=(e,r)=>(e%r+r)%r,Mt=(e,r,t)=>t*(r-e)+e,Bt=(e,r,t)=>(t<0?0:t>1?1:t)*(r-e)+e,Ot=(e,r,t,n)=>t*(r[n]-e[n])+e[n],Et=(e,r,t,n)=>(t<0?0:t>1?1:t)*(r[n]-e[n])+e[n],jr=(e,r,t)=>{let n=e.length,o=Array(n).fill(0);for(let a=0,s=e.length;a<s;a++)o[a]=t*(r[a]-e[a])+e[a];return o},jt=(e,r,t)=>jr(e,r,t<0?0:t>1?1:t),zt=(e,r,t)=>(t-e)/(r-e),Lt=(e,r,t)=>{let n=(t-e)/(r-e);return n<0?0:n>1?1:n},Gt=(e,r,t,n)=>(t[n]-e[n])/(r[n]-e[n]),$t=(e,r,t,n)=>{let o=(t[n]-e[n])/(r[n]-e[n]);return o<0?0:o>1?1:o},Ht=(e,r,t)=>r[0]+(t-e[0])*(r[1]-r[0])/(e[1]-e[0]),qt=(e,r,t)=>{let n=(t-e[0])/(e[1]-e[0]);return(n<0?0:n>1?1:n)*(r[1]-r[0])+r[0]},Jt=e=>{let r=0,t=e.length;for(let n=0;n<t;n++)r+=e[n];return r},Wt=(e,r)=>e<r?e:r,Te=(e,r)=>e>r?e:r;var G=e=>{let r=e.length,t=e[0]?.length??0;return[r,t]},Xe=e=>{let[r,t]=G(e),n=[];for(let o=0;o<t;o++)n[o]=[];for(let o=0;o<r;o++)for(let a=0;a<t;a++)n[a][o]=e[o][a];return n},Ze=(e,r,t,...n)=>{let[o,a]=G(e);return t??=Te(o-r,0),e.splice(r,t,...n)},Qe=(e,r,t,...n)=>{let[o,a]=G(e),s=n.length>0?Xe(n):Array(o).fill([]);return t??=Te(a-r,0),Xe(e.map((i,u)=>i.splice(r,t,...s[u])))},Qt=(e,r)=>{let[t,n]=G(e);if(r=v(r,t===0?1:t),r===0)return e;let o=Ze(e,t-r,r);return Ze(e,0,0,...o),e},en=(e,r)=>{let[t,n]=G(e);if(r=v(r,n===0?1:n),r===0)return e;let o=Qe(e,n-r,r);return Qe(e,0,0,...o),e},rn=(e,r)=>{let t=e.length,n=r.length,o=e.map(s=>Array(n).fill(s)),a=e.map(()=>r.slice());return[o,a]},tn=(e,r,t)=>{let n=r.length,o=t.length,a=Array(n).fill(void 0);for(let s=0;s<n;s++){let i=Array(o).fill(0),u=r[s];for(let p=0;p<o;p++)i[p]=e(u,t[p]);a[s]=i}return a};var te=e=>{let{x:r,y:t,width:n,height:o}=e;return n<0&&(n*=-1,r-=n),o<0&&(o*=-1,t-=o),{x:r,y:t,width:n,height:o}},$=e=>Je(e).constructor,sn=(e,...r)=>new($(e))(...r),O=e=>e.prototype,ge=e=>{let r=typeof e;return r==="object"||r==="function"},un=e=>!ge(e),er=(e,r,t)=>{qe(O(e),r,{value:t})};var mn=(e,...r)=>t=>e.bind(t,...r),c=(e,r,...t)=>n=>e[r].bind(n,...t),yn=(e,r,...t)=>r.bind(e,...t),K=(e,r,...t)=>e[r].bind(e,...t),m=O(Array),w=O(Map),F=O(Set),ne=O(String),ln=c(m,"at"),fn=c(m,"concat"),bn=c(m,"copyWithin"),xn=c(m,"entries"),hn=c(m,"every"),Tn=c(m,"fill"),gn=c(m,"filter"),An=c(m,"find"),_n=c(m,"findIndex"),vn=c(m,"findLast"),Rn=c(m,"findLastIndex"),Pn=c(m,"flat"),Sn=c(m,"flatMap"),In=c(m,"forEach"),Dn=c(m,"includes"),Kn=c(m,"indexOf"),wn=c(m,"join"),kn=c(m,"keys"),Fn=c(m,"lastIndexOf"),Cn=c(m,"map"),rr=c(m,"pop"),tr=c(m,"push"),Vn=c(m,"reduce"),Nn=c(m,"reduceRight"),Un=c(m,"reverse"),Mn=c(m,"shift"),Bn=c(m,"slice"),On=c(m,"some"),En=c(m,"sort"),jn=c(m,"splice"),zn=c(m,"unshift"),Ln=c(m,"toLocaleString"),Gn=c(m,"toReversed"),$n=c(m,"toSorted"),Hn=c(m,"toSpliced"),qn=c(m,"toString"),Jn=c(m,"values"),Wn=c(m,"with"),nr=c(m,"splice",0),Ae=c(m,"at",-1),H=c(F,"add"),Yn=c(F,"clear"),q=c(F,"delete"),Xn=c(F,"entries"),Zn=c(F,"forEach"),oe=c(F,"has"),Qn=c(F,"keys"),eo=c(F,"values"),ro=c(w,"clear"),_e=c(w,"delete"),ve=c(w,"entries"),Re=c(w,"forEach"),E=c(w,"get"),Pe=c(w,"has"),Se=c(w,"keys"),ae=c(w,"set"),Ie=c(w,"values"),to=c(ne,"at"),no=c(ne,"charAt"),J=c(ne,"charCodeAt"),oo=c(ne,"codePointAt");var co=(e,r="data.bin",t="application/octet-stream")=>{let n=new Blob([e],{type:t}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=r,o.click(),URL.revokeObjectURL(o.href),o.remove()},zr=e=>{let r=new FileReader;return new Promise((t,n)=>{r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})},Lr=e=>zr(e).then(r=>{let[t,n]=r.split(";base64,",2);return[t+";base64,",n]}),po=e=>Lr(e).then(r=>r[1]),mo=e=>{let r=atob(e),t=r.length,n=J(r),o=new Uint8Array(t);for(let a=0;a<t;a++)o[a]=n(a);return o},yo=e=>{let t=[];for(let n=0;n<e.length;n+=32766){let o=e.subarray(n,n+32766);t.push(Ge(...o))}return btoa(t.join(""))};var or=class{constructor(r){this.length=r;this.items=Array(r),this.back=r-1}items;front=0;back;count=0;static{ee}pushBack(...r){for(let t of r)this.count===this.length&&this.popFront(),this.items[this.back]=t,this.back=v(this.back-1,this.length),this.count++}pushFront(...r){for(let t of r)this.count===this.length&&this.popBack(),this.items[this.front]=t,this.front=v(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.items[v(this.back+1,this.length)]}getFront(){if(this.count!==0)return this.items[v(this.front-1,this.length)]}popBack(){if(this.count===0)return;this.back=v(this.back+1,this.length);let r=this.items[this.back];return this.items[this.back]=void 0,this.count--,r}popFront(){if(this.count===0)return;this.front=v(this.front-1,this.length);let r=this.items[this.front];return this.items[this.front]=void 0,this.count--,r}rotate(r){let{front:t,back:n,length:o,count:a,items:s}=this;if(a!==0){if(r=v(r,a),a<o)for(let i=0;i<r;i++){let u=v(n-i,o),p=v(t-i-1,o);s[u]=s[p],s[p]=void 0}this.front=v(t-r,o),this.back=v(n-r,o)}}reverse(){let r=this.count/2|0,{length:t,front:n,back:o,items:a}=this;for(let s=1;s<=r;s++){let i=v(o+s,t),u=v(n-s,t),p=a[i];a[i]=a[u],a[u]=p}}resolveIndex(r){return v(this.back+r+1,this.length)}at(r){return this.items[this.resolveIndex(r)]}replace(r,t){this.items[v(this.back+r+1,this.count)]=t}insert(r,t){this.count===this.length&&this.popFront();let n=this.resolveIndex(r);for(let o=this.front;o>n;o--)this.items[o]=this.items[o-1];this.items[n]=t,this.count++}},ar=e=>{let r=[];e.forEach(o=>{r.push(...o)});let t=new Map([...new Set(r)].map(o=>[o,new Set])),n=E(t);for(let[o,a]of e)a.forEach(s=>n(s).add(o));return t},sr=class{constructor(r,t){let n=r??(t?ar(t):new Map),o=t??(r?ar(r):new Map),a=ae(n),s=ae(o),i=_e(n),u=_e(o),p=n.size,d=o.size,f=Re(n),T=Re(o),y=E(n),l=E(o),h=Pe(n),b=Pe(o),g=ve(n),B=ve(o),ye=Se(n),R=Se(o),P=Ie(n),k=Ie(o),Ee=(x,...A)=>{let _=y(x)??(a(x,new Set)&&y(x)),S=oe(_),I=H(_);for(let D of A)S(D)||(I(D),l(D)?.add(x)||s(D,new Set([x])))},je=(x,...A)=>{let _=l(x)??(s(x,new Set)&&l(x)),S=oe(_),I=H(_);for(let D of A)S(D)||(I(D),y(D)?.add(x)||a(D,new Set([x])))},Or=()=>{n.clear(),o.clear()},ze=(x,A=!1)=>{let _=y(x);if(_){for(let S of _)l(S).delete(x);A?_.clear():A=i(x)}return A},Le=(x,A=!1)=>{let _=l(x);if(_){for(let S of _)y(S).delete(x);A?_.clear():A=u(x)}return A};Q(this,{fmap:n,rmap:o,size:p,rsize:d,forEach:f,rforEach:T,get:y,rget:l,has:h,rhas:b,entries:g,rentries:B,keys:ye,rkeys:R,values:P,rvalues:k,add:Ee,radd:je,clear:Or,delete:ze,rdelete:Le,remove:(x,...A)=>{let _=y(x);if(_){let S=q(_);for(let I of A)S(I)&&l(I).delete(x)}},rremove:(x,...A)=>{let _=l(x);if(_){let S=q(_);for(let I of A)S(I)&&y(I).delete(x)}},set:(x,A)=>(ze(x,!0),Ee(x,...A),this),rset:(x,A)=>(Le(x,!0),je(x,...A),this),[ee]:g,[Ye]:"InvertibleMap"})}},ir=class{constructor(r){let t,n=E(r),o=[],a=rr(o),s=tr(o),i=nr(o),u=Ae(o),p=new Map,d=E(p),f=ae(p),T=R=>{for(let P of n(R)??[]){let k=d(P);k?f(P,k+1):T(P)}f(R,1)},y=R=>{f(R,0);for(let P of n(R)??[]){let k=(d(P)??0)-1;k>-1&&(f(P,k),k<1&&y(P))}},l=()=>{i();for(let[R,P]of p)P>0&&s(R)},h=()=>(t=a(),t!==void 0&&f(t,0),t),b=(...R)=>{p.clear(),R.forEach(T),l()},g=(...R)=>{C(R)&&t!==void 0&&R.push(t),R.forEach(y),l()},B=()=>{p.clear(),i()},ye=function*(){for(t=h();t!==void 0;)yield t,t=h()};Q(this,{edges:r,stack:o,fire:b,block:g,clear:B,pop:h,seek:u,[ee]:ye})}},ur=class{constructor(r){let{rforEach:t,get:n,rget:o}=r,a=new Set,s=H(a),i=q(a),u={},p={},d=()=>{a.clear(),u={},p={},t((l,h)=>{u[h]=l.size})},f=(...l)=>{console.log(l),d(),l.forEach(s)},T=(...l)=>{let h=[];for(let b of l)i(b)&&n(b)?.forEach(g=>{let B=(u[g]??o(g)?.size??1)-1;B<=0&&h.push(g),u[g]=B});return h.forEach(s),console.log(h),h},y=(...l)=>{let h=[];for(let b of l)i(b),n(b)?.forEach(g=>{(p[g]=(p[g]??0)+1)>=(o(g)?.size??0)&&h.push(g)});return l.concat(C(h)?h:y(...h))};Q(this,{pending:a,clear:d,fire:f,resolve:T,reject:y})}},W=class{wmap=new WeakMap;smap=new Map;pick(r){return ge(r)?this.wmap:this.smap}get(r){return this.pick(r).get(r)}set(r,t){return this.pick(r).set(r,t),this}has(r){return this.pick(r).has(r)}delete(r){return this.pick(r).delete(r)}},Ke=Symbol("represents an unset value for a tree"),we=e=>class dr extends e{constructor(n=Ke){super();this.value=n}getDeep(n,o=!0){if(C(n))return this;let a=n.pop(),s=this.get(a);return!s&&o&&this.set(a,s=new dr),s?.getDeep(n,o)}setDeep(n,o,a=!0){let s=this.getDeep(n,a);return s&&(s.value=o),s}hasDeep(n){if(C(n))return!0;let o=n.pop();return this.get(o)?.hasDeep(n)??!1}delDeep(n){if(C(n))return!1;let[o,...a]=n;return this.getDeep(a,!1)?.delete(o)??!1}},_o=we(WeakMap),mr=we(Map),yr=we(W),De=class extends Array{$set=new Set;$add=H(this.$set);$del=q(this.$set);includes=oe(this.$set);top=Ae(this);fsync(){return super.splice(0),super.push(...this.$set)}rsync(){let{$set:r,$add:t}=this;return r.clear(),super.forEach(t),this.length}reset(r=[]){let{$set:t,$add:n}=this;t.clear(),r.forEach(n),this.fsync()}constructor(r){super(),this.reset(r)}pop(){let r=super.pop();return this.$del(r),r}push(...r){let t=this.includes,n=this.$add,o=r.filter(t);return o.forEach(n),super.push(...o)}pushFront(...r){return r.forEach(this.$del),r.forEach(this.$add),this.fsync()}shift(){let r=super.shift();return this.$del(r),r}unshift(...r){let t=this.includes,n=r.filter(t);return super.unshift(...n),this.rsync()}unshiftRear(...r){return this.delMany(...r),super.unshift(...r),this.rsync()}del(r){return this.$del(r)?(super.splice(super.indexOf(r),1),!0):!1}delMany(...r){r.forEach(this.$del),this.fsync()}},se=class extends Array{min;max;resize_cb;constructor(r,t,n){super(),this.min=r,this.max=t,this.resize_cb=n}resize(r){let t=this.length,n=t-this.max>0?t-this.min:0;if(n>0){let o=super.splice(0,n);this.resize_cb?.(o)}return r}push(...r){return this.resize(super.push(...r))}},cr=class extends De{min;max;resize_cb;constructor(r,t,n){super(),this.min=r,this.max=t,this.resize_cb=n}resize(r){let t=this.length,n=t-this.max>0?t-this.min:0;if(n>0){let o=super.splice(0,n);o.forEach(this.$del),this.resize_cb?.(o)}return r}push(...r){return this.resize(super.push(...r))}pushFront(...r){return this.resize(super.pushFront(...r))}},pr=class extends Array{chain=[];pending=[];onEmpty;constructor(r,{onEmpty:t,isEmpty:n}={}){super(),this.chain.push(...r),this.onEmpty=t,n&&t?.()}push(...r){let t=super.push(...r),n=this.chain;return this.pending.push(...r.map(o=>{n.forEach(([s,i])=>{o=o.then(s,i)});let a=()=>this.del(o);return o.then(a,a),o})),t}del(r){let t=this.pending,n=t.indexOf(r);return n>=0?(t.splice(n,1),super.splice(n,1),C(this)&&this.onEmpty?.(),!0):!1}};var ie,Gr=()=>{ie=new Int32Array(256);let e=-306674912;for(let r=0;r<256;r++){let t=r;for(let n=8;n>0;--n)t=t&1?t>>>1^e:t>>>1;ie[r]=t}},Po=(e,r)=>{r=r===void 0?4294967295:r^-1,ie===void 0&&Gr();for(let t=0;t<e.length;++t)r=ie[(r^e[t])&255]^r>>>8;return(r^-1)>>>0};var ke=(e,r)=>{let t=e;for(let n of r)t=t[n];return t},lr=(e,r,t)=>{let n=r.pop(),o=ke(e,r);return o[n]=t,e},Do=e=>[r=>ke(e,r),(r,t)=>lr(e,r,t)],$r=(e,r)=>ke(e,fr(r)),Hr=(e,r,t)=>lr(e,fr(r),t),Ko=e=>[r=>$r(e,r),(r,t)=>Hr(e,r,t)],fr=e=>e.split(".").map(r=>r==="0"?0:parseInt(r)||r);var br=(e,r)=>Fe([e],r),Fe=(e,r)=>r[0]==="u"?hr(e):gr(e),xr=(e,r,t)=>{let[n,o]=Ce(e,r,t,1);return[n[0],o]},Ce=(e,r,t,n)=>t[0]==="u"?Tr(e,r,n):Ar(e,r,n),hr=e=>{let r=e.length,t=[];for(let n=0;n<r;n++){let o=e[n];o=o*(o>=0?1:-1);let a=[];do a.push((o&127)+128),o>>=7;while(o>0);a[0]&=127,t.push(...a.reverse())}return Uint8Array.from(t)},Tr=(e,r=0,t)=>{t===void 0&&(t=1/0);let n=[],o=r,a=e.length,s=0;for(let i=e[r++];t>0&&r<a+1;i=e[r++])s<<=7,s+=i&127,i>>7||(n.push(s),t--,s=0);return r--,[n,r-o]},gr=e=>{let r=e.length,t=[];for(let n=0;n<r;n++){let o=e[n],a=o>=0?1:-1,s=[];for(o=o*a;o>63;)s.push((o&127)+128),o>>=7;s.push(o&63|(a==-1?192:128)),s[0]&=127,t.push(...s.reverse())}return Uint8Array.from(t)},Ar=(e,r=0,t)=>{t===void 0&&(t=1/0);let n=[],o=r,a=e.length,s=0,i=0;for(let u=e[r++];t>0&&r<a+1;u=e[r++])s===0?(s=(u&64)>0?-1:1,i=u&63):(i<<=7,i+=u&127),u>>7||(n.push(i*s),t--,s=0,i=0);return r--,[n,r-o]},Fo=e=>hr([e]),Co=(e,r=0)=>{let[t,n]=Tr(e,r,1);return[t[0],n]},Vo=e=>gr([e]),No=(e,r=0)=>{let[t,n]=Ar(e,r,1);return[t[0],n]};var Oo=e=>!!e.buffer,Ve=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array;default:return console.error('an unrecognized typed array type `"${type}"` was provided'),Uint8Array}},qr=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,Y=qr(),Eo=(e,r)=>{let t=e.byteLength;for(let n=0;n<t;n+=r)e.subarray(n,n+r).reverse();return e},Ne=(e,r)=>{let t=e.byteLength,n=new Uint8Array(t),o=r;for(let a=0;a<o;a++){let s=o-1-a*2;for(let i=a;i<t+a;i+=o)n[i]=e[i+s]}return n},_r=(...e)=>{let r=[0];for(let n of e)r.push(r[r.length-1]+n.length);let t=new Uint8Array(r.pop());for(let n of e)t.set(n,r.shift());return t},vr=(...e)=>{let r=[0];for(let n of e)r.push(r[r.length-1]+n.length);let t=new($(e[0]))(r.pop());for(let n of e)t.set(n,r.shift());return t};function X(e,r,t,n){return e??=0,n??=0,t===void 0?[e+n,r===void 0?r:r+n,t]:(r??=t,e+=e>=0?0:t,r+=r>=0?0:t,t=r-e,[e+n,r+n,t>=0?t:0])}var jo=(e,r)=>Ue(e,r),zo=(e,r,t=0,n,o)=>{[n,o]=X(n,o,e.length);let a=[];for(let s=n;s<o;s+=r+t)a.push(e.slice(s,s+r));return a},Ue=(e,r,t=0,n,o)=>{[n,o]=X(n,o,e.length);let a=[];for(let s=n;s<o;s+=r+t)a.push(e.subarray(s,s+r));return a},Lo=(e,r)=>e.length!==r.length?!1:Jr(e,r),Jr=(e,r)=>{let t=Math.min(e.length,r.length);for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0},Rr=(e,r)=>{let t=[];for(let n=1;n<r.length;n++)t.push(e.slice(r[n-1],r[n]));return t},Go=(e,r)=>{let t=[];for(let n=1;n<r.length;n++)t.push(e.subarray(r[n-1],r[n]));return t},$o=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.slice(r[n-1],r[n]));return t},Ho=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.subarray(r[n-1],r[n]));return t},qo=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.slice(r[n-1],r[n]===void 0?void 0:r[n-1]+r[n]));return t},Jo=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.subarray(r[n-1],r[n]===void 0?void 0:r[n-1]+r[n]));return t};var Pr=new TextEncoder,Sr=new TextDecoder,Qo=(e,r,t,...n)=>{let[o,a]=Dr(t,e,r,...n);return[o,r+a]},ea=(e,r,t,n,...o)=>{let a=Ir(t,n,...o);return e.set(a,r),[e,r+a.length]},ra=(...e)=>{let r=[];for(let t of e)r.push(Ir(...t));return _r(...r)},ta=(e,r,...t)=>{let n=[],o=0;for(let[a,...s]of t){let[i,u]=Dr(a,e,r+o,...s);n.push(i),o+=u}return[n,o]},Ir=(e,r,...t)=>{switch(e){case"bool":return Wr(r);case"cstr":return Xr(r);case"str":return Qr(r);case"bytes":return rt(r);default:return e[1]==="v"?e.endsWith("[]")?Fe(r,e):br(r,e):e.endsWith("[]")?Kr(r,e):nt(r,e)}},Dr=(e,r,t,...n)=>{switch(e){case"bool":return Yr(r,t);case"cstr":return Zr(r,t);case"str":return et(r,t,...n);case"bytes":return tt(r,t,...n);default:return e[1]==="v"?e.endsWith("[]")?Ce(r,t,e,...n):xr(r,t,e):e.endsWith("[]")?wr(r,t,e,...n):ot(r,t,e)}},Wr=e=>Uint8Array.of(e?1:0),Yr=(e,r=0)=>[e[r]>=1,1],Xr=e=>Pr.encode(e+"\0"),Zr=(e,r=0)=>{let t=e.indexOf(0,r),n=e.subarray(r,t);return[Sr.decode(n),n.length+1]},Qr=e=>Pr.encode(e),et=(e,r=0,t)=>{let n=t===void 0?void 0:r+t,o=e.subarray(r,n);return[Sr.decode(o),o.length]},rt=e=>e,tt=(e,r=0,t)=>{let n=t===void 0?void 0:r+t,o=e.slice(r,n);return[o,o.length]},Kr=(e,r)=>{let[t,n,o]=r,a=Ve(r),s=parseInt(n),i=!!(o==="l"&&Y||o==="b"&&!Y||s===1),u=a.from(e);if(u instanceof Uint8Array)return u;let p=new Uint8Array(u.buffer);return i?p:Ne(p,s)},wr=(e,r=0,t,n)=>{let[o,a,s]=t,i=parseInt(a),u=!!(s==="l"&&Y||s==="b"&&!Y||i===1),p=n?i*n:void 0,d=e.slice(r,p?r+p:void 0),f=d.length,T=Ve(t),y=new T(u?d.buffer:Ne(d,i).buffer);return[Array.from(y),f]},nt=(e,r)=>Kr([e],r),ot=(e,r=0,t)=>{let[n,o]=wr(e,r,t,1);return[n[0],o]};var aa=(e,r)=>{let t={};for(let n in e)t[n]=e[n](r[n]);return t},sa=(e,r)=>{let t={};for(let n in e)t[n]=e[n](...r[n]);return t},V=(e,r)=>{let t=[];for(let n=0;n<e.length;n++)t.push(e[n](r[n]));return t},ia=(e,r)=>{let t=[];for(let n=0;n<e.length;n++)t.push(e[n](...r[n]));return t};var Me=(e,r)=>He(r)?r.map(e):e(r),U=e=>((e??1)*100).toFixed(0)+"%",la=e=>Me(U,e),M=e=>he(e??0,0,255).toFixed(0),fa=e=>Me(M,e),Be=e=>(e??0).toFixed(1)+"deg",ba=e=>Me(Be,e),N=e=>(e<16?"0":"")+(e|0).toString(16),at=[N,N,N],xa=e=>"#"+V(at,e).join(""),st=[N,N,N,e=>N(he((e??1)*255,0,255))],ha=e=>"#"+V(st,e).join(""),Ta=e=>"rgb("+V([M,M,M],e).join(",")+")",ga=e=>"rgba("+V([M,M,M,U],e).join(",")+")",Aa=e=>"hsl("+V([Be,U,U],e).join(",")+")",_a=e=>"hsla("+V([Be,U,U,U],e).join(",")+")";var kr,ue,Oe=(e,r)=>(kr??=new OffscreenCanvas(e??10,r??10),kr),Fr=(e,r)=>(ue===void 0&&(ue=Oe(e,r).getContext("2d",{willReadFrequently:!0}),ue.imageSmoothingEnabled=!1),ue),wa=e=>e===void 0?!1:e.startsWith("data:image/"),ka=e=>e.slice(0,e.indexOf(";base64,")+8),Fa=e=>e.slice(5,e.indexOf(";base64,")),Ca=e=>e.substring(e.indexOf(";base64,")+8),Va=async(e,r,t,n,o)=>{t&&(t=te(t));let a=await Z(e,r),s=t?await createImageBitmap(a,t.x,t.y,t.width,t.height,n):await createImageBitmap(a,n),i=Oe(),u=Fr();return i.width=s.width,i.height=s.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(s,0,0),i.convertToBlob(o)},Na=async(e,r,t,n,o)=>{t&&(t=te(t));let a=await Z(e,r),s=t?await createImageBitmap(a,t.x,t.y,t.width,t.height,n):await createImageBitmap(a,n),i=Oe(),u=Fr();return i.width=s.width,i.height=s.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(s,0,0),u.getImageData(0,0,s.width,s.height,o)},Z=(e,r)=>{if(typeof e=="string"){let t=new Image;return t.src=e,t.decode().then(()=>t)}else{if(e instanceof Uint8ClampedArray)return z(new ImageData(e,r));if(ArrayBuffer.isView(e))return Z(new Uint8ClampedArray(e.buffer),r);if(e instanceof ArrayBuffer)return Z(new Uint8ClampedArray(e),r);if(e instanceof Array)return Z(Uint8ClampedArray.from(e),r)}return z(e)},Ua=(e,r,t,n=1)=>{let o=e.length/r,a=new Uint8ClampedArray(o).fill(1),s=new Uint8ClampedArray(o);if(t!==void 0){for(let i=0;i<o;i++)a[i]=e[i*r+t]<n?0:1;e=e.filter((i,u)=>u%r!==t),r--}for(let i=0;i<r;i++)for(let u=0;u<o;u++)s[u]+=e[u*r+i];if(t!==void 0)for(let i=0;i<o;i++)s[i]*=a[i];return new Uint8Array(s.buffer)},it=(e,r,t=1)=>{let{width:n,height:o,data:a}=e,s=a.length/(n*o),i=l=>a.subarray(l*n*s,(l*n+n)*s),u=l=>{let h=new Uint8Array(o*s);for(let b=0;b<o;b++)for(let g=0;g<s;g++)h[b*s+g]=a[(b*n+l)*s+g];return h},p=l=>{let h=0;for(let b=0,g=l.length;b<g;b+=s)h+=r(l[b+0],l[b+1],l[b+2],l[b+3]);return h};console.assert(be(s));let[d,f,T,y]=[0,0,o,n];for(;d<o&&!(p(i(d))>=t);d++);for(;T>=d&&!(p(i(T))>=t);T--);for(;f<n&&!(p(u(f))>=t);f++);for(;y>=f&&!(p(u(y))>=t);y--);return{x:f,y:d,width:y-f,height:T-d}},ut=(e,r)=>{let{width:t,height:n,data:o}=e,a=o.length/(t*n),s=te({x:0,y:0,width:t,height:n,...r}),[i,u,p,d]=[s.y,s.x,s.y+s.height,s.x+s.width];console.assert(be(a));let f=s.width*a,T=(t-d+(u-0))*a,y=(i*t+u)*a,l=((p-1)*t+d)*a,h=Ue(o,f,T,y,l),b=vr(...h);return a===4?new ImageData(b,s.width,s.height):{width:s.width,height:s.height,data:b,colorSpace:e.colorSpace??"srgb"}},Ma=(e,r,t=1)=>ut(e,it(e,r,t)),Ba=(e,r)=>{let{x:t,y:n,width:o,channels:a}=e,{x:s,y:i,width:u,channels:p}=r,d=(s??0)-(t??0),f=(i??0)-(n??0);return T=>p*(T/a%o-d+((T/a/o|0)-f)*u)},Oa=e=>{console.error("not implemented")};var Cr=Symbol("a rejection by a throttled function"),ct=Symbol("a timeout by an awaited promiseTimeout function"),qa=(e,r,t)=>{let n,o=()=>{};return(...a)=>(re(n),t!==void 0&&o(t),new Promise((s,i)=>{o=i,n=L(()=>s(r(...a)),e)}))},Ja=(e,r)=>{let t,n,o,a=s=>(o=new Promise((i,u)=>n=i).then(a),s);return a(),(...s)=>(re(t),t=L(()=>n(r(...s)),e),o)},pt=(e,r)=>{let t=0;return(...n)=>{let o=We();return o-t>e?(t=o,r(...n)):Cr}},Wa=(e,r,t,n)=>{let o,a=()=>{},s=pt(r,t);return(...i)=>{re(o),n!==void 0&&a(n);let u=s(...i);return u===Cr?new Promise((p,d)=>{a=d,o=L(()=>p(t(...i)),e)}):z(u)}},Ya=(e,r)=>new Promise((t,n)=>{L(r?n:t,e,ct)}),ce=(e,r=!1)=>{let t=r?new W:new Map,n=K(t,"get"),o=K(t,"set"),a=K(t,"has");return{fn:i=>{let u=a(i),p=u?n(i):e(i);return u||o(i,p),p},memory:t}},Xa=e=>ce(e).fn,Za=(e,r)=>{let t=ce(r),n=K(t.memory,"has"),o=t.fn;return s=>n(s)||--e>=0?o(s):r(s)},dt=(e,r,t)=>{let n=ce(r),o=K(n.memory,"has"),a=n.fn;return i=>{let u=o(i)||--e>=0?a(i):t;return e===0&&(t??=u),u}},Qa=(e,r,t)=>{let n=ce(t),o=K(n.memory,"has"),a=K(n.memory,"delete"),s=n.fn,i=new se(e,r,d=>{d.forEach(a)}),u=K(i,"push");return d=>(o(d)||u(d),s(d))},es=e=>dt(1,e),Vr=(e,r=!1)=>{let t=r?new yr:new mr;return{fn:(...o)=>{let a=t.getDeep(o.toReversed()),s=a.value!==Ke,i=s?a.value:e(...o);return s||(a.value=i),i},memory:t}},rs=e=>Vr(e,!1).fn,ts=e=>Vr(e,!0).fn,mt=(e,r)=>e.length>1?t=>mt(e.bind(void 0,t)):e.bind(r),yt=(e,r,t=e.length)=>(...n)=>{t-=n.length;let o=e.bind(void 0,...n);return t<=0?o.call(r):yt(o,r,t)};var as=(e,r)=>{for(let t=0;t<r.length;t++)r[t]=e()},ss=(e,r,t)=>{for(let n=0;n<r.length;n++)r[n]=e(t[n])},is=(e,r,t,n)=>{for(let o=0;o<r.length;o++)r[o]=e(t[o],n[o])},us=(e,r,t,n,o)=>{for(let a=0;a<r.length;a++)r[a]=e(t[a],n[a],o[a])},cs=(e,r,t,n,o,a)=>{for(let s=0;s<r.length;s++)r[s]=e(t[s],n[s],o[s],a[s])},ps=(e,r,t,n,o,a,s)=>{for(let i=0;i<r.length;i++)r[i]=e(t[i],n[i],o[i],a[i],s[i])},ds=(e,r,...t)=>{let n=t.length,o=Array(n).fill(0);for(let a=0;a<r.length;a++){for(let s=0;s<n;s++)o[s]=t[s][a];r[a]=e(...o)}},ms=(e,r,...t)=>{let n=e(...t);for(let o=0;o<r.length;o++)r[o]=n(o)};var xs=e=>e[0].map((r,t)=>e.map(n=>n[t])),hs=(e,r,t)=>{[r,t]=X(r,t,e.length);let n=e.slice(r+1,t);for(let o=0;o<n.length;o++)n[o]-=e[r+o-1];return n},Ts=(e,r,t)=>{[r,t]=X(r,t,e.length);let n=e.slice(r,t-1);for(let o=0;o<n.length;o++)n[o]-=e[r+o+1];return n},gs=e=>{let r=e.length,t=new($(e))(r+1).fill(0);for(let n=0;n<r;n++)t[n+1]=t[n]+e[n];return t};var As=(e,r=0,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]*=e[n]<0?-1:1;return e},_s=(e,r=0,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]*=-1;return e},vs=(e,r,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]=~e[n];return e},Rs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]&=r;return e},Ps=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]|=r;return e},Ss=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]^=r;return e},Is=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]<<=r;return e},Ds=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]>>=r;return e},Ks=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]>>>=r;return e},ws=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]+=r;return e},ks=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]-=r;return e},Fs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]*=r;return e},Cs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]/=r;return e},Vs=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]**=r;return e},Ns=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]%=r;return e},Us=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]=(e[o]%r+r)%r;return e};var Ur={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},Ls=(e,r)=>{let{sep:t,prefix:n,postfix:o,trailingSep:a,bra:s,ket:i,toUpperCase:u,radix:p}={...Ur,...r},d=e.buffer?$e(e):e,f=d.map(T=>{let y=(T|0).toString(p);return y=y.length===2?y:"0"+y,u?le(y):y}).reduce((T,y)=>T+n+y+o+t,"");return s+f.slice(0,a?void 0:-t.length)+i},Gs=(e,r)=>{let{sep:t,prefix:n,postfix:o,bra:a,ket:s,radix:i}={...Ur,...r},[u,p,d,f,T]=[t,n,o,a,s].map(b=>b.length),y=e.slice(f,T>0?-T:void 0),l=p+2+d+u,h=[];for(let b=p;b<y.length;b+=l)h.push(parseInt(y[b]+y[b+1],i));return h},Nr=(e,r)=>r===1?le(e):r===-1?fe(e):e,lt=(e,r=0,t=void 0)=>{t=(t<e.length?t:e.length)-1;let n=J(e),o;for(;o=n(r++);)if(o>64&&o<91)return r-1},ft=(e,r=0,t=void 0)=>{t=(t<e.length?t:e.length)-1;let n=J(e),o;for(;o=n(r++);)if(o>96&&o<123)return r-1},bt=(e,r,t=0,n=void 0)=>r===1?lt(e,t,n):r===-1?ft(e,t,n):void 0,Mr=(e,r)=>{let[t,n,o,a="",s="",i=""]=e,u=r.length-1;return r.map((d,f)=>{let T=Nr(d[0],f>0?n:t),y=Nr(d.slice(1),o),l=f<u?a:"";return T+y+l}).reduce((d,f)=>d+f,s)+i},Br=(e,r)=>{let[,t,,n="",o="",a=""]=e;r=r.slice(o.length,-a.length||void 0);let s;if(n===""){let i=[0],u=0;for(;u!==void 0;)u=bt(r,t,u+1),i.push(u);s=Rr(r,i)}else s=r.split(n);return s.map(i=>fe(i))},$s=(e,r,t)=>Mr(r,Br(e,t)),j=(e,r)=>{let t=Mr.bind(void 0,r),n=Br.bind(void 0,e);return o=>t(n(o))},pe=[-1,-1,-1,"_"],de=[-1,-1,-1,"-"],me=[-1,1,-1,""],Hs=[1,1,-1,""],qs=[1,1,1,"_"],Js=[1,1,1,"-"],Ws=j(de,me),Ys=j(me,de),Xs=j(pe,me),Zs=j(me,pe),Qs=j(de,pe),ei=j(pe,de);var ni=e=>e>=0&&e<=1,oi=e=>e>=0&&e<=255&&e===(e|0),ai=e=>e>=0&&e<=360,si=e=>e>=0&&e<=Math.PI;export{G as Array2DShape,pr as ChainedPromiseQueue,Po as Crc32,or as Deque,yr as HybridTree,W as HybridWeakMap,sr as InvertibleMap,se as LimitedStack,cr as LimitedStackSet,De as StackSet,mr as StrongTree,Cr as THROTTLE_REJECT,ct as TIMEOUT,Ke as TREE_VALUE_UNSET,ur as TopologicalAsyncScheduler,ir as TopologicalScheduler,_o as WeakTree,As as abs,ws as add,$e as array_from,He as array_isArray,C as array_isEmpty,Pt as array_of,Rs as band,mo as base64BodyToBytes,vs as bcomp,Ko as bindDotPathTo,Do as bindKeyPathTo,mn as bindMethodFactory,c as bindMethodFactoryByName,yn as bindMethodToSelf,K as bindMethodToSelfByName,ln as bind_array_at,nr as bind_array_clear,fn as bind_array_concat,bn as bind_array_copyWithin,xn as bind_array_entries,hn as bind_array_every,Tn as bind_array_fill,gn as bind_array_filter,An as bind_array_find,_n as bind_array_findIndex,vn as bind_array_findLast,Rn as bind_array_findLastIndex,Pn as bind_array_flat,Sn as bind_array_flatMap,In as bind_array_forEach,Dn as bind_array_includes,Kn as bind_array_indexOf,wn as bind_array_join,kn as bind_array_keys,Fn as bind_array_lastIndexOf,Cn as bind_array_map,rr as bind_array_pop,tr as bind_array_push,Vn as bind_array_reduce,Nn as bind_array_reduceRight,Un as bind_array_reverse,Mn as bind_array_shift,Bn as bind_array_slice,On as bind_array_some,En as bind_array_sort,jn as bind_array_splice,Ln as bind_array_toLocaleString,Gn as bind_array_toReversed,$n as bind_array_toSorted,Hn as bind_array_toSpliced,qn as bind_array_toString,zn as bind_array_unshift,Jn as bind_array_values,Wn as bind_array_with,ro as bind_map_clear,_e as bind_map_delete,ve as bind_map_entries,Re as bind_map_forEach,E as bind_map_get,Pe as bind_map_has,Se as bind_map_keys,ae as bind_map_set,Ie as bind_map_values,H as bind_set_add,Yn as bind_set_clear,q as bind_set_delete,Xn as bind_set_entries,Zn as bind_set_forEach,oe as bind_set_has,Qn as bind_set_keys,eo as bind_set_values,Ae as bind_stack_seek,to as bind_string_at,no as bind_string_charAt,J as bind_string_charCodeAt,oo as bind_string_codePointAt,zr as blobToBase64,po as blobToBase64Body,Lr as blobToBase64Split,Is as blsh,Ps as bor,Ds as brsh,Ks as bursh,Ss as bxor,yo as bytesToBase64Body,me as camelCase,Ys as camelToKebab,Zs as camelToSnake,he as clamp,_r as concatBytes,vr as concatTyped,sn as constructFrom,Z as constructImageBitmapSource,Va as constructImageBlob,Na as constructImageData,$ as constructorOf,$s as convertCase,j as convertCase_Factory,Ba as coordinateTransformer,ut as cropImageData,gs as cumulativeSum,mt as curry,yt as curryMulti,We as date_now,qa as debounce,Ja as debounceAndShare,Yr as decode_bool,tt as decode_bytes,Zr as decode_cstr,No as decode_ivar,Ar as decode_ivar_array,ot as decode_number,wr as decode_number_array,et as decode_str,Co as decode_uvar,xr as decode_varint,Ce as decode_varint_array,hs as diff,Ts as diff_right,Cs as div,Ct as dom_clearInterval,re as dom_clearTimeout,Ft as dom_setInterval,L as dom_setTimeout,fr as dotPathToKeyPath,co as downloadBuffer,Wr as encode_bool,rt as encode_bytes,Xr as encode_cstr,Vo as encode_ivar,gr as encode_ivar_array,nt as encode_number,Kr as encode_number_array,Qr as encode_str,Fo as encode_uvar,hr as encode_uvar_array,br as encode_varint,Fe as encode_varint_array,Y as env_is_little_endian,ft as findNextLowerCase,lt as findNextUpperCase,bt as findNextUpperOrLowerCase,Me as formatEach,Oe as getBGCanvas,Fr as getBGCtx,Ca as getBase64ImageBody,ka as getBase64ImageHeader,Fa as getBase64ImageMIMEType,it as getBoundingBox,$r as getDotPath,qr as getEnvironmentEndianess,ke as getKeyPath,Ls as hexStringOfArray,Gs as hexStringToArray,N as hex_fmt,Aa as hsl_fmt,_a as hsla_fmt,Ua as intensityBitmap,ar as invertMap,zt as invlerp,Lt as invlerpClamped,Gt as invlerpi,$t as invlerpiClamped,wa as isBase64Image,ge as isComplex,ai as isDegrees,Lo as isIdentical,un as isPrimitive,si as isRadians,Jr as isSubidentical,Oo as isTypedArray,oi as isUByte,ni as isUnitInterval,de as kebabCase,Ws as kebabToCamel,Qs as kebabToSnake,Mt as lerp,Bt as lerpClamped,Ot as lerpi,Et as lerpiClamped,jr as lerpv,jt as lerpvClamped,Ht as limp,qt as limpClamped,Te as max,Xa as memorize,dt as memorizeAfterN,Za as memorizeAtmostN,ce as memorizeCore,Qa as memorizeLRU,rs as memorizeMulti,Vr as memorizeMultiCore,ts as memorizeMultiWeak,es as memorizeOnce,rn as meshGrid,tn as meshMap,Wt as min,Us as mod,v as modulo,er as monkeyPatchPrototypeOfClass,Fs as mult,_s as neg,Er as noop,xe as number_MAX_VALUE,St as number_NEGATIVE_INFINITY,It as number_POSITIVE_INFINITY,be as number_isInteger,Q as object_assign,qe as object_defineProperty,Dt as object_entries,Kt as object_fromEntries,Je as object_getPrototypeOf,wt as object_keys,kt as object_values,Ir as pack,ra as packSeq,Hs as pascalCase,la as percent,U as percent_fmt,te as positiveRect,Vs as pow,Ya as promiseTimeout,vt as promise_forever,Rt as promise_outside,_t as promise_reject,z as promise_resolve,O as prototypeOfClass,Oa as randomRGBA,Qo as readFrom,sa as recordArgsMap,aa as recordMap,Ns as rem,X as resolveRange,Ta as rgb_fmt,xa as rgb_hex_fmt,ga as rgba_fmt,ha as rgba_hex_fmt,Qt as rotateArray2DMajor,en as rotateArray2DMinor,Js as screamingKebabCase,qs as screamingSnakeCase,ia as sequenceArgsMap,V as sequenceMap,Hr as setDotPath,lr as setKeyPath,Rr as sliceContinuous,Go as sliceContinuousTypedSubarray,qo as sliceIntervalLengths,Jo as sliceIntervalLengthsTypedSubarray,$o as sliceIntervals,Ho as sliceIntervalsTypedSubarray,zo as sliceSkip,Ue as sliceSkipTypedSubarray,pe as snakeCase,Xs as snakeToCamel,ei as snakeToKebab,Ze as spliceArray2DMajor,Qe as spliceArray2DMinor,jo as splitTypedSubarray,Ge as string_fromCharCode,fe as string_toLowerCase,le as string_toUpperCase,ks as sub,Jt as sum,Eo as swapEndianess,Ne as swapEndianessFast,ee as symbol_iterator,Ye as symbol_toStringTag,pt as throttle,Wa as throttleAndTrail,Nr as toUpperOrLowerCase,Br as tokenToWords,xs as transpose2D,Xe as transposeArray2D,we as treeClass_Factory,Ma as trimImagePadding,Ve as typed_array_constructor_of,fa as ubyte,M as ubyte_fmt,ba as udegree,Be as udegree_fmt,Dr as unpack,ta as unpackSeq,as as vectorize0,ss as vectorize1,is as vectorize2,us as vectorize3,cs as vectorize4,ps as vectorize5,ms as vectorizeIndexHOF,ds as vectorizeN,Mr as wordsToToken,ea as writeTo};
