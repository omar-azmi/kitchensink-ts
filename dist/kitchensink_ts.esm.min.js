var ne=async(e,r="data.bin",n="application/octet-stream")=>{let t=new Blob([e],{type:n}),o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=r,o.click(),URL.revokeObjectURL(o.href)};var f,L=()=>{f=new Int32Array(256);let e=-306674912;for(let r=0;r<256;r++){let n=r;for(let t=8;t>0;--t)n=n&1?n>>>1^e:n>>>1;f[r]=n}},oe=(e,r)=>{r=r===void 0?4294967295:r^-1,f===void 0&&L();for(let n=0;n<e.length;++n)r=f[(r^e[n])&255]^r>>>8;return(r^-1)>>>0};var F=(e,r)=>h([e],r),h=(e,r)=>r[0]==="u"?k(e):J(e),U=(e,r,n)=>{let[t,o]=T(e,r,n,1);return[t[0],o]},T=(e,r,n,t)=>n[0]==="u"?O(e,r,t):B(e,r,t),k=e=>{let r=e.length,n=[];for(let t=0;t<r;t++){let o=e[t];o=o*(o>=0?1:-1);let u=[];do u.push((o&127)+128),o>>=7;while(o>0);u[0]&=127,n.push(...u.reverse())}return Uint8Array.from(n)},O=(e,r=0,n)=>{n===void 0&&(n=1/0);let t=[],o=r,u=e.length,i=0;for(let c=e[r++];n>0&&r<u+1;c=e[r++])i<<=7,i+=c&127,c>>7===0&&(t.push(i),n--,i=0);return r--,[t,r-o]},J=e=>{let r=e.length,n=[];for(let t=0;t<r;t++){let o=e[t],u=o>=0?1:-1,i=[];for(o=o*u;o>63;)i.push((o&127)+128),o>>=7;i.push(o&63|(u==-1?192:128)),i[0]&=127,n.push(...i.reverse())}return Uint8Array.from(n)},B=(e,r=0,n)=>{n===void 0&&(n=1/0);let t=[],o=r,u=e.length,i=0,c=0;for(let a=e[r++];n>0&&r<u+1;a=e[r++])i===0?(i=(a&64)>0?-1:1,c=a&63):(c<<=7,c+=a&127),a>>7===0&&(t.push(c*i),n--,i=0,c=0);return r--,[t,r-o]};var ce=e=>!!e.buffer,_=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array;default:return console.error('an unrecognized typed array type `"${type}"` was provided'),Uint8Array}},H=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,A=H(),ae=(e,r)=>{let n=e.byteLength;for(let t=0;t<n;t+=r)e.subarray(t,t+r).reverse();return e},N=(e,r)=>{let n=e.byteLength,t=new Uint8Array(n),o=r;for(let u=0;u<o;u++){let i=o-1-u*2;for(let c=u;c<n+u;c+=o)t[c]=e[c+i]}return t},D=(...e)=>{let r=[0];for(let t of e)r.push(r[r.length-1]+t.length);let n=new Uint8Array(r.pop());for(let t of e)n.set(t,r.shift());return n},se=(...e)=>{let r=[0];for(let t of e)r.push(r[r.length-1]+t.length);let n=new e[0].constructor(r.pop());for(let t of e)n.set(t,r.shift());return n};function l(e,r,n,t){return e=e??0,t=t??0,n===void 0?[e+t,r===void 0?r:r+t,n]:(r=r??n,e+=e>=0?0:n,r+=r>=0?0:n,n=r-e,[e+t,r+t,n>=0?n:0])}var me=(e,r)=>M(e,r),ye=(e,r,n=0,t,o)=>{[t,o]=l(t,o,e.length);let u=[];for(let i=t;i<o;i+=r+n)u.push(e.slice(i,i+r));return u},M=(e,r,n=0,t,o)=>{[t,o]=l(t,o,e.length);let u=[];for(let i=t;i<o;i+=r+n)u.push(e.subarray(i,i+r));return u},pe=(e,r)=>e.length!==r.length?!1:G(e,r),G=(e,r)=>{let n=Math.min(e.length,r.length);for(let t=0;t<n;t++)if(e[t]!==r[t])return!1;return!0};var w=new TextEncoder,S=new TextDecoder,le=(e,r,n,...t)=>{let[o,u]=z(n,e,r,...t);return[o,r+u]},xe=(e,r,n,t,...o)=>{let u=P(n,t,...o);return e.set(u,r),[e,r+u.length]},fe=(...e)=>{let r=[];for(let n of e)r.push(P(...n));return D(...r)},ge=(e,r,...n)=>{let t=[],o=0;for(let[u,...i]of n){let[c,a]=z(u,e,r+o,...i);t.push(c),o+=a}return[t,o]},P=(e,r,...n)=>{switch(e){case"bool":return $(r);case"cstr":return j(r);case"str":return K(r);case"bytes":return X(r);default:return e[1]==="v"?e.endsWith("[]")?h(r,e):F(r,e):e.endsWith("[]")?R(r,e):Z(r,e)}},z=(e,r,n,...t)=>{switch(e){case"bool":return W(r,n);case"cstr":return q(r,n);case"str":return Q(r,n,...t);case"bytes":return Y(r,n,...t);default:return e[1]==="v"?e.endsWith("[]")?T(r,n,e,...t):U(r,n,e):e.endsWith("[]")?C(r,n,e,...t):ee(r,n,e)}},$=e=>Uint8Array.of(e?1:0),W=(e,r=0)=>[e[r]>=1,1],j=e=>w.encode(e+"\0"),q=(e,r=0)=>{let n=e.indexOf(0,r),t=e.subarray(r,n);return[S.decode(t),t.length+1]},K=e=>w.encode(e),Q=(e,r=0,n)=>{let t=n===void 0?void 0:r+n,o=e.subarray(r,t);return[S.decode(o),o.length]},X=e=>e,Y=(e,r=0,n)=>{let t=n===void 0?void 0:r+n,o=e.slice(r,t);return[o,o.length]},R=(e,r)=>{let[n,t,o]=r,u=_(r),i=parseInt(t),c=!!(o==="l"&&A||o==="b"&&!A||i===1),a=u.from(e);if(a instanceof Uint8Array)return a;let m=new Uint8Array(a.buffer);return c?m:N(m,i)},C=(e,r=0,n,t)=>{let[o,u,i]=n,c=parseInt(u),a=!!(i==="l"&&A||i==="b"&&!A||c===1),m=t?c*t:void 0,p=e.slice(r,m?r+m:void 0),b=p.length,y=_(n),s=new y(a?p.buffer:N(p,c).buffer);return[Array.from(s),b]},Z=(e,r)=>R([e],r),ee=(e,r=0,n)=>{let[t,o]=C(e,r,n,1);return[t[0],o]};var V=e=>{let{x:r,y:n,width:t,height:o}=e;return t<0&&(t*=-1,r-=t),o<0&&(o*=-1,n-=o),{x:r,y:n,width:t,height:o}};var g,x,re=()=>{g=document.createElement("canvas"),x=g.getContext("2d")},ve=(e,r)=>{let{width:n,height:t,x:o,y:u}=V({x:0,y:0,width:Number(e.width),height:Number(e.height),...r});return x||re(),g.width=n,g.height=t,x.clearRect(0,0,n,t),x.drawImage(e,-o,-u),x.getImageData(0,0,n,t)},Fe=(e,r,n,t=1)=>{let o=e.length/r,u=new Uint8ClampedArray(o).fill(1),i=new Uint8ClampedArray(o);if(n!==void 0){for(let c=0;c<o;c++)u[c]=e[c*r+n]<t?0:1;e=e.filter((c,a)=>a%r!==n),r--}for(let c=0;c<r;c++)for(let a=0;a<o;a++)i[a]+=e[a*r+c];if(n!==void 0)for(let c=0;c<o;c++)i[c]*=u[c];return new Uint8Array(i.buffer)},Ue=e=>{console.error("not implemented")};var we=(e,r)=>{for(let n=0;n<r.length;n++)r[n]=e()},Se=(e,r,n)=>{for(let t=0;t<r.length;t++)r[t]=e(n[t])},Pe=(e,r,n,t)=>{for(let o=0;o<r.length;o++)r[o]=e(n[o],t[o])},ze=(e,r,n,t,o)=>{for(let u=0;u<r.length;u++)r[u]=e(n[u],t[u],o[u])},Re=(e,r,n,t,o,u)=>{for(let i=0;i<r.length;i++)r[i]=e(n[i],t[i],o[i],u[i])},Ce=(e,r,n,t,o,u,i)=>{for(let c=0;c<r.length;c++)r[c]=e(n[c],t[c],o[c],u[c],i[c])},Ve=(e,r,...n)=>{let t=n.length,o=Array(t).fill(0);for(let u=0;u<r.length;u++){for(let i=0;i<t;i++)o[i]=n[i][u];r[u]=e(...o)}},Ee=(e,r,...n)=>{let t=e(...n);for(let o=0;o<r.length;o++)r[o]=t(o)};var ke=e=>e[0].map((r,n)=>e.map(t=>t[n])),Oe=(e,r,n)=>{[r,n]=l(r,n,e.length);let t=e.slice(r+1,n);for(let o=0;o<t.length;o++)t[o]-=e[r+o-1];return t},Je=(e,r,n)=>{[r,n]=l(r,n,e.length);let t=e.slice(r,n-1);for(let o=0;o<t.length;o++)t[o]-=e[r+o+1];return t};var Be=(e,r=0,n)=>{r=r??0,n=n??e.length;for(let t=r;t<n;t++)e[t]*=e[t]<0?-1:1;return e},He=(e,r=0,n)=>{r=r??0,n=n??e.length;for(let t=r;t<n;t++)e[t]*=-1;return e},Me=(e,r,n)=>{r=r??0,n=n??e.length;for(let t=r;t<n;t++)e[t]=~e[t];return e},Ge=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]&=r;return e},$e=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]|=r;return e},We=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]^=r;return e},je=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]<<=r;return e},qe=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]>>=r;return e},Ke=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]>>>=r;return e},Qe=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]+=r;return e},Xe=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]-=r;return e},Ye=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]*=r;return e},Ze=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]/=r;return e},er=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]**=r;return e},rr=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]%=r;return e},nr=(e,r,n,t)=>{n=n??0,t=t??e.length;for(let o=n;o<t;o++)e[o]=(e[o]%r+r)%r;return e};var E={sep:", ",prefix:"0x",postfix:"",trailing_sep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},or=(e,r)=>{let{sep:n,prefix:t,postfix:o,trailing_sep:u,bra:i,ket:c,toUpperCase:a,radix:m}={...E,...r},p=e.buffer?Array.from(e):e,b=p.map(y=>{let s=(y|0).toString(m);return s=s.length===2?s:"0"+s,a?s.toUpperCase():s}).reduce((y,s)=>y+t+s+o+n,"");return i+b.slice(0,u?void 0:-n.length)+c},ur=(e,r)=>{let{sep:n,prefix:t,postfix:o,bra:u,ket:i,radix:c}={...E,...r},[a,m,p,b,y]=[n,t,o,u,i].map(d=>d.length),s=e.slice(b,y>0?-y:void 0),I=m+2+p+a,v=[];for(let d=m;d<s.length;d+=I)v.push(parseInt(s[d]+s[d+1],c));return v};export{oe as Crc32,Be as abs,Qe as add,Ge as band,Me as bcomp,je as blsh,$e as bor,qe as brsh,Ke as bursh,We as bxor,D as concatBytes,se as concatTyped,ve as constructImageData,W as decode_bool,Y as decode_bytes,q as decode_cstr,ee as decode_number,C as decode_number_array,Q as decode_str,Oe as diff,Je as diff_right,Ze as div,ne as downloadBuffer,$ as encode_bool,X as encode_bytes,j as encode_cstr,Z as encode_number,R as encode_number_array,K as encode_str,A as env_le,H as getEnvironmentEndianess,or as hexStringOfArray,ur as hexStringToArray,Fe as intensityBitmap,pe as isIdentical,G as isSubidentical,ce as isTypedArray,nr as mod,Ye as mult,He as neg,P as pack,fe as packSeq,V as positiveRect,er as pow,Ue as randomRGBA,le as readFrom,rr as rem,l as resolveRange,ye as sliceSkip,M as sliceSkipTypedSubarray,me as splitTypedSubarray,Xe as sub,ae as swapEndianess,N as swapEndianessFast,ke as transpose2D,_ as typed_array_constructor_of,z as unpack,ge as unpackSeq,we as vectorize0,Se as vectorize1,Pe as vectorize2,ze as vectorize3,Re as vectorize4,Ce as vectorize5,Ee as vectorizeIndexHOF,Ve as vectorizeN,xe as writeTo};
