"use strict";(()=>{Object.hasOwn||Object.defineProperty(Object,"hasOwn",{value:function(r,e){if(r==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(r),e)},configurable:!0,enumerable:!1,writable:!0});var et=()=>{},K=r=>r.length===0,Xe=String.fromCharCode,ge=r=>r.toUpperCase(),_e=r=>r.toLowerCase(),H=Promise.resolve.bind(Promise),Ht=Promise.reject.bind(Promise),Wt=()=>new Promise(et),qt=()=>{let r,e;return[new Promise((n,o)=>{r=n,e=o}),r,e]},{from:ne,isArray:Ze,of:Jt}=Array,{MAX_VALUE:Ae,NEGATIVE_INFINITY:Yt,POSITIVE_INFINITY:Xt,isFinite:Zt,isInteger:ve,isNaN:Qt,parseFloat:en,parseInt:C}=Number,{random:Qe}=Math,{assign:oe,defineProperty:er,entries:rr,fromEntries:rn,keys:tn,getPrototypeOf:tr,values:nn}=Object,nr=Date.now,{iterator:se,toStringTag:or}=Symbol,W=setTimeout,ae=clearTimeout,on=setInterval,sn=clearInterval,{assert:Re,clear:an,debug:un,dir:cn,error:ie,log:Se,table:pn}=console,{now:dn}=performance;var Pe=(r,e=-Ae,t=Ae)=>r<e?e:r>t?t:r,_=(r,e)=>(r%e+e)%e,fn=(r,e,t)=>t*(e-r)+r,bn=(r,e,t)=>(t<0?0:t>1?1:t)*(e-r)+r,hn=(r,e,t,n)=>t*(e[n]-r[n])+r[n],xn=(r,e,t,n)=>(t<0?0:t>1?1:t)*(e[n]-r[n])+r[n],rt=(r,e,t)=>{let n=r.length,o=Array(n).fill(0);for(let s=0,a=r.length;s<a;s++)o[s]=t*(e[s]-r[s])+r[s];return o},Tn=(r,e,t)=>rt(r,e,t<0?0:t>1?1:t),gn=(r,e,t)=>(t-r)/(e-r),_n=(r,e,t)=>{let n=(t-r)/(e-r);return n<0?0:n>1?1:n},An=(r,e,t,n)=>(t[n]-r[n])/(e[n]-r[n]),vn=(r,e,t,n)=>{let o=(t[n]-r[n])/(e[n]-r[n]);return o<0?0:o>1?1:o},Rn=(r,e,t)=>e[0]+(t-r[0])*(e[1]-e[0])/(r[1]-r[0]),Sn=(r,e,t)=>{let n=(t-r[0])/(r[1]-r[0]);return(n<0?0:n>1?1:n)*(e[1]-e[0])+e[0]},Pn=r=>{let e=0,t=r.length;for(let n=0;n<t;n++)e+=r[n];return e},Dn=(r,e)=>r<e?r:e,j=(r,e)=>r>e?r:e;var ue=r=>{let{x:e,y:t,width:n,height:o}=r;return n<0&&(n*=-1,e-=n),o<0&&(o*=-1,t-=o),{x:e,y:t,width:n,height:o}},q=r=>tr(r).constructor,kn=(r,...e)=>new(q(r))(...e),L=r=>r.prototype,De=r=>{let e=typeof r;return e==="object"||e==="function"},Fn=r=>!De(r),sr=r=>typeof r=="function",ar=(r,e,t)=>{er(L(r),e,{value:t})};var z=r=>{let e=r.length,t=r[0]?.length??0;return[e,t]},On=z,Bn=(r,e,t)=>{let n=sr(t)?()=>Array(e).fill(void 0).map(t):()=>Array(e).fill(t);return Array(r).fill(void 0).map(n)},ir=r=>{let[e,t]=z(r),n=[];for(let o=0;o<t;o++)n[o]=[];for(let o=0;o<e;o++)for(let s=0;s<t;s++)n[s][o]=r[o][s];return n},ur=(r,e,t,...n)=>{let[o,s]=z(r);return t??=j(o-e,0),r.splice(e,t,...n)},cr=(r,e,t,...n)=>{let[o,s]=z(r),a=n.length>0?ir(n):Array(o).fill([]);return t??=j(s-e,0),ir(r.map((i,u)=>i.splice(e,t,...a[u])))},En=(r,e)=>{let[t,n]=z(r);if(e=_(e,t===0?1:t),e===0)return r;let o=ur(r,t-e,e);return ur(r,0,0,...o),r},jn=(r,e)=>{let[t,n]=z(r);if(e=_(e,n===0?1:n),e===0)return r;let o=cr(r,n-e,e);return cr(r,0,0,...o),r},Ln=(r,e)=>{let t=r.length,n=e.length,o=r.map(a=>Array(n).fill(a)),s=r.map(()=>e.slice());return[o,s]},zn=(r,e,t)=>{let n=e.length,o=t.length,s=Array(n).fill(void 0);for(let a=0;a<n;a++){let i=Array(o).fill(0),u=e[a];for(let p=0;p<o;p++)i[p]=r(u,t[p]);s[a]=i}return s},tt=r=>{let e=r.length,t=()=>Qe()*e|0,n=(o,s)=>{let a=r[o];r[o]=r[s],r[s]=a};for(let o=0;o<e;o++)n(o,t());return r},Gn=function*(r){let e=r.length;for(;!K(r);)e>=r.length&&(e=0,tt(r)),e=j(e+((yield r[e])??1),0)};var qn=(r,...e)=>t=>r.bind(t,...e),c=(r,e,...t)=>n=>r[e].bind(n,...t),Jn=(r,e,...t)=>e.bind(r,...t),w=(r,e,...t)=>r[e].bind(r,...t),m=L(Array),k=L(Map),U=L(Set),G=L(String),Yn=c(m,"at"),Xn=c(m,"concat"),Zn=c(m,"copyWithin"),Qn=c(m,"entries"),eo=c(m,"every"),ro=c(m,"fill"),to=c(m,"filter"),no=c(m,"find"),oo=c(m,"findIndex"),so=c(m,"findLast"),ao=c(m,"findLastIndex"),io=c(m,"flat"),uo=c(m,"flatMap"),co=c(m,"forEach"),po=c(m,"includes"),mo=c(m,"indexOf"),yo=c(m,"join"),lo=c(m,"keys"),fo=c(m,"lastIndexOf"),bo=c(m,"map"),pr=c(m,"pop"),dr=c(m,"push"),ho=c(m,"reduce"),xo=c(m,"reduceRight"),To=c(m,"reverse"),go=c(m,"shift"),_o=c(m,"slice"),Ao=c(m,"some"),vo=c(m,"sort"),Ro=c(m,"splice"),So=c(m,"unshift"),Po=c(m,"toLocaleString"),Do=c(m,"toReversed"),Io=c(m,"toSorted"),Ko=c(m,"toSpliced"),wo=c(m,"toString"),ko=c(m,"values"),Fo=c(m,"with"),mr=c(m,"splice",0),Ie=c(m,"at",-1),J=c(U,"add"),Uo=c(U,"clear"),Y=c(U,"delete"),Co=c(U,"entries"),No=c(U,"forEach"),ce=c(U,"has"),Vo=c(U,"keys"),Mo=c(U,"values"),Oo=c(k,"clear"),pe=c(k,"delete"),Ke=c(k,"entries"),we=c(k,"forEach"),N=c(k,"get"),ke=c(k,"has"),Fe=c(k,"keys"),X=c(k,"set"),Ue=c(k,"values"),Bo=c(G,"at"),Eo=c(G,"charAt"),Z=c(G,"charCodeAt"),jo=c(G,"codePointAt"),yr=c(G,"startsWith"),Lo=c(G,"endsWith");var Wo=(r,e="data.bin",t="application/octet-stream")=>{let n=new Blob([r],{type:t}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=e,o.click(),URL.revokeObjectURL(o.href),o.remove()},nt=r=>{let e=new FileReader;return new Promise((t,n)=>{e.onload=()=>t(e.result),e.onerror=n,e.readAsDataURL(r)})},ot=r=>nt(r).then(e=>{let[t,n]=e.split(";base64,",2);return[t+";base64,",n]}),qo=r=>ot(r).then(e=>e[1]),Jo=r=>{let e=atob(r),t=e.length,n=Z(e),o=new Uint8Array(t);for(let s=0;s<t;s++)o[s]=n(s);return o},Yo=r=>{let t=[];for(let n=0;n<r.length;n+=32766){let o=r.subarray(n,n+32766);t.push(Xe(...o))}return btoa(t.join(""))};var Ce=class extends Array{insert(e,t){let n=_(e,this.length)+(e<0?1:0);this.splice(n,0,t)}delete(e){return this.splice(e,1)[0]}swap(e,t){[this[t],this[e]]=[this[e],this[t]]}map(e,t){return super.map(e,t)}flatMap(e,t){return super.flatMap(e,t)}mapToArray(e,t){return[...this].map(e,t)}flatMapToArray(e,t){return[...this].flatMap(e,t)}get(e){return this[e]}set(e,t){return this[e]=t}static from(e,t,n){let o=new this;return o.push(...ne(e,t,n)),o}static of(...e){return this.from(e)}},lr=class extends Ce{rc=new Map;getRc=N(this.rc);setRc=X(this.rc);delRc=pe(this.rc);constructor(...e){super(...e),this.incRcs(...this)}onAdded(e){}onDeleted(e){}incRcs(...e){let{getRc:t,setRc:n}=this;e.forEach(o=>{let s=(t(o)??0)+1;n(o,s),s===1&&this.onAdded(o)})}decRcs(...e){let{getRc:t,setRc:n,delRc:o}=this;e.forEach(s=>{let a=(t(s)??0)-1;a>0?n(s,a):(o(s),this.onDeleted(s))})}push(...e){let t=super.push(...e);return this.incRcs(...e),t}pop(){let e=this.length,t=super.pop();return this.length<e&&this.decRcs(t),t}shift(){let e=this.length,t=super.shift();return this.length<e&&this.decRcs(t),t}unshift(...e){let t=super.unshift(...e);return this.incRcs(...e),t}splice(e,t,...n){let o=super.splice(e,t,...n);return this.incRcs(...n),this.decRcs(...o),o}swap(e,t){let n=j(e,t);n>=this.length&&this.set(n,void 0),super.swap(e,t)}set(e,t){let n=super.get(e),o=this.length,s=e+1-o;if(s===1)this.push(t);else if(t!==n||s>1){if(t=super.set(e,t),this.incRcs(t),s>0){let{getRc:a,setRc:i}=this;i(void 0,(a(void 0)??0)+s)}this.decRcs(n)}return t}},fr=class{constructor(e){this.length=e;this.items=Array(e),this.back=e-1}items;front=0;back;count=0;static{se}pushBack(...e){for(let t of e)this.count===this.length&&this.popFront(),this.items[this.back]=t,this.back=_(this.back-1,this.length),this.count++}pushFront(...e){for(let t of e)this.count===this.length&&this.popBack(),this.items[this.front]=t,this.front=_(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.items[_(this.back+1,this.length)]}getFront(){if(this.count!==0)return this.items[_(this.front-1,this.length)]}popBack(){if(this.count===0)return;this.back=_(this.back+1,this.length);let e=this.items[this.back];return this.items[this.back]=void 0,this.count--,e}popFront(){if(this.count===0)return;this.front=_(this.front-1,this.length);let e=this.items[this.front];return this.items[this.front]=void 0,this.count--,e}rotate(e){let{front:t,back:n,length:o,count:s,items:a}=this;if(s!==0){if(e=_(e,s),s<o)for(let i=0;i<e;i++){let u=_(n-i,o),p=_(t-i-1,o);a[u]=a[p],a[p]=void 0}this.front=_(t-e,o),this.back=_(n-e,o)}}reverse(){let e=this.count/2|0,{length:t,front:n,back:o,items:s}=this;for(let a=1;a<=e;a++){let i=_(o+a,t),u=_(n-a,t),p=s[i];s[i]=s[u],s[u]=p}}resolveIndex(e){return _(this.back+e+1,this.length)}at(e){return this.items[this.resolveIndex(e)]}replace(e,t){this.items[_(this.back+e+1,this.count)]=t}insert(e,t){this.count===this.length&&this.popFront();let n=this.resolveIndex(e);for(let o=this.front;o>n;o--)this.items[o]=this.items[o-1];this.items[n]=t,this.count++}},br=r=>{let e=[];r.forEach(o=>{e.push(...o)});let t=new Map([...new Set(e)].map(o=>[o,new Set])),n=N(t);for(let[o,s]of r)s.forEach(a=>n(a).add(o));return t},hr=class{constructor(e,t){let n=e??(t?br(t):new Map),o=t??(e?br(e):new Map),s=X(n),a=X(o),i=pe(n),u=pe(o),p=n.size,d=o.size,f=we(n),T=we(o),y=N(n),l=N(o),x=ke(n),b=ke(o),g=Ke(n),E=Ke(o),Te=Fe(n),R=Fe(o),S=Ue(n),F=Ue(o),We=(h,...A)=>{let v=y(h)??(s(h,new Set)&&y(h)),P=ce(v),D=J(v);for(let I of A)P(I)||(D(I),l(I)?.add(h)||a(I,new Set([h])))},qe=(h,...A)=>{let v=l(h)??(a(h,new Set)&&l(h)),P=ce(v),D=J(v);for(let I of A)P(I)||(D(I),y(I)?.add(h)||s(I,new Set([h])))},Qr=()=>{n.clear(),o.clear()},Je=(h,A=!1)=>{let v=y(h);if(v){for(let P of v)l(P).delete(h);A?v.clear():A=i(h)}return A},Ye=(h,A=!1)=>{let v=l(h);if(v){for(let P of v)y(P).delete(h);A?v.clear():A=u(h)}return A};oe(this,{fmap:n,rmap:o,size:p,rsize:d,forEach:f,rforEach:T,get:y,rget:l,has:x,rhas:b,entries:g,rentries:E,keys:Te,rkeys:R,values:S,rvalues:F,add:We,radd:qe,clear:Qr,delete:Je,rdelete:Ye,remove:(h,...A)=>{let v=y(h);if(v){let P=Y(v);for(let D of A)P(D)&&l(D).delete(h)}},rremove:(h,...A)=>{let v=l(h);if(v){let P=Y(v);for(let D of A)P(D)&&y(D).delete(h)}},set:(h,A)=>(Je(h,!0),We(h,...A),this),rset:(h,A)=>(Ye(h,!0),qe(h,...A),this),[se]:g,[or]:"InvertibleMap"})}},xr=class{constructor(e){let t,n=N(e),o=[],s=pr(o),a=dr(o),i=mr(o),u=Ie(o),p=new Map,d=N(p),f=X(p),T=R=>{for(let S of n(R)??[]){let F=d(S);F?f(S,F+1):T(S)}f(R,1)},y=R=>{f(R,0);for(let S of n(R)??[]){let F=(d(S)??0)-1;F>-1&&(f(S,F),F<1&&y(S))}},l=()=>{i();for(let[R,S]of p)S>0&&a(R)},x=()=>(t=s(),t!==void 0&&f(t,0),t),b=(...R)=>{p.clear(),R.forEach(T),l()},g=(...R)=>{K(R)&&t!==void 0&&R.push(t),R.forEach(y),l()},E=()=>{p.clear(),i()},Te=function*(){for(t=x();t!==void 0;)yield t,t=x()};oe(this,{edges:e,stack:o,fire:b,block:g,clear:E,pop:x,seek:u,[se]:Te})}},Tr=class{constructor(e){let{rforEach:t,get:n,rget:o}=e,s=new Set,a=J(s),i=Y(s),u={},p={},d=()=>{s.clear(),u={},p={},t((l,x)=>{u[x]=l.size})},f=(...l)=>{0,d(),l.forEach(a)},T=(...l)=>{let x=[];for(let b of l)i(b)&&n(b)?.forEach(g=>{let E=(u[g]??o(g)?.size??1)-1;E<=0&&x.push(g),u[g]=E});return x.forEach(a),0,x},y=(...l)=>{let x=[];for(let b of l)i(b),n(b)?.forEach(g=>{(p[g]=(p[g]??0)+1)>=(o(g)?.size??0)&&x.push(g)});return l.concat(K(x)?x:y(...x))};oe(this,{pending:s,clear:d,fire:f,resolve:T,reject:y})}},Q=class{wmap=new WeakMap;smap=new Map;pick(e){return De(e)?this.wmap:this.smap}get(e){return this.pick(e).get(e)}set(e,t){return this.pick(e).set(e,t),this}has(e){return this.pick(e).has(e)}delete(e){return this.pick(e).delete(e)}},Ve=Symbol(1),Me=r=>class Ar extends r{constructor(n=Ve){super();this.value=n}getDeep(n,o=!0){if(K(n))return this;let s=n.pop(),a=this.get(s);return!a&&o&&this.set(s,a=new Ar),a?.getDeep(n,o)}setDeep(n,o,s=!0){let a=this.getDeep(n,s);return a&&(a.value=o),a}hasDeep(n){if(K(n))return!0;let o=n.pop();return this.get(o)?.hasDeep(n)??!1}delDeep(n){if(K(n))return!1;let[o,...s]=n;return this.getDeep(s,!1)?.delete(o)??!1}},ss=Me(WeakMap),vr=Me(Map),Rr=Me(Q),Ne=class extends Array{$set=new Set;$add=J(this.$set);$del=Y(this.$set);includes=ce(this.$set);top=Ie(this);fsync(){return super.splice(0),super.push(...this.$set)}rsync(){let{$set:e,$add:t}=this;return e.clear(),super.forEach(t),this.length}reset(e=[]){let{$set:t,$add:n}=this;t.clear(),e.forEach(n),this.fsync()}constructor(e){super(),this.reset(e)}pop(){let e=super.pop();return this.$del(e),e}push(...e){let t=this.includes,n=this.$add,o=e.filter(t);return o.forEach(n),super.push(...o)}pushFront(...e){return e.forEach(this.$del),e.forEach(this.$add),this.fsync()}shift(){let e=super.shift();return this.$del(e),e}unshift(...e){let t=this.includes,n=e.filter(t);return super.unshift(...n),this.rsync()}unshiftRear(...e){return this.delMany(...e),super.unshift(...e),this.rsync()}del(e){return this.$del(e)?(super.splice(super.indexOf(e),1),!0):!1}delMany(...e){e.forEach(this.$del),this.fsync()}},de=class extends Array{min;max;resize_cb;constructor(e,t,n){super(),this.min=e,this.max=t,this.resize_cb=n}resize(e){let t=this.length,n=t-this.max>0?t-this.min:0;if(n>0){let o=super.splice(0,n);this.resize_cb?.(o)}return e}push(...e){return this.resize(super.push(...e))}},gr=class extends Ne{min;max;resize_cb;constructor(e,t,n){super(),this.min=e,this.max=t,this.resize_cb=n}resize(e){let t=this.length,n=t-this.max>0?t-this.min:0;if(n>0){let o=super.splice(0,n);o.forEach(this.$del),this.resize_cb?.(o)}return e}push(...e){return this.resize(super.push(...e))}pushFront(...e){return this.resize(super.pushFront(...e))}},_r=class extends Array{chain=[];pending=[];onEmpty;constructor(e,{onEmpty:t,isEmpty:n}={}){super(),this.chain.push(...e),this.onEmpty=t,n&&t?.()}push(...e){let t=super.push(...e),n=this.chain;return this.pending.push(...e.map(o=>{n.forEach(([a,i])=>{o=o.then(a,i)});let s=()=>this.del(o);return o.then(s,s),o})),t}del(e){let t=this.pending,n=t.indexOf(e);return n>=0?(t.splice(n,1),super.splice(n,1),K(this)&&this.onEmpty?.(),!0):!1}};var ye,st=()=>{ye=new Int32Array(256);let r=-306674912;for(let e=0;e<256;e++){let t=e;for(let n=8;n>0;--n)t=t&1?t>>>1^r:t>>>1;ye[e]=t}},us=(r,e)=>{e=e===void 0?4294967295:e^-1,ye===void 0&&st();for(let t=0;t<r.length;++t)e=ye[(e^r[t])&255]^e>>>8;return(e^-1)>>>0};var Oe=(r,e)=>{let t=r;for(let n of e)t=t[n];return t},Sr=(r,e,t)=>{let n=e.pop(),o=Oe(r,e);return o[n]=t,r},ms=r=>[e=>Oe(r,e),(e,t)=>Sr(r,e,t)],at=(r,e)=>Oe(r,Pr(e)),it=(r,e,t)=>Sr(r,Pr(e),t),ys=r=>[e=>at(r,e),(e,t)=>it(r,e,t)],Pr=r=>r.split(".").map(e=>e==="0"?0:C(e)||e);var Dr=(r,e)=>Be([r],e),Be=(r,e)=>e[0]==="u"?Kr(r):kr(r),Ir=(r,e,t)=>{let[n,o]=Ee(r,e,t,1);return[n[0],o]},Ee=(r,e,t,n)=>t[0]==="u"?wr(r,e,n):Fr(r,e,n),Kr=r=>{let e=r.length,t=[];for(let n=0;n<e;n++){let o=r[n];o=o*(o>=0?1:-1);let s=[];do s.push((o&127)+128),o>>=7;while(o>0);s[0]&=127,t.push(...s.reverse())}return Uint8Array.from(t)},wr=(r,e=0,t)=>{t===void 0&&(t=1/0);let n=[],o=e,s=r.length,a=0;for(let i=r[e++];t>0&&e<s+1;i=r[e++])a<<=7,a+=i&127,i>>7||(n.push(a),t--,a=0);return e--,[n,e-o]},kr=r=>{let e=r.length,t=[];for(let n=0;n<e;n++){let o=r[n],s=o>=0?1:-1,a=[];for(o=o*s;o>63;)a.push((o&127)+128),o>>=7;a.push(o&63|(s==-1?192:128)),a[0]&=127,t.push(...a.reverse())}return Uint8Array.from(t)},Fr=(r,e=0,t)=>{t===void 0&&(t=1/0);let n=[],o=e,s=r.length,a=0,i=0;for(let u=r[e++];t>0&&e<s+1;u=r[e++])a===0?(a=(u&64)>0?-1:1,i=u&63):(i<<=7,i+=u&127),u>>7||(n.push(i*a),t--,a=0,i=0);return e--,[n,e-o]},bs=r=>Kr([r]),hs=(r,e=0)=>{let[t,n]=wr(r,e,1);return[t[0],n]},xs=r=>kr([r]),Ts=(r,e=0)=>{let[t,n]=Fr(r,e,1);return[t[0],n]};var Ss=r=>!!r.buffer,je=r=>{if(r[2]==="c")return Uint8ClampedArray;switch(r=r[0]+r[1],r){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array;default:return ie(0),Uint8Array}},ut=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,ee=ut(),Ps=(r,e)=>{let t=r.byteLength;for(let n=0;n<t;n+=e)r.subarray(n,n+e).reverse();return r},Le=(r,e)=>{let t=r.byteLength,n=new Uint8Array(t),o=e;for(let s=0;s<o;s++){let a=o-1-s*2;for(let i=s;i<t+s;i+=o)n[i]=r[i+a]}return n},Ur=(...r)=>{let e=[0];for(let n of r)e.push(e[e.length-1]+n.length);let t=new Uint8Array(e.pop());for(let n of r)t.set(n,e.shift());return t},Cr=(...r)=>{let e=[0];for(let n of r)e.push(e[e.length-1]+n.length);let t=new(q(r[0]))(e.pop());for(let n of r)t.set(n,e.shift());return t};function re(r,e,t,n){return r??=0,n??=0,t===void 0?[r+n,e===void 0?e:e+n,t]:(e??=t,r+=r>=0?0:t,e+=e>=0?0:t,t=e-r,[r+n,e+n,t>=0?t:0])}var Ds=(r,e)=>ze(r,e),Is=(r,e,t=0,n,o)=>{[n,o]=re(n,o,r.length);let s=[];for(let a=n;a<o;a+=e+t)s.push(r.slice(a,a+e));return s},ze=(r,e,t=0,n,o)=>{[n,o]=re(n,o,r.length);let s=[];for(let a=n;a<o;a+=e+t)s.push(r.subarray(a,a+e));return s},Ks=(r,e)=>r.length!==e.length?!1:ct(r,e),ct=(r,e)=>{let t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0},Nr=(r,e)=>{let t=[];for(let n=1;n<e.length;n++)t.push(r.slice(e[n-1],e[n]));return t},ws=(r,e)=>{let t=[];for(let n=1;n<e.length;n++)t.push(r.subarray(e[n-1],e[n]));return t},ks=(r,e)=>{let t=[];for(let n=1;n<e.length;n+=2)t.push(r.slice(e[n-1],e[n]));return t},Fs=(r,e)=>{let t=[];for(let n=1;n<e.length;n+=2)t.push(r.subarray(e[n-1],e[n]));return t},Us=(r,e)=>{let t=[];for(let n=1;n<e.length;n+=2)t.push(r.slice(e[n-1],e[n]===void 0?void 0:e[n-1]+e[n]));return t},Cs=(r,e)=>{let t=[];for(let n=1;n<e.length;n+=2)t.push(r.subarray(e[n-1],e[n]===void 0?void 0:e[n-1]+e[n]));return t};var Vr=new TextEncoder,Mr=new TextDecoder,Es=(r,e,t,...n)=>{let[o,s]=Br(t,r,e,...n);return[o,e+s]},js=(r,e,t,n,...o)=>{let s=Or(t,n,...o);return r.set(s,e),[r,e+s.length]},Ls=(...r)=>{let e=[];for(let t of r)e.push(Or(...t));return Ur(...e)},zs=(r,e,...t)=>{let n=[],o=0;for(let[s,...a]of t){let[i,u]=Br(s,r,e+o,...a);n.push(i),o+=u}return[n,o]},Or=(r,e,...t)=>{switch(r){case"bool":return pt(e);case"cstr":return mt(e);case"str":return lt(e);case"bytes":return bt(e);default:return r[1]==="v"?r.endsWith("[]")?Be(e,r):Dr(e,r):r.endsWith("[]")?Er(e,r):xt(e,r)}},Br=(r,e,t,...n)=>{switch(r){case"bool":return dt(e,t);case"cstr":return yt(e,t);case"str":return ft(e,t,...n);case"bytes":return ht(e,t,...n);default:return r[1]==="v"?r.endsWith("[]")?Ee(e,t,r,...n):Ir(e,t,r):r.endsWith("[]")?jr(e,t,r,...n):Tt(e,t,r)}},pt=r=>Uint8Array.of(r?1:0),dt=(r,e=0)=>[r[e]>=1,1],mt=r=>Vr.encode(r+"\0"),yt=(r,e=0)=>{let t=r.indexOf(0,e),n=r.subarray(e,t);return[Mr.decode(n),n.length+1]},lt=r=>Vr.encode(r),ft=(r,e=0,t)=>{let n=t===void 0?void 0:e+t,o=r.subarray(e,n);return[Mr.decode(o),o.length]},bt=r=>r,ht=(r,e=0,t)=>{let n=t===void 0?void 0:e+t,o=r.slice(e,n);return[o,o.length]},Er=(r,e)=>{let[t,n,o]=e,s=je(e),a=C(n),i=!!(o==="l"&&ee||o==="b"&&!ee||a===1),u=s.from(r);if(u instanceof Uint8Array)return u;let p=new Uint8Array(u.buffer);return i?p:Le(p,a)},jr=(r,e=0,t,n)=>{let[o,s,a]=t,i=C(s),u=!!(a==="l"&&ee||a==="b"&&!ee||i===1),p=n?i*n:void 0,d=r.slice(e,p?e+p:void 0),f=d.length,T=je(t),y=new T(u?d.buffer:Le(d,i).buffer);return[Array.from(y),f]},xt=(r,e)=>Er([r],e),Tt=(r,e=0,t)=>{let[n,o]=jr(r,e,t,1);return[n[0],o]};var Hs=(r,e)=>{let t={};for(let n in r)t[n]=r[n](e[n]);return t},Ws=(r,e)=>{let t={};for(let n in r)t[n]=r[n](...e[n]);return t},V=(r,e)=>{let t=[];for(let n=0;n<r.length;n++)t.push(r[n](e[n]));return t},qs=(r,e)=>{let t=[];for(let n=0;n<r.length;n++)t.push(r[n](...e[n]));return t};var Ge=(r,e)=>Ze(e)?e.map(r):r(e),O=r=>((r??1)*100).toFixed(0)+"%",ea=r=>Ge(O,r),B=r=>Pe(r??0,0,255).toFixed(0),ra=r=>Ge(B,r),$e=r=>(r??0).toFixed(1)+"deg",ta=r=>Ge($e,r),M=r=>(r<16?"0":"")+(r|0).toString(16),gt=[M,M,M],na=r=>"#"+V(gt,r).join(""),_t=[M,M,M,r=>M(Pe((r??1)*255,0,255))],oa=r=>"#"+V(_t,r).join(""),sa=r=>"rgb("+V([B,B,B],r).join(",")+")",aa=r=>"rgba("+V([B,B,B,O],r).join(",")+")",ia=r=>"hsl("+V([$e,O,O],r).join(",")+")",ua=r=>"hsla("+V([$e,O,O,O],r).join(",")+")";var Lr,le,He=(r,e)=>(Lr??=new OffscreenCanvas(r??10,e??10),Lr),zr=(r,e)=>(le===void 0&&(le=He(r,e).getContext("2d",{willReadFrequently:!0}),le.imageSmoothingEnabled=!1),le),fa=r=>r===void 0?!1:r.startsWith("data:image/"),ba=r=>r.slice(0,r.indexOf(";base64,")+8),ha=r=>r.slice(5,r.indexOf(";base64,")),xa=r=>r.substring(r.indexOf(";base64,")+8),Ta=async(r,e,t,n,o)=>{t&&(t=ue(t));let s=await te(r,e),a=t?await createImageBitmap(s,t.x,t.y,t.width,t.height,n):await createImageBitmap(s,n),i=He(),u=zr();return i.width=a.width,i.height=a.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(a,0,0),i.convertToBlob(o)},ga=async(r,e,t,n,o)=>{t&&(t=ue(t));let s=await te(r,e),a=t?await createImageBitmap(s,t.x,t.y,t.width,t.height,n):await createImageBitmap(s,n),i=He(),u=zr();return i.width=a.width,i.height=a.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(a,0,0),u.getImageData(0,0,a.width,a.height,o)},te=(r,e)=>{if(typeof r=="string"){let t=new Image;return t.src=r,t.decode().then(()=>t)}else{if(r instanceof Uint8ClampedArray)return H(new ImageData(r,e));if(ArrayBuffer.isView(r))return te(new Uint8ClampedArray(r.buffer),e);if(r instanceof ArrayBuffer)return te(new Uint8ClampedArray(r),e);if(r instanceof Array)return te(Uint8ClampedArray.from(r),e)}return H(r)},_a=(r,e,t,n=1)=>{let o=r.length/e,s=new Uint8ClampedArray(o).fill(1),a=new Uint8ClampedArray(o);if(t!==void 0){for(let i=0;i<o;i++)s[i]=r[i*e+t]<n?0:1;r=r.filter((i,u)=>u%e!==t),e--}for(let i=0;i<e;i++)for(let u=0;u<o;u++)a[u]+=r[u*e+i];if(t!==void 0)for(let i=0;i<o;i++)a[i]*=s[i];return new Uint8Array(a.buffer)},At=(r,e,t=1)=>{let{width:n,height:o,data:s}=r,a=s.length/(n*o),i=l=>s.subarray(l*n*a,(l*n+n)*a),u=l=>{let x=new Uint8Array(o*a);for(let b=0;b<o;b++)for(let g=0;g<a;g++)x[b*a+g]=s[(b*n+l)*a+g];return x},p=l=>{let x=0;for(let b=0,g=l.length;b<g;b+=a)x+=e(l[b+0],l[b+1],l[b+2],l[b+3]);return x};0;let[d,f,T,y]=[0,0,o,n];for(;d<o&&!(p(i(d))>=t);d++);for(;T>=d&&!(p(i(T))>=t);T--);for(;f<n&&!(p(u(f))>=t);f++);for(;y>=f&&!(p(u(y))>=t);y--);return{x:f,y:d,width:y-f,height:T-d}},vt=(r,e)=>{let{width:t,height:n,data:o}=r,s=o.length/(t*n),a=ue({x:0,y:0,width:t,height:n,...e}),[i,u,p,d]=[a.y,a.x,a.y+a.height,a.x+a.width];0;let f=a.width*s,T=(t-d+(u-0))*s,y=(i*t+u)*s,l=((p-1)*t+d)*s,x=ze(o,f,T,y,l),b=Cr(...x);return s===4?new ImageData(b,a.width,a.height):{width:a.width,height:a.height,data:b,colorSpace:r.colorSpace??"srgb"}},Aa=(r,e,t=1)=>vt(r,At(r,e,t)),va=(r,e)=>{let{x:t,y:n,width:o,channels:s}=r,{x:a,y:i,width:u,channels:p}=e,d=(a??0)-(t??0),f=(i??0)-(n??0);return T=>p*(T/s%o-d+((T/s/o|0)-f)*u)},Ra=r=>{ie(0)};var Gr=Symbol(1),Rt=Symbol(1),ka=(r,e,t)=>{let n,o=()=>{};return(...s)=>(ae(n),t!==void 0&&o(t),new Promise((a,i)=>{o=i,n=W(()=>a(e(...s)),r)}))},Fa=(r,e)=>{let t,n,o,s=a=>(o=new Promise((i,u)=>n=i).then(s),a);return s(),(...a)=>(ae(t),t=W(()=>n(e(...a)),r),o)},St=(r,e)=>{let t=0;return(...n)=>{let o=nr();return o-t>r?(t=o,e(...n)):Gr}},Ua=(r,e,t,n)=>{let o,s=()=>{},a=St(e,t);return(...i)=>{ae(o),n!==void 0&&s(n);let u=a(...i);return u===Gr?new Promise((p,d)=>{s=d,o=W(()=>p(t(...i)),r)}):H(u)}},Ca=(r,e)=>new Promise((t,n)=>{W(e?n:t,r,Rt)}),fe=(r,e=!1)=>{let t=e?new Q:new Map,n=w(t,"get"),o=w(t,"set"),s=w(t,"has");return{fn:i=>{let u=s(i),p=u?n(i):r(i);return u||o(i,p),p},memory:t}},Na=r=>fe(r).fn,Va=(r,e)=>{let t=fe(e),n=w(t.memory,"has"),o=t.fn;return a=>n(a)||--r>=0?o(a):e(a)},Pt=(r,e,t)=>{let n=fe(e),o=w(n.memory,"has"),s=n.fn;return i=>{let u=o(i)||--r>=0?s(i):t;return r===0&&(t??=u),u}},Ma=(r,e,t)=>{let n=fe(t),o=w(n.memory,"has"),s=w(n.memory,"delete"),a=n.fn,i=new de(r,e,d=>{d.forEach(s)}),u=w(i,"push");return d=>(o(d)||u(d),a(d))},Oa=r=>Pt(1,r),$r=(r,e=!1)=>{let t=e?new Rr:new vr;return{fn:(...o)=>{let s=t.getDeep(o.toReversed()),a=s.value!==Ve,i=a?s.value:r(...o);return a||(s.value=i),i},memory:t}},Ba=r=>$r(r,!1).fn,Ea=r=>$r(r,!0).fn,Dt=(r,e)=>r.length>1?t=>Dt(r.bind(void 0,t)):r.bind(e),It=(r,e,t=r.length)=>(...n)=>{t-=n.length;let o=r.bind(void 0,...n);return t<=0?o.call(e):It(o,e,t)};var za=(r,e)=>{for(let t=0;t<e.length;t++)e[t]=r()},Ga=(r,e,t)=>{for(let n=0;n<e.length;n++)e[n]=r(t[n])},$a=(r,e,t,n)=>{for(let o=0;o<e.length;o++)e[o]=r(t[o],n[o])},Ha=(r,e,t,n,o)=>{for(let s=0;s<e.length;s++)e[s]=r(t[s],n[s],o[s])},Wa=(r,e,t,n,o,s)=>{for(let a=0;a<e.length;a++)e[a]=r(t[a],n[a],o[a],s[a])},qa=(r,e,t,n,o,s,a)=>{for(let i=0;i<e.length;i++)e[i]=r(t[i],n[i],o[i],s[i],a[i])},Ja=(r,e,...t)=>{let n=t.length,o=Array(n).fill(0);for(let s=0;s<e.length;s++){for(let a=0;a<n;a++)o[a]=t[a][s];e[s]=r(...o)}},Ya=(r,e,...t)=>{let n=r(...t);for(let o=0;o<e.length;o++)e[o]=n(o)};var ri=r=>r[0].map((e,t)=>r.map(n=>n[t])),ti=(r,e,t)=>{[e,t]=re(e,t,r.length);let n=r.slice(e+1,t);for(let o=0;o<n.length;o++)n[o]-=r[e+o-1];return n},ni=(r,e,t)=>{[e,t]=re(e,t,r.length);let n=r.slice(e,t-1);for(let o=0;o<n.length;o++)n[o]-=r[e+o+1];return n},oi=r=>{let e=r.length,t=new(q(r))(e+1).fill(0);for(let n=0;n<e;n++)t[n+1]=t[n]+r[n];return t};var si=(r,e=0,t)=>{e??=0,t??=r.length;for(let n=e;n<t;n++)r[n]*=r[n]<0?-1:1;return r},ai=(r,e=0,t)=>{e??=0,t??=r.length;for(let n=e;n<t;n++)r[n]*=-1;return r},ii=(r,e,t)=>{e??=0,t??=r.length;for(let n=e;n<t;n++)r[n]=~r[n];return r},ui=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]&=e;return r},ci=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]|=e;return r},pi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]^=e;return r},di=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]<<=e;return r},mi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]>>=e;return r},yi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]>>>=e;return r},li=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]+=e;return r},fi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]-=e;return r},bi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]*=e;return r},hi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]/=e;return r},xi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]**=e;return r},Ti=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]%=e;return r},gi=(r,e,t,n)=>{t??=0,n??=r.length;for(let o=t;o<n;o++)r[o]=(r[o]%e+e)%e;return r};var Kt=rr({"npm:":"npm","jsr:":"jsr","data:":"data","http://":"http","https://":"https","file://":"file","./":"relative","../":"relative"}),Hr=r=>{if(!r||r==="")return;let e=yr(r);for(let[t,n]of Kt)if(e(t))return n;return"local"},wt=(r,e)=>{let t=e;if(typeof e=="string"){let o=Hr(e);switch(o){case"relative":case"data":throw new Error("");default:{t=wt(e);break}}}let n=Hr(r);if(n==="local")return new URL("file://"+r);if(n==="relative"){let o=t?t.protocol:void 0,s=o==="jsr:"||o==="npm:";if(s){let i=t.pathname.endsWith("/")?"":"/";t=new URL(o+"/"+t.pathname+i)}let a=new URL(r,t);return s?new URL(o+a.pathname.substring(1)):a}return new URL(r)},kt=r=>'"'+r+'"',Ft=/\\+/g,Ut=/^\/+/,Ct=/\/+$/,Nt=/^(\.?\/)+/,Wr=r=>r.replace(Ut,""),qr=r=>r.replace(Ct,""),Pi=r=>qr(Wr(r)),Di=r=>r.startsWith("/")?r:"/"+r,Ii=r=>r.endsWith("/")?r:r+"/",Vt=r=>qr(r.replace(Nt,"")),Ki=(...r)=>Wr(r.map(Vt).reduce((e,t)=>e+"/"+t,"")),wi=r=>{let e=r.split("/"),t=[".."];for(let n of e)n===".."?t.at(-1)!==".."?t.pop():t.push(n):n!=="."&&t.push(n);return t.shift(),t.join("/")},Mt=r=>r.replaceAll(Ft,"/"),ki=(r,e)=>kt(Mt(e.join(r)));var Yr={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},Mi=(r,e)=>{let{sep:t,prefix:n,postfix:o,trailingSep:s,bra:a,ket:i,toUpperCase:u,radix:p}={...Yr,...e},d=r.buffer?ne(r):r,f=d.map(T=>{let y=(T|0).toString(p);return y=y.length===2?y:"0"+y,u?ge(y):y}).reduce((T,y)=>T+n+y+o+t,"");return a+f.slice(0,s?void 0:-t.length)+i},Oi=(r,e)=>{let{sep:t,prefix:n,postfix:o,bra:s,ket:a,radix:i}={...Yr,...e},[u,p,d,f,T]=[t,n,o,s,a].map(b=>b.length),y=r.slice(f,T>0?-T:void 0),l=p+2+d+u,x=[];for(let b=p;b<y.length;b+=l)x.push(C(y[b]+y[b+1],i));return x},Jr=(r,e)=>e===1?ge(r):e===-1?_e(r):r,Ot=(r,e=0,t=void 0)=>{t=(t<r.length?t:r.length)-1;let n=Z(r),o;for(;o=n(e++);)if(o>64&&o<91)return e-1},Bt=(r,e=0,t=void 0)=>{t=(t<r.length?t:r.length)-1;let n=Z(r),o;for(;o=n(e++);)if(o>96&&o<123)return e-1},Et=(r,e,t=0,n=void 0)=>e===1?Ot(r,t,n):e===-1?Bt(r,t,n):void 0,Xr=(r,e)=>{let[t,n,o,s="",a="",i=""]=r,u=e.length-1;return e.map((d,f)=>{let T=Jr(d[0],f>0?n:t),y=Jr(d.slice(1),o),l=f<u?s:"";return T+y+l}).reduce((d,f)=>d+f,a)+i},Zr=(r,e)=>{let[,t,,n="",o="",s=""]=r;e=e.slice(o.length,-s.length||void 0);let a;if(n===""){let i=[0],u=0;for(;u!==void 0;)u=Et(e,t,u+1),i.push(u);a=Nr(e,i)}else a=e.split(n);return a.map(i=>_e(i))},Bi=(r,e,t)=>Xr(e,Zr(r,t)),$=(r,e)=>{let t=Xr.bind(void 0,e),n=Zr.bind(void 0,r);return o=>t(n(o))},be=[-1,-1,-1,"_"],he=[-1,-1,-1,"-"],xe=[-1,1,-1,""],Ei=[1,1,-1,""],ji=[1,1,1,"_"],Li=[1,1,1,"-"],zi=$(he,xe),Gi=$(xe,he),$i=$(be,xe),Hi=$(xe,be),Wi=$(he,be),qi=$(be,he);var Xi=r=>r>=0&&r<=1,Zi=r=>r>=0&&r<=255&&r===(r|0),Qi=r=>r>=0&&r<=360,eu=r=>r>=0&&r<=Math.PI;})();
