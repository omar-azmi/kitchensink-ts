function It(e,t,r){let n=r===void 0?t:t.bind(r),o=e.length-1;for(;o>=0;){if(n(e[o],o,e))return o;o--}return-1}function Ct(e,t,r){let n=e.findLastIndex(t,r);return n===-1?void 0:e[n]}Array.prototype.findLastIndex||(Array.prototype.findLastIndex=function(e,t){return It(this,e,t)});Array.prototype.findLast||(Array.prototype.findLast=function(e,t){return Ct(this,e,t)});Uint8Array.prototype.findLastIndex||(Uint8Array.prototype.findLastIndex=function(e,t){return It(this,e,t)});Uint8Array.prototype.findLast||(Uint8Array.prototype.findLast=function(e,t){return Ct(this,e,t)});var Kt=Array;var Wr=Date;var Ue=Math,he=Number,V=Object,wt=Promise;var qr=String,Nt=Symbol,Ee=console,kt=performance;var w=e=>e.length===0,M=Kt.from;var Dt=Kt.isArray;var ge=Wr.now;var _e=Ue.min;var Mt=Ue.round;var Ot=Ue.random;var je=he.MAX_VALUE;var Ft=he.POSITIVE_INFINITY;var Ve=he.isInteger;var B=he.parseInt,Te=V.assign;var Ae=V.defineProperty,Ut=V.entries;var Se=V.getOwnPropertyDescriptor;var Et=V.getOwnPropertyNames,jt=V.getOwnPropertySymbols,Be=V.getPrototypeOf;var Pe=wt.resolve.bind(wt);var Le=e=>e.toUpperCase(),ze=e=>e.toLowerCase();var Vt=qr.fromCharCode;var ne=Nt.iterator;var Bt=Nt.toStringTag;var Ge=Ee.assert;var Re=Ee.error;var $e=Ee.log;var q=kt.now.bind(kt),oe=setTimeout,ve=clearTimeout;var Ie=encodeURI;var Lt=decodeURI;var P=(e,t,...r)=>n=>e[t].bind(n,...r);var O=(e,t,...r)=>e[t].bind(e,...r),Ce=e=>e.prototype,se=Ce(Array),E=Ce(Map),He=Ce(Set),Jr=Ce(String);var zt=P(se,"map"),Gt=P(se,"pop"),J=P(se,"push");var $t=P(se,"splice",0),Ye=P(se,"at",-1),ae=P(He,"add");var ie=P(He,"delete");var we=P(He,"has");var ke=P(E,"delete"),We=P(E,"entries"),qe=P(E,"forEach"),L=P(E,"get"),Je=P(E,"has"),Xe=P(E,"keys"),ce=P(E,"set"),Qe=P(E,"values");var pe=P(Jr,"charCodeAt");var Ze=(e,t=-je,r=je)=>e<t?t:e>r?r:e,_=(e,t)=>(e%t+t)%t,mo=(e,t,r)=>r*(t-e)+e,yo=(e,t,r)=>(r<0?0:r>1?1:r)*(t-e)+e,lo=(e,t,r,n)=>r*(t[n]-e[n])+e[n],fo=(e,t,r,n)=>(r<0?0:r>1?1:r)*(t[n]-e[n])+e[n],Xr=(e,t,r)=>{let n=e.length,o=Array(n).fill(0);for(let s=0;s<n;s++)o[s]=r*(t[s]-e[s])+e[s];return o},xo=(e,t,r)=>Xr(e,t,r<0?0:r>1?1:r),bo=(e,t,r)=>(r-e)/(t-e),ho=(e,t,r)=>{let n=(r-e)/(t-e);return n<0?0:n>1?1:n},go=(e,t,r,n)=>(r[n]-e[n])/(t[n]-e[n]),_o=(e,t,r,n)=>{let o=(r[n]-e[n])/(t[n]-e[n]);return o<0?0:o>1?1:o},To=(e,t,r)=>t[0]+(r-e[0])*(t[1]-t[0])/(e[1]-e[0]),Ao=(e,t,r)=>{let n=(r-e[0])/(e[1]-e[0]);return(n<0?0:n>1?1:n)*(t[1]-t[0])+t[0]},So=e=>{let t=0,r=e.length;for(let n=0;n<r;n++)t+=e[n];return t},z=(e,t)=>e<t?e:t,k=(e,t)=>e>t?e:t,et=e=>e>=0?1:-1,Ht=e=>(e>=0?1:-1)*e,Yt=(e,t=9)=>{let r=10**t;return Mt(e*r)/r};function h(e,t,r,n){return e??=0,n??=0,r===void 0?[e+n,t===void 0?t:t+n,r]:(t??=r,e+=e>=0?0:r,t+=t>=0?0:r,r=t-e,[e+n,t+n,k(0,r)])}var wo=(e,t)=>{let r=e.length;if(t=_(t,r===0?1:r),t===0)return e;let n=e.splice(r-t,t);return e.splice(0,0,...n),e},Qr=e=>{let t=e.length,r=()=>Ot()*t|0,n=(o,s)=>{let a=e[o];e[o]=e[s],e[s]=a};for(let o=0;o<t;o++)n(o,r());return e},ko=function*(e){let t=e.length;for(;!w(e);)t>=e.length&&(t=0,Qr(e)),t=k(t+((yield e[t])??1),0)},Ko=(e,t=0,r,...n)=>{let o=e.length,s=o-t;r??=s,r=z(r,s);let a=t+r,i=[],c=[],p=J(i),u=J(c);for(let m=o;m>a;m--)p(e.pop());for(let m=a;m>t;m--)u(e.pop());return e.push(...n,...i.toReversed()),c.toReversed()},No=(e,t,r=1,n=6)=>[...Zr(e,t,r,n)],Zr=function*(e=0,t,r=1,n=6){t??=et(r)*Ft;let o=t-e,s=Ht(r)*et(o),a=o/s,i=0;for(;i<a;i++)yield Yt(e+i*s,n);return i},Do=(...e)=>{let t=[],r=J(t),n=w(e)?0:_e(...e.map(o=>o.length));for(let o=0;o<n;o++)r(e.map(s=>s[o]));return t},en=function*(...e){if(w(e))return 0;let t=e.map(a=>a instanceof Iterator?a:a[ne]()),r=zt(t),n=0,o=!0,s=a=>{let{value:i,done:c}=a.next();return c&&(o=!1),i};for(let a=r(s);o;a=r(s))n++,yield a;return n},Mo=e=>function*(...t){let r=0;for(let n of en(...t))yield e(n,r),r++;return r},Oo=function*(e,t){let r=t.length;for(let n=0;n<r;n+=e)yield t.slice(n,n+e)};var Ke=e=>{let{x:t,y:r,width:n,height:o}=e;return n<0&&(n*=-1,t-=n),o<0&&(o*=-1,r-=o),{x:t,y:r,width:n,height:o}},me=e=>Be(e).constructor,Bo=(e,...t)=>new(me(e))(...t),X=e=>e.prototype;function tt(e,t={}){let{start:r,end:n,delta:o}=t,s=[];for(;e=Be(e);)s.push(e);s.push(null);let a=s.length;if(ue(r)&&(r=k(0,s.indexOf(r))),ue(n)){let i=s.indexOf(n);n=i<0?void 0:i}return o!==void 0&&(r??n)!==void 0&&(r!==void 0?n=r+o:r=n-o),[r,n]=h(r,n,a),s.slice(r,n)}var Ne=e=>[...Et(e),...jt(e)],Lo=(e,t=X(Object))=>{let r=tt(e,{start:0,end:t}),n=r.map(o=>Ne(o)).flat(1);return[...new Set(n)]},zo=e=>Ne(e).filter(t=>"get"in Se(e,t)),Go=e=>Ne(e).filter(t=>"set"in Se(e,t)),Wt=(e,t)=>{let{baseKey:r,mirrorPrototype:n=!0,propertyKeys:o=[],ignoreKeys:s=[],target:a={}}=t,i=a,c=new Set(o),p=new Set(s),u=tn(n)?n?tt(e,{end:X(Object)}):[]:de(n)?n:tt(e,n);u.unshift(e),i[r]=e;for(let m of u){let f=Ne(m);for(let d of f){if(d in i||c.has(d)||p.has(d))continue;let{value:y,...b}=Se(m,d);rt(y)?Ae(i,d,{...b,value(...l){return this[r][d](...l)}}):c.add(d)}}for(let m of c)Ae(i,m,{get(){return this[r][m]},set(f){this[r][m]=f}});return i},$o=(e,t={})=>{let r=t.class??{},n=t.instance??{},o=n.baseKey??"_super",s=r.ignoreKeys??[],a=class{constructor(...p){let u=new e(...p);this[o]=u}},i=X(e),c=X(a);return Wt(e,{mirrorPrototype:{start:0,end:X(Function)},baseKey:"_super",...r,ignoreKeys:[...s,"length","name","prototype"],target:a}),Wt(i,{baseKey:o,...n,target:c}),a},Ho=(e,t,r)=>{Ae(X(e),t,{value:r})},ue=e=>{let t=typeof e;return t==="object"||t==="function"},Yo=e=>!ue(e),rt=e=>typeof e=="function",qt=e=>typeof e=="object",de=Dt,F=e=>typeof e=="string",Wo=e=>typeof e=="number",qo=e=>typeof e=="bigint",Jo=e=>typeof e=="number"||typeof e=="bigint",tn=e=>typeof e=="boolean",Xo=e=>typeof e=="symbol";var Q=e=>{let t=e.length,r=e[0]?.length??0;return[t,r]},ns=Q,os=(e,t,r)=>{let n=rt(r)?()=>Array(t).fill(void 0).map(r):()=>Array(t).fill(r);return Array(e).fill(void 0).map(n)},Jt=e=>{let[t,r]=Q(e),n=[];for(let o=0;o<r;o++)n[o]=[];for(let o=0;o<t;o++)for(let s=0;s<r;s++)n[s][o]=e[o][s];return n},Xt=(e,t,r,...n)=>{let[o,s]=Q(e);return r??=k(o-t,0),e.splice(t,r,...n)},Qt=(e,t,r,...n)=>{let[o,s]=Q(e),a=n.length>0?Jt(n):Array(o).fill([]);return r??=k(s-t,0),Jt(e.map((i,c)=>i.splice(t,r,...a[c])))},ss=(e,t)=>{let[r,n]=Q(e);if(t=_(t,r===0?1:r),t===0)return e;let o=Xt(e,r-t,t);return Xt(e,0,0,...o),e},as=(e,t)=>{let[r,n]=Q(e);if(t=_(t,n===0?1:n),t===0)return e;let o=Qt(e,n-t,t);return Qt(e,0,0,...o),e},is=(e,t)=>{let r=t.length,n=e.map(s=>Array(r).fill(s)),o=e.map(()=>t.slice());return[n,o]},cs=(e,t,r)=>{let n=t.length,o=r.length,s=Array(n).fill(void 0);for(let a=0;a<n;a++){let i=Array(o).fill(0),c=t[a];for(let p=0;p<o;p++)i[p]=e(c,r[p]);s[a]=i}return s};var ls=(e,t="data.bin",r="application/octet-stream")=>{let n=new Blob([e],{type:r}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=t,o.click(),URL.revokeObjectURL(o.href),o.remove()},rn=e=>{let t=new FileReader;return new Promise((r,n)=>{t.onload=()=>r(t.result),t.onerror=n,t.readAsDataURL(e)})},nn=e=>rn(e).then(t=>{let[r,n]=t.split(";base64,",2);return[r+";base64,",n]}),fs=e=>nn(e).then(t=>t[1]),xs=e=>{let t=atob(e),r=t.length,n=pe(t),o=new Uint8Array(r);for(let s=0;s<r;s++)o[s]=n(s);return o},bs=e=>{let r=[];for(let n=0;n<e.length;n+=32766){let o=e.subarray(n,n+32766);r.push(Vt(...o))}return btoa(r.join(""))},hs=async e=>{let[t,r]=e.tee(),n=await t.getReader().read(),o=n.value,s=typeof o,a=s==="object"?de(o)?"array":o instanceof Uint8Array?"uint8array":o instanceof ArrayBuffer?"arraybuffer":o??!1?"object":"null":s;return t.cancel(),e.cancel(),{kind:a,stream:r}};var nt=class extends Array{static[Symbol.species]=Array;constructor(t=[]){super(),super.push(...t)}insert(t,r){let n=_(t,this.length)+(t<0?1:0);this.splice(n,0,r)}delete(t){return this.splice(t,1)[0]}swap(t,r){[this[r],this[t]]=[this[t],this[r]]}get(t){return this[t]}set(t,r){return this[t]=r}static from(t,r,n){return new this(M(t,r,n))}static of(...t){return this.from(t)}},Zt=class extends nt{rc=new Map;getRc=L(this.rc);setRc=ce(this.rc);delRc=ke(this.rc);constructor(t=[]){super(),this.push(...t)}onAdded(t){}onDeleted(t){}incRcs(...t){let{getRc:r,setRc:n}=this;t.forEach(o=>{let s=(r(o)??0)+1;n(o,s),s===1&&this.onAdded(o)})}decRcs(...t){let{getRc:r,setRc:n,delRc:o}=this;t.forEach(s=>{let a=(r(s)??0)-1;a>0?n(s,a):(o(s),this.onDeleted(s))})}push(...t){let r=super.push(...t);return this.incRcs(...t),r}pop(){let t=this.length,r=super.pop();return this.length<t&&this.decRcs(r),r}shift(){let t=this.length,r=super.shift();return this.length<t&&this.decRcs(r),r}unshift(...t){let r=super.unshift(...t);return this.incRcs(...t),r}splice(t,r,...n){let o=super.splice(t,r,...n);return this.incRcs(...n),this.decRcs(...o),o}swap(t,r){let n=k(t,r);n>=this.length&&this.set(n,void 0),super.swap(t,r)}set(t,r){let n=super.get(t),o=this.length,s=t+1-o;if(s===1)this.push(r);else if(r!==n||s>1){if(r=super.set(t,r),this.incRcs(r),s>0){let{getRc:a,setRc:i}=this;i(void 0,(a(void 0)??0)+s)}this.decRcs(n)}return r}static from(t,r,n){return new this(M(t,r,n))}},er=class{constructor(t){this.length=t;this.items=Array(t),this.back=t-1}items;front=0;back;count=0;*[Symbol.iterator](){let t=this.count;for(let r=0;r<t;r++)yield this.at(r)}pushBack(...t){for(let r of t)this.count===this.length&&this.popFront(),this.items[this.back]=r,this.back=_(this.back-1,this.length),this.count++}pushFront(...t){for(let r of t)this.count===this.length&&this.popBack(),this.items[this.front]=r,this.front=_(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.seek(0)}getFront(){if(this.count!==0)return this.seek(-1)}popBack(){if(this.count===0)return;this.back=_(this.back+1,this.length);let t=this.items[this.back];return this.items[this.back]=void 0,this.count--,t}popFront(){if(this.count===0)return;this.front=_(this.front-1,this.length);let t=this.items[this.front];return this.items[this.front]=void 0,this.count--,t}rotate(t){let{front:r,back:n,length:o,count:s,items:a}=this;if(s!==0){if(t=_(t,s),s<o)for(let i=0;i<t;i++){let c=_(n-i,o),p=_(r-i-1,o);a[c]=a[p],a[p]=void 0}this.front=_(r-t,o),this.back=_(n-t,o)}}reverse(){this.normalize();let{count:t,length:r,items:n}=this;n.reverse(),this.front=0,this.back=_(0-t-1,r)}normalize(){let{length:t,count:r,back:n,items:o}=this;if(t<=0)return;let s=_(n+1,t),a=o.slice(s,s+r),i=r-a.length,c=o.slice(0,i),p=Array(t-r).fill(void 0);o.splice(0,t,...a,...c,...p),this.back=t-1,this.front=r}resolveIndex(t){return _(this.back+t+1,this.length)}resolveSeekIndex(t){let{front:r,back:n,count:o,length:s}=this,a=t<0?r:n+1,i=t<0?(t+1)%o-1:t%o;return _(a+i,s)}at(t){return this.items[this.resolveIndex(t)]}seek(t){return this.items[this.resolveSeekIndex(t)]}replace(t,r){this.items[this.resolveSeekIndex(t)]=r}insert(t,...r){this.normalize();let{count:n,length:o,items:s}=this,a=z(n+r.length,o),i=this.resolveSeekIndex(t)+(t<0?1:0),c=s.splice(i);s.push(...r,...c),s.splice(o),this.count=a,this.front=a}resize(t){this.normalize();let{length:r,count:n,items:o}=this,s=t-r,a=s<0,i=a?t:r,c=z(n,i),p=a?-s:0,u=a?0:s;o.splice(i,p,...Array(u).fill(void 0)),this.length=t,this.back=t-1,this.front=c,this.count=c}},tr=e=>{let t=[];e.forEach(o=>{t.push(...o)});let r=new Map([...new Set(t)].map(o=>[o,new Set])),n=L(r);for(let[o,s]of e)s.forEach(a=>n(a).add(o));return r},rr=class{constructor(t,r){let n=t??(r?tr(r):new Map),o=r??(t?tr(t):new Map),s=ce(n),a=ce(o),i=ke(n),c=ke(o),p=n.size,u=o.size,m=qe(n),f=qe(o),d=L(n),y=L(o),b=Je(n),l=Je(o),g=We(n),W=We(o),Fe=Xe(n),R=Xe(o),I=Qe(n),U=Qe(o),St=(x,...T)=>{let A=d(x)??(s(x,new Set)&&d(x)),C=we(A),N=ae(A);for(let D of T)C(D)||(N(D),y(D)?.add(x)||a(D,new Set([x])))},Pt=(x,...T)=>{let A=y(x)??(a(x,new Set)&&y(x)),C=we(A),N=ae(A);for(let D of T)C(D)||(N(D),d(D)?.add(x)||s(D,new Set([x])))},Yr=()=>{n.clear(),o.clear()},Rt=(x,T=!1)=>{let A=d(x);if(A){for(let C of A)y(C).delete(x);T?A.clear():T=i(x)}return T},vt=(x,T=!1)=>{let A=y(x);if(A){for(let C of A)d(C).delete(x);T?A.clear():T=c(x)}return T};Te(this,{fmap:n,rmap:o,size:p,rsize:u,forEach:m,rforEach:f,get:d,rget:y,has:b,rhas:l,entries:g,rentries:W,keys:Fe,rkeys:R,values:I,rvalues:U,add:St,radd:Pt,clear:Yr,delete:Rt,rdelete:vt,remove:(x,...T)=>{let A=d(x);if(A){let C=ie(A);for(let N of T)C(N)&&y(N).delete(x)}},rremove:(x,...T)=>{let A=y(x);if(A){let C=ie(A);for(let N of T)C(N)&&d(N).delete(x)}},set:(x,T)=>(Rt(x,!0),St(x,...T),this),rset:(x,T)=>(vt(x,!0),Pt(x,...T),this),[ne]:g,[Bt]:"InvertibleMap"})}},nr=class{constructor(t){let r,n=L(t),o=[],s=Gt(o),a=J(o),i=$t(o),c=Ye(o),p=new Map,u=L(p),m=ce(p),f=R=>{for(let I of n(R)??[]){let U=u(I);U?m(I,U+1):f(I)}m(R,1)},d=R=>{m(R,0);for(let I of n(R)??[]){let U=(u(I)??0)-1;U>-1&&(m(I,U),U<1&&d(I))}},y=()=>{i();for(let[R,I]of p)I>0&&a(R)},b=()=>(r=s(),r!==void 0&&m(r,0),r),l=(...R)=>{p.clear(),R.forEach(f),y()},g=(...R)=>{w(R)&&r!==void 0&&R.push(r),R.forEach(d),y()},W=()=>{p.clear(),i()},Fe=function*(){for(r=b();r!==void 0;)yield r,r=b()};Te(this,{edges:t,stack:o,fire:l,block:g,clear:W,pop:b,seek:c,[ne]:Fe})}},or=class{constructor(t){let{rforEach:r,get:n,rget:o}=t,s=new Set,a=ae(s),i=ie(s),c={},p={},u=()=>{s.clear(),c={},p={},r((y,b)=>{c[b]=y.size})},m=(...y)=>{0,u(),y.forEach(a)},f=(...y)=>{let b=[];for(let l of y)i(l)&&n(l)?.forEach(g=>{let W=(c[g]??o(g)?.size??1)-1;W<=0&&b.push(g),c[g]=W});return b.forEach(a),0,b},d=(...y)=>{let b=[];for(let l of y)i(l),n(l)?.forEach(g=>{(p[g]=(p[g]??0)+1)>=(o(g)?.size??0)&&b.push(g)});return y.concat(w(b)?b:d(...b))};Te(this,{pending:s,clear:u,fire:m,resolve:f,reject:d})}},ye=class{wmap=new WeakMap;smap=new Map;pick(t){return ue(t)?this.wmap:this.smap}get(t){return this.pick(t).get(t)}set(t,r){return this.pick(t).set(t,r),this}has(t){return this.pick(t).has(t)}delete(t){return this.pick(t).delete(t)}},st=Symbol(1),at=e=>class ir extends e{constructor(n=st){super();this.value=n}getDeep(n,o=!0){if(w(n))return this;let s=n.pop(),a=this.get(s);return!a&&o&&this.set(s,a=new ir),a?.getDeep(n,o)}setDeep(n,o,s=!0){let a=this.getDeep(n,s);return a&&(a.value=o),a}hasDeep(n){if(w(n))return!0;let o=n.pop();return this.get(o)?.hasDeep(n)??!1}delDeep(n){if(w(n))return!1;let[o,...s]=n;return this.getDeep(s,!1)?.delete(o)??!1}},Is=at(WeakMap),cr=at(Map),pr=at(ye),ot=class extends Array{static[Symbol.species]=Array;$set=new Set;$add=ae(this.$set);$del=ie(this.$set);includes=we(this.$set);top=Ye(this);fsync(){return super.splice(0),super.push(...this.$set)}rsync(){let{$set:t,$add:r}=this;return t.clear(),super.forEach(r),this.length}reset(t=[]){let{$set:r,$add:n}=this;r.clear(),t.forEach(n),this.fsync()}constructor(t){super(),this.reset(t)}pop(){let t=super.pop();return this.$del(t),t}push(...t){let r=this.includes,n=this.$add,o=t.filter(r);return o.forEach(n),super.push(...o)}pushFront(...t){return t.forEach(this.$del),t.forEach(this.$add),this.fsync()}shift(){let t=super.shift();return this.$del(t),t}unshift(...t){let r=this.includes,n=t.filter(r);return super.unshift(...n),this.rsync()}unshiftRear(...t){return this.delMany(...t),super.unshift(...t),this.rsync()}del(t){return this.$del(t)?(super.splice(super.indexOf(t),1),!0):!1}delMany(...t){t.forEach(this.$del),this.fsync()}},De=class extends Array{static[Symbol.species]=Array;min;max;resize_cb;constructor(t,r,n){super(),this.min=t,this.max=r,this.resize_cb=n}resize(t){let r=this.length,n=r-this.max>0?r-this.min:0;if(n>0){let o=super.splice(0,n);this.resize_cb?.(o)}return t}push(...t){return this.resize(super.push(...t))}},sr=class extends ot{min;max;resize_cb;constructor(t,r,n){super(),this.min=t,this.max=r,this.resize_cb=n}resize(t){let r=this.length,n=r-this.max>0?r-this.min:0;if(n>0){let o=super.splice(0,n);o.forEach(this.$del),this.resize_cb?.(o)}return t}push(...t){return this.resize(super.push(...t))}pushFront(...t){return this.resize(super.pushFront(...t))}},ar=class extends Array{static[Symbol.species]=Array;chain=[];pending=[];onEmpty;constructor(t=[],{onEmpty:r,isEmpty:n}={}){super(),console.log(t),this.chain.push(...t),this.onEmpty=r,n&&r?.()}push(...t){let r=super.push(...t),n=this.chain;return this.pending.push(...t.map(o=>{n.forEach(([a,i])=>{o=o.then(a,i)});let s=()=>this.del(o);return o.then(s,s),o})),r}del(t){let r=this.pending,n=r.indexOf(t);return n>=0?(r.splice(n,1),super.splice(n,1),w(this)&&this.onEmpty?.(),!0):!1}};var on=()=>{let t=new Int32Array(256);for(let r=0;r<256;r++){let n=r;for(let o=8;o>0;--o)n=n&1?n>>>1^-306674912:n>>>1;t[r]=n}return t},ur,ks=(e,t)=>{t=t===void 0?4294967295:t^-1,ur??=on();for(let r=0;r<e.length;++r)t=ur[(t^e[r])&255]^t>>>8;return(t^-1)>>>0};var it=(e,t)=>{let r=e;for(let n of t)r=r[n];return r},mr=(e,t,r)=>{let n=t.pop(),o=it(e,t);return t.push(n),o[n]=r,e},Ms=e=>[t=>it(e,t),(t,r)=>mr(e,t,r)],dr=e=>e.split(".").map(t=>isFinite(t)?B(t):t),sn=(e,t)=>it(e,dr(t)),an=(e,t,r)=>mr(e,dr(t),r),Os=e=>[t=>sn(e,t),(t,r)=>an(e,t,r)];var yr=(e,t)=>ct([e],t),ct=(e,t)=>t[0]==="u"?fr(e):br(e),lr=(e,t,r)=>{let[n,o]=pt(e,t,r,1);return[n[0],o]},pt=(e,t,r,n)=>r[0]==="u"?xr(e,t,n):hr(e,t,n),fr=e=>{let t=e.length,r=[];for(let n=0;n<t;n++){let o=e[n];o=o*(o>=0?1:-1);let s=[];do s.push((o&127)+128),o>>=7;while(o>0);s[0]&=127,r.push(...s.reverse())}return Uint8Array.from(r)},xr=(e,t=0,r)=>{r===void 0&&(r=1/0);let n=[],o=t,s=e.length,a=0;for(let i=e[t++];r>0&&t<s+1;i=e[t++])a<<=7,a+=i&127,i>>7||(n.push(a),r--,a=0);return t--,[n,t-o]},br=e=>{let t=e.length,r=[];for(let n=0;n<t;n++){let o=e[n],s=o>=0?1:-1,a=[];for(o=o*s;o>63;)a.push((o&127)+128),o>>=7;a.push(o&63|(s==-1?192:128)),a[0]&=127,r.push(...a.reverse())}return Uint8Array.from(r)},hr=(e,t=0,r)=>{r===void 0&&(r=1/0);let n=[],o=t,s=e.length,a=0,i=0;for(let c=e[t++];r>0&&t<s+1;c=e[t++])a===0?(a=(c&64)>0?-1:1,i=c&63):(i<<=7,i+=c&127),c>>7||(n.push(i*a),r--,a=0,i=0);return t--,[n,t-o]},Es=e=>fr([e]),js=(e,t=0)=>{let[r,n]=xr(e,t,1);return[r[0],n]},Vs=e=>br([e]),Bs=(e,t=0)=>{let[r,n]=hr(e,t,1);return[r[0],n]};var qs=e=>!!e.buffer,ut=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array}return Re(0),Uint8Array},cn=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,fe=cn(),Js=(e,t)=>{let r=e.byteLength;for(let n=0;n<r;n+=t)e.subarray(n,n+t).reverse();return e},mt=(e,t)=>{let r=e.byteLength,n=new Uint8Array(r),o=t;for(let s=0;s<o;s++){let a=o-1-s*2;for(let i=s;i<r+s;i+=o)n[i]=e[i+a]}return n},gr=(...e)=>{let t=[0];for(let n of e)t.push(t[t.length-1]+n.length);let r=new Uint8Array(t.pop());for(let n of e)r.set(n,t.shift());return r},_r=(...e)=>{let t=[0];for(let n of e)t.push(t[t.length-1]+n.length);let r=new(me(e[0]))(t.pop());for(let n of e)r.set(n,t.shift());return r},Xs=(e,t)=>dt(e,t),Qs=(e,t,r=0,n,o)=>{[n,o]=h(n,o,e.length);let s=[];for(let a=n;a<o;a+=t+r)s.push(e.slice(a,a+t));return s},dt=(e,t,r=0,n,o)=>{[n,o]=h(n,o,e.length);let s=[];for(let a=n;a<o;a+=t+r)s.push(e.subarray(a,a+t));return s},Zs=(e,t)=>e.length!==t.length?!1:pn(e,t),pn=(e,t)=>{let r=z(e.length,t.length);for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0},Tr=(e,t)=>{let r=[];for(let n=1;n<t.length;n++)r.push(e.slice(t[n-1],t[n]));return r},ea=(e,t)=>{let r=[];for(let n=1;n<t.length;n++)r.push(e.subarray(t[n-1],t[n]));return r},ta=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.slice(t[n-1],t[n]));return r},ra=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.subarray(t[n-1],t[n]));return r},na=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.slice(t[n-1],t[n]===void 0?void 0:t[n-1]+t[n]));return r},oa=(e,t)=>{let r=[];for(let n=1;n<t.length;n+=2)r.push(e.subarray(t[n-1],t[n]===void 0?void 0:t[n-1]+t[n]));return r};var Ar=new TextEncoder,Sr=new TextDecoder,ua=(e,t,r,...n)=>{let[o,s]=Rr(r,e,t,...n);return[o,t+s]},ma=(e,t,r,n,...o)=>{let s=Pr(r,n,...o);return e.set(s,t),[e,t+s.length]},da=(...e)=>{let t=[];for(let r of e)t.push(Pr(...r));return gr(...t)},ya=(e,t,...r)=>{let n=[],o=0;for(let[s,...a]of r){let[i,c]=Rr(s,e,t+o,...a);n.push(i),o+=c}return[n,o]},Pr=(e,t,...r)=>{switch(e){case"bool":return un(t);case"cstr":return dn(t);case"str":return ln(t);case"bytes":return xn(t);default:return e[1]==="v"?e.endsWith("[]")?ct(t,e):yr(t,e):e.endsWith("[]")?vr(t,e):hn(t,e)}},Rr=(e,t,r,...n)=>{switch(e){case"bool":return mn(t,r);case"cstr":return yn(t,r);case"str":return fn(t,r,...n);case"bytes":return bn(t,r,...n);default:return e[1]==="v"?e.endsWith("[]")?pt(t,r,e,...n):lr(t,r,e):e.endsWith("[]")?Ir(t,r,e,...n):gn(t,r,e)}},un=e=>Uint8Array.of(e?1:0),mn=(e,t=0)=>[e[t]>=1,1],dn=e=>Ar.encode(e+"\0"),yn=(e,t=0)=>{let r=e.indexOf(0,t),n=e.subarray(t,r);return[Sr.decode(n),n.length+1]},ln=e=>Ar.encode(e),fn=(e,t=0,r)=>{let n=r===void 0?void 0:t+r,o=e.subarray(t,n);return[Sr.decode(o),o.length]},xn=e=>e,bn=(e,t=0,r)=>{let n=r===void 0?void 0:t+r,o=e.slice(t,n);return[o,o.length]},vr=(e,t)=>{let[r,n,o]=t,s=ut(t),a=B(n),i=!!(o==="l"&&fe||o==="b"&&!fe||a===1),c=s.from(e);if(c instanceof Uint8Array)return c;let p=new Uint8Array(c.buffer);return i?p:mt(p,a)},Ir=(e,t=0,r,n)=>{let[o,s,a]=r,i=B(s),c=!!(a==="l"&&fe||a==="b"&&!fe||i===1),p=n?i*n:void 0,u=e.slice(t,p?t+p:void 0),m=u.length,f=ut(r),d=new f(c?u.buffer:mt(u,i).buffer);return[M(d),m]},hn=(e,t)=>vr([e],t),gn=(e,t=0,r)=>{let[n,o]=Ir(e,t,r,1);return[n[0],o]};var xa=(e,t)=>{let r={};for(let n in e)r[n]=e[n](t[n]);return r},ba=(e,t)=>{let r={};for(let n in e)r[n]=e[n](...t[n]);return r},G=(e,t)=>{let r=[],n=e.length;for(let o=0;o<n;o++)r.push(e[o](t[o]));return r},ha=(e,t)=>{let r=[],n=e.length;for(let o=0;o<n;o++)r.push(e[o](...t[o]));return r};var yt=(e,t)=>de(t)?t.map(e):e(t),H=e=>((e??1)*100).toFixed(0)+"%",Pa=e=>yt(H,e),Y=e=>Ze(e??0,0,255).toFixed(0),Ra=e=>yt(Y,e),lt=e=>(e??0).toFixed(1)+"deg",va=e=>yt(lt,e),$=e=>(e<16?"0":"")+(e|0).toString(16),_n=[$,$,$],Ia=e=>"#"+G(_n,e).join(""),Tn=[$,$,$,e=>$(Ze((e??1)*255,0,255))],Ca=e=>"#"+G(Tn,e).join(""),wa=e=>"rgb("+G([Y,Y,Y],e).join(",")+")",ka=e=>"rgba("+G([Y,Y,Y,H],e).join(",")+")",Ka=e=>"hsl("+G([lt,H,H],e).join(",")+")",Na=e=>"hsla("+G([lt,H,H,H],e).join(",")+")";var Cr,Me,ft=(e,t)=>(Cr??=new OffscreenCanvas(e??10,t??10),Cr),wr=(e,t)=>(Me===void 0&&(Me=ft(e,t).getContext("2d",{willReadFrequently:!0}),Me.imageSmoothingEnabled=!1),Me),ja=e=>e?.startsWith("data:image/")??!1,Va=e=>e.slice(0,e.indexOf(";base64,")+8),Ba=e=>e.slice(5,e.indexOf(";base64,")),La=e=>e.substring(e.indexOf(";base64,")+8),za=async(e,t,r,n,o)=>{r&&(r=Ke(r));let s=await xe(e,t),a=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,n):await createImageBitmap(s,n),i=ft(),c=wr();return i.width=a.width,i.height=a.height,c.globalCompositeOperation="copy",c.resetTransform(),c.drawImage(a,0,0),i.convertToBlob(o)},Ga=async(e,t,r,n,o)=>{r&&(r=Ke(r));let s=await xe(e,t),a=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,n):await createImageBitmap(s,n),i=ft(),c=wr();return i.width=a.width,i.height=a.height,c.globalCompositeOperation="copy",c.resetTransform(),c.drawImage(a,0,0),c.getImageData(0,0,a.width,a.height,o)},xe=async(e,t)=>{if(F(e)){let r=new Image;return r.src=e,r.decode().then(()=>r)}else{if(e instanceof Uint8ClampedArray)return Pe(new ImageData(e,t));if(ArrayBuffer.isView(e))return xe(new Uint8ClampedArray(e.buffer),t);if(e instanceof ArrayBuffer)return xe(new Uint8ClampedArray(e),t);if(e instanceof Array)return xe(Uint8ClampedArray.from(e),t)}return e},$a=(e,t,r,n=1)=>{let o=e.length/t,s=new Uint8ClampedArray(o).fill(1),a=new Uint8ClampedArray(o);if(r!==void 0){for(let i=0;i<o;i++)s[i]=e[i*t+r]<n?0:1;e=e.filter((i,c)=>c%t!==r),t--}for(let i=0;i<t;i++)for(let c=0;c<o;c++)a[c]+=e[c*t+i];if(r!==void 0)for(let i=0;i<o;i++)a[i]*=s[i];return new Uint8Array(a.buffer)},An=(e,t,r=1)=>{let{width:n,height:o,data:s}=e,a=s.length/(n*o),i=y=>s.subarray(y*n*a,(y*n+n)*a),c=y=>{let b=new Uint8Array(o*a);for(let l=0;l<o;l++)for(let g=0;g<a;g++)b[l*a+g]=s[(l*n+y)*a+g];return b},p=y=>{let b=0;for(let l=0,g=y.length;l<g;l+=a)b+=t(y[l+0],y[l+1],y[l+2],y[l+3]);return b};0;let[u,m,f,d]=[0,0,o,n];for(;u<o&&!(p(i(u))>=r);u++);for(;f>=u&&!(p(i(f))>=r);f--);for(;m<n&&!(p(c(m))>=r);m++);for(;d>=m&&!(p(c(d))>=r);d--);return{x:m,y:u,width:d-m,height:f-u}},Sn=(e,t)=>{let{width:r,height:n,data:o}=e,s=o.length/(r*n),a=Ke({x:0,y:0,width:r,height:n,...t}),[i,c,p,u]=[a.y,a.x,a.y+a.height,a.x+a.width];0;let m=a.width*s,f=(r-u+(c-0))*s,d=(i*r+c)*s,y=((p-1)*r+u)*s,b=dt(o,m,f,d,y),l=_r(...b);return s===4?new ImageData(l,a.width,a.height):{width:a.width,height:a.height,data:l,colorSpace:e.colorSpace??"srgb"}},Ha=(e,t,r=1)=>Sn(e,An(e,t,r)),Ya=(e,t)=>{let{x:r,y:n,width:o,channels:s}=e,{x:a,y:i,width:c,channels:p}=t,u=(a??0)-(r??0),m=(i??0)-(n??0);return f=>p*(f/s%o-u+((f/s/o|0)-m)*c)},Wa=e=>{Re(0)};var kr=Symbol(1),Pn=Symbol(1),ti=(e,t,r)=>{let n,o=()=>{};return(...s)=>(ve(n),r!==void 0&&o(r),new Promise((a,i)=>{o=i,n=oe(()=>a(t(...s)),e)}))},ri=(e,t)=>{let r,n,o,s=a=>(o=new Promise((i,c)=>n=i).then(s),a);return s(),(...a)=>(ve(r),r=oe(()=>n(t(...a)),e),o)},Rn=(e,t)=>{let r=0;return(...n)=>{let o=ge();return o-r>e?(r=o,t(...n)):kr}},ni=(e,t,r,n)=>{let o,s=()=>{},a=Rn(t,r);return(...i)=>{ve(o),n!==void 0&&s(n);let c=a(...i);return c===kr?new Promise((p,u)=>{s=u,o=oe(()=>p(r(...i)),e)}):Pe(c)}},oi=(e,t)=>new Promise((r,n)=>{oe(t?n:r,e,Pn)}),Oe=(e,t=!1)=>{let r=t?new ye:new Map,n=O(r,"get"),o=O(r,"set"),s=O(r,"has");return{fn:i=>{let c=s(i),p=c?n(i):e(i);return c||o(i,p),p},memory:r}},si=e=>Oe(e).fn,ai=(e,t)=>{let r=Oe(t),n=O(r.memory,"has"),o=r.fn;return a=>n(a)||--e>=0?o(a):t(a)},vn=(e,t,r)=>{let n=Oe(t),o=O(n.memory,"has"),s=n.fn;return i=>{let c=o(i)||--e>=0?s(i):r;return e===0&&(r??=c),c}},ii=(e,t,r)=>{let n=Oe(r),o=O(n.memory,"has"),s=O(n.memory,"delete"),a=n.fn,i=new De(e,t,u=>{u.forEach(s)}),c=O(i,"push");return u=>(o(u)||c(u),a(u))},ci=e=>vn(1,e),Kr=(e,t=!1)=>{let r=t?new pr:new cr;return{fn:(...o)=>{let s=r.getDeep(o.toReversed()),a=s.value!==st,i=a?s.value:e(...o);return a||(s.value=i),i},memory:r}},pi=e=>Kr(e,!1).fn,ui=e=>Kr(e,!0).fn,In=(e,t)=>e.length>1?r=>In(e.bind(void 0,r)):e.bind(t),Cn=(e,t,r=e.length)=>(...n)=>{r-=n.length;let o=e.bind(void 0,...n);return r<=0?o.call(t):Cn(o,t,r)};var yi=(e,t)=>{for(let r=0;r<t.length;r++)t[r]=e()},li=(e,t,r)=>{for(let n=0;n<t.length;n++)t[n]=e(r[n])},fi=(e,t,r,n)=>{for(let o=0;o<t.length;o++)t[o]=e(r[o],n[o])},xi=(e,t,r,n,o)=>{for(let s=0;s<t.length;s++)t[s]=e(r[s],n[s],o[s])},bi=(e,t,r,n,o,s)=>{for(let a=0;a<t.length;a++)t[a]=e(r[a],n[a],o[a],s[a])},hi=(e,t,r,n,o,s,a)=>{for(let i=0;i<t.length;i++)t[i]=e(r[i],n[i],o[i],s[i],a[i])},gi=(e,t,...r)=>{let n=r.length,o=Array(n).fill(0);for(let s=0;s<t.length;s++){for(let a=0;a<n;a++)o[a]=r[a][s];t[s]=e(...o)}},_i=(e,t,...r)=>{let n=e(...r);for(let o=0;o<t.length;o++)t[o]=n(o)};var Ri=e=>e[0].map((t,r)=>e.map(n=>n[r])),vi=(e,t,r)=>{[t,r]=h(t,r,e.length);let n=e.slice(t+1,r);for(let o=0;o<n.length;o++)n[o]-=e[t+o];return n},Ii=(e,t,r)=>{[t,r]=h(t,r,e.length);let n=e.slice(t,r-1);for(let o=0;o<n.length;o++)n[o]-=e[t+o+1];return n},Ci=e=>{let t=e.length,r=new(me(e))(t+1).fill(0);for(let n=0;n<t;n++)r[n+1]=r[n]+e[n];return r};var wi=(e,t=0,r)=>{[t,r]=h(t,r,e.length);for(let n=t;n<r;n++)e[n]*=e[n]<0?-1:1;return e},ki=(e,t=0,r)=>{[t,r]=h(t,r,e.length);for(let n=t;n<r;n++)e[n]*=-1;return e},Ki=(e,t,r)=>{[t,r]=h(t,r,e.length);for(let n=t;n<r;n++)e[n]=~e[n];return e},Ni=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]&=t;return e},Di=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]|=t;return e},Mi=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]^=t;return e},Oi=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]<<=t;return e},Fi=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]>>=t;return e},Ui=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]>>>=t;return e},Ei=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]+=t;return e},ji=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]-=t;return e},Vi=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]*=t;return e},Bi=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]/=t;return e},Li=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]**=t;return e},zi=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]%=t;return e},Gi=(e,t,r,n)=>{[r,n]=h(r,n,e.length);for(let o=r;o<n;o++)e[o]=(e[o]%t+t)%t;return e};var Mr={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},Ji=(e,t)=>{let{sep:r,prefix:n,postfix:o,trailingSep:s,bra:a,ket:i,toUpperCase:c,radix:p}={...Mr,...t},u=e.buffer?M(e):e,m=u.map(f=>{let d=(f|0).toString(p);return d=d.length===2?d:"0"+d,c?Le(d):d}).reduce((f,d)=>f+n+d+o+r,"");return a+m.slice(0,s?void 0:-r.length)+i},Xi=(e,t)=>{let{sep:r,prefix:n,postfix:o,bra:s,ket:a,radix:i}={...Mr,...t},[c,p,u,m,f]=[r,n,o,s,a].map(l=>l.length),d=e.slice(m,f>0?-f:void 0),y=p+2+u+c,b=[];for(let l=p;l<d.length;l+=y)b.push(B(d[l]+d[l+1],i));return b},Nr=(e,t)=>t>0?Le(e):t<0?ze(e):e,wn=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let n=pe(e),o;for(;o=n(t++);)if(o>64&&o<91)return t-1},kn=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let n=pe(e),o;for(;o=n(t++);)if(o>96&&o<123)return t-1},Kn=(e,t,r=0,n=void 0)=>t>0?wn(e,r,n):t<0?kn(e,r,n):void 0,Or=(e,t)=>{let[r,n,o,s="",a="",i=""]=e,c=t.length-1;return t.map((u,m)=>{let f=Nr(u[0],m>0?n:r),d=Nr(u.slice(1),o),y=m<c?s:"";return f+d+y}).reduce((u,m)=>u+m,a)+i},Fr=(e,t)=>{let[,r,,n="",o="",s=""]=e;t=t.slice(o.length,-s.length||void 0);let a;if(n===""){let i=[0],c=0;for(;c!==void 0;)c=Kn(t,r,c+1),i.push(c);a=Tr(t,i)}else a=t.split(n);return a.map(i=>ze(i))},Qi=(e,t,r)=>Or(t,Fr(e,r)),v=(e,t)=>{let r=Or.bind(void 0,t),n=Fr.bind(void 0,e);return o=>r(n(o))},Z=[-1,-1,-1,"_"],ee=[-1,-1,-1,"-"],te=[-1,1,-1,""],re=[1,1,-1,""],Zi=[1,1,1,"_"],ec=[1,1,1,"-"],tc=v(Z,ee),rc=v(Z,te),nc=v(Z,re),oc=v(ee,Z),sc=v(ee,te),ac=v(ee,re),ic=v(te,Z),cc=v(te,ee),pc=v(te,re),uc=v(re,Z),mc=v(re,ee),dc=v(re,te),Ur=e=>'"'+e+'"',Dr=e=>[...e.normalize("NFC")].toReversed().join(""),xt=e=>{if(e.length<1)return"";let r=e.map(i=>i.length),n=_e(...r),o=e[r.indexOf(n)],s=0,a=n;for(;s<=a;){let i=(s+a)/2|0,c=o.substring(0,i);e.every(p=>p.startsWith(c))?s=i+1:a=i-1}return o.substring(0,(s+a)/2|0)},yc=e=>Dr(xt(e.map(Dr))),Nn=/[.*+?^${}()|[\]\\]/g,lc=e=>e.replaceAll(Nn,"\\$&"),fc=(e,t,r="")=>e.startsWith(t)?r+e.slice(t.length):void 0,xc=(e,t,r="")=>e.endsWith(t)?(t===""?e:e.slice(0,-t.length))+r:void 0;var Dn=Ut({"node:":"node","npm:":"npm","jsr:":"jsr","blob:":"blob","data:":"data","http://":"http","https://":"https","file://":"file","./":"relative","../":"relative"}),Mn=["blob","data","relative"],On=["jsr","npm","node"],Fn=["jsr:","npm:","node:"],S="/",be="./",bt="../",Un=/\\/g,En=/^[a-z]\:[\/\\]/i,jn=/^\/+/,Vn=/(?<!\/\.\.?)\/+$/,Bn=/^(\.?\/)+/,Ln=/^(\/\.?(?![^\/]))*(\/(?!\.\.\/))?/,zn=/\/?[^\/]+$/,Gn=/^(?<basename>.+?)(?<ext>\.[^\.]+)?$/,$n=/^(?<protocol>jsr:|npm:|node:)(\/*(@(?<scope>[^\/\s]+)\/)?(?<pkg>[^@\/\s]+)(@(?<version>[^\/\r\n\t\f\v]+))?)?(?<pathname>\/.*)?$/,K=(e,t)=>e.startsWith(t),Lr=(e,t)=>e.endsWith(t),ht=e=>K(e,S)||K(e,"~")||En.test(e),Er=e=>{if(!(!e||e==="")){for(let[t,r]of Dn)if(K(e,t))return r;return ht(e)?"local":"relative"}},jr=e=>{e=Lt(F(e)?e:e.href);let{protocol:t,scope:r,pkg:n,version:o,pathname:s}=$n.exec(e)?.groups??{};if(t===void 0||n===void 0)throw new Error("");let a=r||void 0,i=o||void 0,c=s||S,p=`${a?"@"+a+S:""}${n}${i?"@"+i:""}`,u=Ie(`${t}/${p}${c}`);return{protocol:t,scope:a,pkg:n,version:i,pathname:c,host:p,href:u}},Hn=(e,t)=>{if(!F(e))return e;e=j(e);let r=t;if(F(t)){let s=Er(t);if(Mn.includes(s))throw new Error("");r=Hn(t)}let n=Er(e),o=On.includes(n);if(n==="local")return new URL("file://"+Ie(e));if(o)return new URL(jr(e).href);if(n==="relative"){let s=r?r.protocol:void 0;if(!Fn.includes(s))return new URL(Ie(e),r);let{protocol:i,host:c,pathname:p}=jr(r),u=new URL(e,"x:"+p).pathname;e=`${i}/${c}${u}`}return new URL(e)},zr=e=>e.replace(jn,""),Yn=e=>e.replace(Vn,""),Sc=e=>Yn(zr(e)),Pc=e=>K(e,S)?e:S+e,Rc=e=>K(e,be)?e:K(e,S)?"."+e:be+e,gt=e=>Lr(e,S)?e:e+S,Wn=e=>e.replace(Bn,""),qn=e=>{let t=[...e].toReversed().join(""),r=t.replace(Ln,"");return r==="."?"":[...r].toReversed().join("")},Jn=e=>qn(Wn(e)),vc=(e="",...t)=>t.map(Jn).reduce((r,n)=>(r===""?"":gt(r))+n,e),_t=(e,t={})=>{let{keepRelative:r=!0}=qt(t)?t:{},n=e.split(S),o=n.at(-1),s=[".."],a=r&&n[0]===".";n.length>=2&&(o==="."||o==="..")&&n.push("");for(let c of n)c===".."?s.at(-1)!==".."?s.pop():s.push(c):c!=="."&&s.push(c);return s.shift(),a&&s[0]!==".."&&s.unshift("."),s.join(S)},Tt=(e,t)=>_t(j(e),t),j=e=>e.replaceAll(Un,S),Ic=(e,t)=>Ur(j(t.join(e))),Gr=e=>{let t=xt(e),r=t.length;for(let n of e){let o=n.slice(r);if(!K(o,S)){let s=t.lastIndexOf(S)+1;return t.slice(0,s)}}return t},Cc=e=>Gr(e.map(Tt)),$r=(e,t)=>{let r=e.map(Tt),n=Gr(r),o=n.length;return M(r,a=>[n,a.slice(o)]).map(t)},wc=(e,t)=>(t=gt(t),$r(e,([r,n])=>(n=K(n,be)?n.slice(2):n,t+n))),Vr=e=>zr(zn.exec(e)?.[0]??""),Xn=e=>{let{basename:t="",ext:r=""}=Gn.exec(e)?.groups??{};return[t,r]},kc=e=>{let t=Tt(e),r=Vr(t),n=r.length,o=n>0?t.slice(0,-n):t,s=Vr(o.slice(0,-1)),[a,i]=Xn(r);return{path:t,dirpath:o,dirname:s,filename:r,basename:a,extname:i}},Kc=(e,t)=>{let[[r,n],[,o]]=$r([e,t],a=>a);if(r==="")throw new Error("");let s=Array(n.split(S).length).fill("..");return s[0]=".",_t(s.join(S)+S+o)},Hr=(...e)=>{e=e.map(r=>r==="."?be:r===".."?bt:r);let t=e.reduce((r,n)=>{let o=r.pop(),s=Lr(o,S),a=s?o:o+S;if(!s){let i=K(n,be),c=K(n,bt);i?n="."+n:c&&(n=bt+n)}return r.push(a,n),r},[S]);return t.shift(),_t(t.join(""))},Nc=(...e)=>Hr(...e.map(j)),Qn=(e,t=ht)=>{let r=F(e)?()=>e:e;return(...n)=>{let o=n.findLastIndex(t);return o>=0?n=n.slice(o):n.unshift(gt(r())),Hr(...n)}},Dc=(e,t=ht)=>{F(e)&&(e=j(e));let r=F(e)?()=>e:()=>j(e()),n=Qn(r,t);return(...o)=>n(...o.map(j))},Zn=/[\.\+\^\$\{\}\(\)\|\[\]\\]/g,Br="<<<StarStarWildcard>>>",Mc=e=>{let t=j(e),r=t.replace(Zn,"\\$&").replace(/\*\*\/?/g,Br).replace(/\*/g,"[^/]*").replace(/\?/g,".").replace(/\[!(.*)\]/g,"[^$1]").replace(/\[(.*)\]/g,"[$1]").replace(/\{([^,}]+),([^}]+)\}/g,"($1|$2)").replace(Br,".*");return new RegExp("^"+r+"$")};var eo=e=>e==="perf"?q:e==="date"?ge:e,jc=(e,...t)=>{let r=q();return e(...t),q()-r},Vc=async(e,...t)=>{let r=q();return await e(...t),q()-r},At=class{stack=[];time;constructor(t="perf"){this.time=eo(t)}getTime(){return this.time()}push(){let t=this.time();return this.stack.push(t),t}pushDelta(){let t=this.time(),r=this.seek();return this.stack.push(t),r===void 0?r:t-r}pop(){return this.stack.pop()}popDelta(){let t=this.time(),r=this.pop();if(r===void 0)throw new Error("");return t-r}seek(){return this.stack.at(-1)}seekDelta(){let t=this.time(),r=this.seek();return r===void 0?r:t-r}},Bc=new At("perf");var Gc=e=>e>=0&&e<=1,$c=e=>e>=0&&e<=255&&e===(e|0),Hc=e=>e>=0&&e<=360,Yc=e=>e>=0&&e<=Math.PI;export{ns as Array2DShape,ar as ChainedPromiseQueue,er as Deque,pr as HybridTree,ye as HybridWeakMap,rr as InvertibleMap,De as LimitedStack,sr as LimitedStackSet,nt as List,mc as PascalToKebab,uc as PascalToSnake,dc as PascalTocamel,Zt as RcList,ot as StackSet,At as Stopwatch,cr as StrongTree,kr as THROTTLE_REJECT,Pn as TIMEOUT,st as TREE_VALUE_UNSET,or as TopologicalAsyncScheduler,nr as TopologicalScheduler,Is as WeakTree,wi as abs,Ht as absolute,Ei as add,Vc as asyncTimeIt,Ni as band,xs as base64BodyToBytes,Ki as bcomp,Os as bindDotPathTo,Ms as bindKeyPathTo,rn as blobToBase64,fs as blobToBase64Body,nn as blobToBase64Split,Oi as blsh,Di as bor,Fi as brsh,Ui as bursh,Mi as bxor,bs as bytesToBase64Body,te as camelCase,cc as camelToKebab,pc as camelToPascal,ic as camelToSnake,Oo as chunkGenerator,Ze as clamp,Gr as commonNormalizedPosixPath,Cc as commonPath,wc as commonPathReplace,$r as commonPathTransform,xt as commonPrefix,yc as commonSuffix,gr as concatBytes,_r as concatTyped,Bo as constructFrom,xe as constructImageBitmapSource,za as constructImageBlob,Ga as constructImageData,me as constructorOf,Qi as convertCase,v as convertCase_Factory,Ya as coordinateTransformer,ks as crc32,on as createCrc32Table,Sn as cropImageData,Ci as cumulativeSum,In as curry,Cn as curryMulti,ti as debounce,ri as debounceAndShare,mn as decode_bool,bn as decode_bytes,yn as decode_cstr,Bs as decode_ivar,hr as decode_ivar_array,gn as decode_number,Ir as decode_number_array,fn as decode_str,js as decode_uvar,xr as decode_uvar_array,lr as decode_varint,pt as decode_varint_array,Bc as defaultStopwatch,hs as detectReadableStreamType,vi as diff,Ii as diff_right,Bi as div,dr as dotPathToKeyPath,ls as downloadBuffer,un as encode_bool,xn as encode_bytes,dn as encode_cstr,Vs as encode_ivar,br as encode_ivar_array,hn as encode_number,vr as encode_number_array,ln as encode_str,Es as encode_uvar,fr as encode_uvar_array,yr as encode_varint,ct as encode_varint_array,gt as ensureEndSlash,Rc as ensureStartDotSlash,Pc as ensureStartSlash,fe as env_is_little_endian,Nn as escapeLiteralCharsRegex,lc as escapeLiteralStringForRegex,kn as findNextLowerCase,wn as findNextUpperCase,Kn as findNextUpperOrLowerCase,Mn as forbiddenBaseUriSchemes,yt as formatEach,La as getBase64ImageBody,Va as getBase64ImageHeader,Ba as getBase64ImageMIMEType,ft as getBgCanvas,wr as getBgCtx,An as getBoundingBox,sn as getDotPath,cn as getEnvironmentEndianness,Lo as getInheritedPropertyKeys,it as getKeyPath,zo as getOwnGetterKeys,Ne as getOwnPropertyKeys,Go as getOwnSetterKeys,Er as getUriScheme,Mc as globPatternToRegex,Ji as hexStringOfArray,Xi as hexStringToArray,$ as hex_fmt,Ka as hsl_fmt,Na as hsla_fmt,$a as intensityBitmap,tr as invertMap,bo as invlerp,ho as invlerpClamped,go as invlerpi,_o as invlerpiClamped,ht as isAbsolutePath,de as isArray,ja as isBase64Image,qo as isBigint,tn as isBoolean,ue as isComplex,Hc as isDegrees,rt as isFunction,Zs as isIdentical,Wo as isNumber,Jo as isNumeric,qt as isObject,Yo as isPrimitive,Yc as isRadians,F as isString,pn as isSubidentical,Xo as isSymbol,qs as isTypedArray,$c as isUByte,Gc as isUnitInterval,Nc as joinPaths,Hr as joinPosixPaths,vc as joinSlash,ee as kebabCase,sc as kebabToCamel,ac as kebabToPascal,oc as kebabToSnake,mo as lerp,yo as lerpClamped,lo as lerpi,fo as lerpiClamped,Xr as lerpv,xo as lerpvClamped,To as limp,Ao as limpClamped,k as max,si as memorize,vn as memorizeAfterN,ai as memorizeAtmostN,Oe as memorizeCore,ii as memorizeLRU,pi as memorizeMulti,Kr as memorizeMultiCore,ui as memorizeMultiWeak,ci as memorizeOnce,is as meshGrid,cs as meshMap,z as min,Wt as mirrorObjectThroughComposition,Gi as mod,_ as modulo,Ho as monkeyPatchPrototypeOfClass,Vi as mult,ki as neg,os as newArray2D,Tt as normalizePath,_t as normalizePosixPath,Pr as pack,da as packSeq,kc as parseFilepathInfo,jr as parsePackageUrl,re as pascalCase,j as pathToPosixPath,Ic as pathsToCliArg,Pa as percent,H as percent_fmt,Ke as positiveRect,Li as pow,oi as promiseTimeout,tt as prototypeChainOfObject,X as prototypeOfClass,Ur as quote,Wa as randomRGBA,No as rangeArray,Zr as rangeIterator,ua as readFrom,ba as recordArgsMap,xa as recordMap,Kc as relativePath,zi as rem,fc as replacePrefix,xc as replaceSuffix,Hn as resolveAsUrl,Dc as resolvePathFactory,Qn as resolvePosixPathFactory,h as resolveRange,Dr as reverseString,wa as rgb_fmt,Ia as rgb_hex_fmt,ka as rgba_fmt,Ca as rgba_hex_fmt,wo as rotateArray,ss as rotateArray2DMajor,as as rotateArray2DMinor,Yt as roundFloat,ec as screamingKebabCase,Zi as screamingSnakeCase,ha as sequenceArgsMap,G as sequenceMap,an as setDotPath,mr as setKeyPath,Q as shapeOfArray2D,Qr as shuffleArray,ko as shuffledDeque,et as sign,Tr as sliceContinuous,ea as sliceContinuousTypedSubarray,na as sliceIntervalLengths,oa as sliceIntervalLengthsTypedSubarray,ta as sliceIntervals,ra as sliceIntervalsTypedSubarray,Qs as sliceSkip,dt as sliceSkipTypedSubarray,Z as snakeCase,rc as snakeToCamel,tc as snakeToKebab,nc as snakeToPascal,Xt as spliceArray2DMajor,Qt as spliceArray2DMinor,Ko as spliceGenericStack,Xs as splitTypedSubarray,ji as sub,$o as subclassThroughComposition,So as sum,mt as swapEndiannessFast,Js as swapEndiannessInplace,Rn as throttle,ni as throttleAndTrail,jc as timeIt,Nr as toUpperOrLowerCase,Fr as tokenToWords,Ri as transpose2D,Jt as transposeArray2D,at as treeClass_Factory,Jn as trimDotSlashes,qn as trimEndDotSlashes,Yn as trimEndSlashes,Ha as trimImagePadding,Sc as trimSlashes,Wn as trimStartDotSlashes,zr as trimStartSlashes,ut as typed_array_constructor_of,Ra as ubyte,Y as ubyte_fmt,va as udegree,lt as udegree_fmt,Rr as unpack,ya as unpackSeq,Dn as uriProtocolSchemeMap,yi as vectorize0,li as vectorize1,fi as vectorize2,xi as vectorize3,bi as vectorize4,hi as vectorize5,_i as vectorizeIndexHOF,gi as vectorizeN,Or as wordsToToken,ma as writeTo,Do as zipArrays,en as zipIterators,Mo as zipIteratorsMapperFactory};
