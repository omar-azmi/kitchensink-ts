"use strict";(()=>{Object.hasOwn||Object.defineProperty(Object,"hasOwn",{value:function(e,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),r)},configurable:!0,enumerable:!1,writable:!0});var X=String.fromCharCode,V=Promise.resolve,{isInteger:B,MAX_VALUE:M,NEGATIVE_INFINITY:sr,POSITIVE_INFINITY:ir}=Number;var Ie=-M,O=(e,r=Ie,t=M)=>e<r?r:e>t?t:e,b=(e,r)=>(e%r+r)%r,dr=(e,r,t)=>t*(r-e)+e,lr=(e,r,t)=>(t<0?0:t>1?1:t)*(r-e)+e,br=(e,r,t,n)=>t*(r[n]-e[n])+e[n],xr=(e,r,t,n)=>(t<0?0:t>1?1:t)*(r[n]-e[n])+e[n],ve=(e,r,t)=>{let n=e.length,o=Array(n).fill(0);for(let s=0,a=e.length;s<a;s++)o[s]=t*(r[s]-e[s])+e[s];return o},fr=(e,r,t)=>ve(e,r,t<0?0:t>1?1:t),hr=(e,r,t)=>(t-e)/(r-e),Tr=(e,r,t)=>{let n=(t-e)/(r-e);return n<0?0:n>1?1:n},Ar=(e,r,t,n)=>(t[n]-e[n])/(r[n]-e[n]),gr=(e,r,t,n)=>{let o=(t[n]-e[n])/(r[n]-e[n]);return o<0?0:o>1?1:o},Dr=(e,r,t)=>r[0]+(t-e[0])*(r[1]-r[0])/(e[1]-e[0]),Pr=(e,r,t)=>{let n=(t-e[0])/(e[1]-e[0]);return(n<0?0:n>1?1:n)*(r[1]-r[0])+r[0]},Ir=e=>{let r=0,t=e.length;for(let n=0;n<t;n++)r+=e[n];return r},vr=(e,r)=>e<r?e:r,E=(e,r)=>e>r?e:r;var v=e=>{let r=e.length,t=e[0]?.length??0;return[r,t]},Z=e=>{let[r,t]=v(e),n=[];for(let o=0;o<t;o++)n[o]=[];for(let o=0;o<r;o++)for(let s=0;s<t;s++)n[s][o]=e[o][s];return n},Q=(e,r,t,...n)=>{let[o,s]=v(e);return t??=E(o-r,0),e.splice(r,t,...n)},ee=(e,r,t,...n)=>{let[o,s]=v(e),a=n.length>0?Z(n):Array(o).fill([]);return t??=E(s-r,0),Z(e.map((i,u)=>i.splice(r,t,...a[u])))},wr=(e,r)=>{let[t,n]=v(e);if(r=b(r,t===0?1:t),r===0)return e;let o=Q(e,t-r,r);return Q(e,0,0,...o),e},kr=(e,r)=>{let[t,n]=v(e);if(r=b(r,n===0?1:n),r===0)return e;let o=ee(e,n-r,r);return ee(e,0,0,...o),e},Fr=(e,r)=>{let t=e.length,n=r.length,o=e.map(a=>Array(n).fill(a)),s=e.map(()=>r.slice());return[o,s]},Nr=(e,r,t)=>{let n=r.length,o=t.length,s=Array(n).fill(void 0);for(let a=0;a<n;a++){let i=Array(o).fill(0),u=r[a];for(let p=0;p<o;p++)i[p]=e(u,t[p]);s[a]=i}return s};var Vr=(e,r="data.bin",t="application/octet-stream")=>{let n=new Blob([e],{type:t}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=r,o.click(),URL.revokeObjectURL(o.href),o.remove()},_e=e=>{let r=new FileReader;return new Promise((t,n)=>{r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})},Ue=e=>_e(e).then(r=>{let[t,n]=r.split(";base64,",2);return[t+";base64,",n]}),Br=e=>Ue(e).then(r=>r[1]),Mr=e=>{let r=atob(e),t=r.length,n=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=r.charCodeAt(o);return n},Or=e=>{let t=[];for(let n=0;n<e.length;n+=32766){let o=e.subarray(n,n+32766);t.push(X(...o))}return btoa(t.join(""))};var re=class{constructor(r){this.length=r;this.items=Array(r),this.back=r-1}items;front=0;back;count=0;[Symbol.iterator]=()=>{let{at:r,count:t}=this,n=0;return{next:()=>n<t?{value:r(n++),done:!1}:{value:void 0,done:!0}}};pushBack(...r){for(let t of r)this.count===this.length&&this.popFront(),this.items[this.back]=t,this.back=b(this.back-1,this.length),this.count++}pushFront(...r){for(let t of r)this.count===this.length&&this.popBack(),this.items[this.front]=t,this.front=b(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.items[b(this.back+1,this.length)]}getFront(){if(this.count!==0)return this.items[b(this.front-1,this.length)]}popBack(){if(this.count===0)return;this.back=b(this.back+1,this.length);let r=this.items[this.back];return this.items[this.back]=void 0,this.count--,r}popFront(){if(this.count===0)return;this.front=b(this.front-1,this.length);let r=this.items[this.front];return this.items[this.front]=void 0,this.count--,r}rotate(r){let{front:t,back:n,length:o,count:s,items:a}=this;if(s!==0){if(r=b(r,s),s<o)for(let i=0;i<r;i++){let u=b(n-i,o),p=b(t-i-1,o);a[u]=a[p],a[p]=void 0}this.front=b(t-r,o),this.back=b(n-r,o)}}reverse(){let r=this.count/2|0,{length:t,front:n,back:o,items:s}=this;for(let a=1;a<=r;a++){let i=b(o+a,t),u=b(n-a,t),p=s[i];s[i]=s[u],s[u]=p}}resolveIndex=r=>b(this.back+r+1,this.length);at=r=>this.items[this.resolveIndex(r)];replace(r,t){this.items[b(this.back+r+1,this.count)]=t}insert(r,t){this.count===this.length&&this.popFront();let n=this.resolveIndex(r);for(let o=this.front;o>n;o--)this.items[o]=this.items[o-1];this.items[n]=t,this.count++}};var w,Ce=()=>{w=new Int32Array(256);let e=-306674912;for(let r=0;r<256;r++){let t=r;for(let n=8;n>0;--n)t=t&1?t>>>1^e:t>>>1;w[r]=t}},$r=(e,r)=>{r=r===void 0?4294967295:r^-1,w===void 0&&Ce();for(let t=0;t<e.length;++t)r=w[(r^e[t])&255]^r>>>8;return(r^-1)>>>0};var j=(e,r)=>{let t=e;for(let n of r)t=t[n];return t},te=(e,r,t)=>{let n=r.pop(),o=j(e,r);return o[n]=t,e},Jr=e=>[r=>j(e,r),(r,t)=>te(e,r,t)],we=(e,r)=>j(e,ne(r)),ke=(e,r,t)=>te(e,ne(r),t),Yr=e=>[r=>we(e,r),(r,t)=>ke(e,r,t)],ne=e=>e.split(".").map(r=>r==="0"?0:parseInt(r)||r);var oe=(e,r)=>L([e],r),L=(e,r)=>r[0]==="u"?se(e):ue(e),ae=(e,r,t)=>{let[n,o]=z(e,r,t,1);return[n[0],o]},z=(e,r,t,n)=>t[0]==="u"?ie(e,r,n):pe(e,r,n),se=e=>{let r=e.length,t=[];for(let n=0;n<r;n++){let o=e[n];o=o*(o>=0?1:-1);let s=[];do s.push((o&127)+128),o>>=7;while(o>0);s[0]&=127,t.push(...s.reverse())}return Uint8Array.from(t)},ie=(e,r=0,t)=>{t===void 0&&(t=1/0);let n=[],o=r,s=e.length,a=0;for(let i=e[r++];t>0&&r<s+1;i=e[r++])a<<=7,a+=i&127,i>>7||(n.push(a),t--,a=0);return r--,[n,r-o]},ue=e=>{let r=e.length,t=[];for(let n=0;n<r;n++){let o=e[n],s=o>=0?1:-1,a=[];for(o=o*s;o>63;)a.push((o&127)+128),o>>=7;a.push(o&63|(s==-1?192:128)),a[0]&=127,t.push(...a.reverse())}return Uint8Array.from(t)},pe=(e,r=0,t)=>{t===void 0&&(t=1/0);let n=[],o=r,s=e.length,a=0,i=0;for(let u=e[r++];t>0&&r<s+1;u=e[r++])a===0?(a=(u&64)>0?-1:1,i=u&63):(i<<=7,i+=u&127),u>>7||(n.push(i*a),t--,a=0,i=0);return r--,[n,r-o]},Zr=e=>se([e]),Qr=(e,r=0)=>{let[t,n]=ie(e,r,1);return[t[0],n]},et=e=>ue([e]),rt=(e,r=0)=>{let[t,n]=pe(e,r,1);return[t[0],n]};var ot=e=>!!e.buffer,q=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array;default:return console.error('an unrecognized typed array type `"${type}"` was provided'),Uint8Array}},Fe=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,_=Fe(),at=(e,r)=>{let t=e.byteLength;for(let n=0;n<t;n+=r)e.subarray(n,n+r).reverse();return e},$=(e,r)=>{let t=e.byteLength,n=new Uint8Array(t),o=r;for(let s=0;s<o;s++){let a=o-1-s*2;for(let i=s;i<t+s;i+=o)n[i]=e[i+a]}return n},ce=(...e)=>{let r=[0];for(let n of e)r.push(r[r.length-1]+n.length);let t=new Uint8Array(r.pop());for(let n of e)t.set(n,r.shift());return t},me=(...e)=>{let r=[0];for(let n of e)r.push(r[r.length-1]+n.length);let t=new e[0].constructor(r.pop());for(let n of e)t.set(n,r.shift());return t};function U(e,r,t,n){return e??=0,n??=0,t===void 0?[e+n,r===void 0?r:r+n,t]:(r??=t,e+=e>=0?0:t,r+=r>=0?0:t,t=r-e,[e+n,r+n,t>=0?t:0])}var st=(e,r)=>G(e,r),it=(e,r,t=0,n,o)=>{[n,o]=U(n,o,e.length);let s=[];for(let a=n;a<o;a+=r+t)s.push(e.slice(a,a+r));return s},G=(e,r,t=0,n,o)=>{[n,o]=U(n,o,e.length);let s=[];for(let a=n;a<o;a+=r+t)s.push(e.subarray(a,a+r));return s},ut=(e,r)=>e.length!==r.length?!1:Ne(e,r),Ne=(e,r)=>{let t=Math.min(e.length,r.length);for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0},ye=(e,r)=>{let t=[];for(let n=1;n<r.length;n++)t.push(e.slice(r[n-1],r[n]));return t},pt=(e,r)=>{let t=[];for(let n=1;n<r.length;n++)t.push(e.subarray(r[n-1],r[n]));return t},ct=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.slice(r[n-1],r[n]));return t},mt=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.subarray(r[n-1],r[n]));return t},yt=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.slice(r[n-1],r[n]===void 0?void 0:r[n-1]+r[n]));return t},dt=(e,r)=>{let t=[];for(let n=1;n<r.length;n+=2)t.push(e.subarray(r[n-1],r[n]===void 0?void 0:r[n-1]+r[n]));return t};var de=new TextEncoder,le=new TextDecoder,ht=(e,r,t,...n)=>{let[o,s]=xe(t,e,r,...n);return[o,r+s]},Tt=(e,r,t,n,...o)=>{let s=be(t,n,...o);return e.set(s,r),[e,r+s.length]},At=(...e)=>{let r=[];for(let t of e)r.push(be(...t));return ce(...r)},gt=(e,r,...t)=>{let n=[],o=0;for(let[s,...a]of t){let[i,u]=xe(s,e,r+o,...a);n.push(i),o+=u}return[n,o]},be=(e,r,...t)=>{switch(e){case"bool":return Ke(r);case"cstr":return Re(r);case"str":return Be(r);case"bytes":return Oe(r);default:return e[1]==="v"?e.endsWith("[]")?L(r,e):oe(r,e):e.endsWith("[]")?fe(r,e):je(r,e)}},xe=(e,r,t,...n)=>{switch(e){case"bool":return Se(r,t);case"cstr":return Ve(r,t);case"str":return Me(r,t,...n);case"bytes":return Ee(r,t,...n);default:return e[1]==="v"?e.endsWith("[]")?z(r,t,e,...n):ae(r,t,e):e.endsWith("[]")?he(r,t,e,...n):Le(r,t,e)}},Ke=e=>Uint8Array.of(e?1:0),Se=(e,r=0)=>[e[r]>=1,1],Re=e=>de.encode(e+"\0"),Ve=(e,r=0)=>{let t=e.indexOf(0,r),n=e.subarray(r,t);return[le.decode(n),n.length+1]},Be=e=>de.encode(e),Me=(e,r=0,t)=>{let n=t===void 0?void 0:r+t,o=e.subarray(r,n);return[le.decode(o),o.length]},Oe=e=>e,Ee=(e,r=0,t)=>{let n=t===void 0?void 0:r+t,o=e.slice(r,n);return[o,o.length]},fe=(e,r)=>{let[t,n,o]=r,s=q(r),a=parseInt(n),i=!!(o==="l"&&_||o==="b"&&!_||a===1),u=s.from(e);if(u instanceof Uint8Array)return u;let p=new Uint8Array(u.buffer);return i?p:$(p,a)},he=(e,r=0,t,n)=>{let[o,s,a]=t,i=parseInt(s),u=!!(a==="l"&&_||a==="b"&&!_||i===1),p=n?i*n:void 0,c=e.slice(r,p?r+p:void 0),y=c.length,l=q(t),m=new l(u?c.buffer:$(c,i).buffer);return[Array.from(m),y]},je=(e,r)=>fe([e],r),Le=(e,r=0,t)=>{let[n,o]=he(e,r,t,1);return[n[0],o]};var It=(e,r)=>{let t={};for(let n in e)t[n]=e[n](r[n]);return t},vt=(e,r)=>{let t={};for(let n in e)t[n]=e[n](...r[n]);return t},A=(e,r)=>{let t=[];for(let n=0;n<e.length;n++)t.push(e[n](r[n]));return t},_t=(e,r)=>{let t=[];for(let n=0;n<e.length;n++)t.push(e[n](...r[n]));return t};var H=(e,r)=>Array.isArray(r)?r.map(e):e(r),D=e=>((e??1)*100).toFixed(0)+"%",Nt=e=>H(D,e),P=e=>O(e??0,0,255).toFixed(0),Kt=e=>H(P,e),J=e=>(e??0).toFixed(1)+"deg",St=e=>H(J,e),g=e=>(e<16?"0":"")+(e|0).toString(16),ze=[g,g,g],Rt=e=>"#"+A(ze,e).join(""),qe=[g,g,g,e=>g(O((e??1)*255,0,255))],Vt=e=>"#"+A(qe,e).join(""),Bt=e=>"rgb("+A([P,P,P],e).join(",")+")",Mt=e=>"rgba("+A([P,P,P,D],e).join(",")+")",Ot=e=>"hsl("+A([J,D,D],e).join(",")+")",Et=e=>"hsla("+A([J,D,D,D],e).join(",")+")";var k=e=>{let{x:r,y:t,width:n,height:o}=e;return n<0&&(n*=-1,r-=n),o<0&&(o*=-1,t-=o),{x:r,y:t,width:n,height:o}};var Te,F,Y=(e,r)=>(Te??=new OffscreenCanvas(e??10,r??10),Te),Ae=(e,r)=>(F===void 0&&(F=Y(e,r).getContext("2d",{willReadFrequently:!0}),F.imageSmoothingEnabled=!1),F),Wt=e=>e===void 0?!1:e.startsWith("data:image/"),Xt=e=>e.slice(0,e.indexOf(";base64,")+8),Zt=e=>e.slice(5,e.indexOf(";base64,")),Qt=e=>e.substring(e.indexOf(";base64,")+8),en=async(e,r,t,n,o)=>{t&&(t=k(t));let s=await C(e,r),a=t?await createImageBitmap(s,t.x,t.y,t.width,t.height,n):await createImageBitmap(s,n),i=Y(),u=Ae();return i.width=a.width,i.height=a.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(a,0,0),i.convertToBlob(o)},rn=async(e,r,t,n,o)=>{t&&(t=k(t));let s=await C(e,r),a=t?await createImageBitmap(s,t.x,t.y,t.width,t.height,n):await createImageBitmap(s,n),i=Y(),u=Ae();return i.width=a.width,i.height=a.height,u.globalCompositeOperation="copy",u.resetTransform(),u.drawImage(a,0,0),u.getImageData(0,0,a.width,a.height,o)},C=(e,r)=>{if(typeof e=="string"){let t=new Image;return t.src=e,t.decode().then(()=>t)}else{if(e instanceof Uint8ClampedArray)return V(new ImageData(e,r));if(ArrayBuffer.isView(e))return C(new Uint8ClampedArray(e.buffer),r);if(e instanceof ArrayBuffer)return C(new Uint8ClampedArray(e),r);if(e instanceof Array)return C(Uint8ClampedArray.from(e),r)}return V(e)},tn=(e,r,t,n=1)=>{let o=e.length/r,s=new Uint8ClampedArray(o).fill(1),a=new Uint8ClampedArray(o);if(t!==void 0){for(let i=0;i<o;i++)s[i]=e[i*r+t]<n?0:1;e=e.filter((i,u)=>u%r!==t),r--}for(let i=0;i<r;i++)for(let u=0;u<o;u++)a[u]+=e[u*r+i];if(t!==void 0)for(let i=0;i<o;i++)a[i]*=s[i];return new Uint8Array(a.buffer)},$e=(e,r,t=1)=>{let{width:n,height:o,data:s}=e,a=s.length/(n*o),i=x=>s.subarray(x*n*a,(x*n+n)*a),u=x=>{let h=new Uint8Array(o*a);for(let d=0;d<o;d++)for(let T=0;T<a;T++)h[d*a+T]=s[(d*n+x)*a+T];return h},p=x=>{let h=0;for(let d=0,T=x.length;d<T;d+=a)h+=r(x[d+0],x[d+1],x[d+2],x[d+3]);return h};console.assert(B(a));let[c,y,l,m]=[0,0,o,n];for(;c<o&&!(p(i(c))>=t);c++);for(;l>=c&&!(p(i(l))>=t);l--);for(;y<n&&!(p(u(y))>=t);y++);for(;m>=y&&!(p(u(m))>=t);m--);return{x:y,y:c,width:m-y,height:l-c}},Ge=(e,r)=>{let{width:t,height:n,data:o}=e,s=o.length/(t*n),a=k({x:0,y:0,width:t,height:n,...r}),[i,u,p,c]=[a.y,a.x,a.y+a.height,a.x+a.width];console.assert(B(s));let y=a.width*s,l=(t-c+(u-0))*s,m=(i*t+u)*s,x=((p-1)*t+c)*s,h=G(o,y,l,m,x),d=me(...h);return s===4?new ImageData(d,a.width,a.height):{width:a.width,height:a.height,data:d,colorSpace:e.colorSpace??"srgb"}},nn=(e,r,t=1)=>Ge(e,$e(e,r,t)),on=(e,r)=>{let{x:t,y:n,width:o,channels:s}=e,{x:a,y:i,width:u,channels:p}=r,c=(a??0)-(t??0),y=(i??0)-(n??0);return l=>p*(l/s%o-c+((l/s/o|0)-y)*u)},an=e=>{console.error("not implemented")};var pn=(e,r)=>{for(let t=0;t<r.length;t++)r[t]=e()},cn=(e,r,t)=>{for(let n=0;n<r.length;n++)r[n]=e(t[n])},mn=(e,r,t,n)=>{for(let o=0;o<r.length;o++)r[o]=e(t[o],n[o])},yn=(e,r,t,n,o)=>{for(let s=0;s<r.length;s++)r[s]=e(t[s],n[s],o[s])},dn=(e,r,t,n,o,s)=>{for(let a=0;a<r.length;a++)r[a]=e(t[a],n[a],o[a],s[a])},ln=(e,r,t,n,o,s,a)=>{for(let i=0;i<r.length;i++)r[i]=e(t[i],n[i],o[i],s[i],a[i])},bn=(e,r,...t)=>{let n=t.length,o=Array(n).fill(0);for(let s=0;s<r.length;s++){for(let a=0;a<n;a++)o[a]=t[a][s];r[s]=e(...o)}},xn=(e,r,...t)=>{let n=e(...t);for(let o=0;o<r.length;o++)r[o]=n(o)};var An=e=>e[0].map((r,t)=>e.map(n=>n[t])),gn=(e,r,t)=>{[r,t]=U(r,t,e.length);let n=e.slice(r+1,t);for(let o=0;o<n.length;o++)n[o]-=e[r+o-1];return n},Dn=(e,r,t)=>{[r,t]=U(r,t,e.length);let n=e.slice(r,t-1);for(let o=0;o<n.length;o++)n[o]-=e[r+o+1];return n},Pn=e=>{let r=e.length,t=e.constructor(r+1).fill(0);for(let n=0;n<r;n++)t[n+1]=t[n]+e[n];return t};var In=(e,r=0,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]*=e[n]<0?-1:1;return e},vn=(e,r=0,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]*=-1;return e},_n=(e,r,t)=>{r??=0,t??=e.length;for(let n=r;n<t;n++)e[n]=~e[n];return e},Un=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]&=r;return e},Cn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]|=r;return e},wn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]^=r;return e},kn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]<<=r;return e},Fn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]>>=r;return e},Nn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]>>>=r;return e},Kn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]+=r;return e},Sn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]-=r;return e},Rn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]*=r;return e},Vn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]/=r;return e},Bn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]**=r;return e},Mn=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]%=r;return e},On=(e,r,t,n)=>{t??=0,n??=e.length;for(let o=t;o<n;o++)e[o]=(e[o]%r+r)%r;return e};var f,He=0,Je=(e,r)=>e===r,Ye=(e,r)=>!1,W=class{constructor(r,t){this.value=r;this.equals=t===!1?Ye:t??Je}observers=new Map;equals;getValue=()=>(f&&this.observers.set(f.id,f.computation),this.value);setValue=r=>{if(r=typeof r=="function"?r(this.value):r,!this.equals(this.value,r)){this.value=r;for(let t of this.observers.values())t()}}},N=class{constructor(r,t,n=He++){this.computation=r;this.cleanup=t;this.id=n;this.run()}run=()=>{this.cleanup&&this.cleanup(),f=this,this.computation(),f=void 0};dispose=()=>{this.cleanup&&this.cleanup()}},We=(e,r)=>{let t=new W(e,r?.equals);return[t.getValue,t.setValue]},Ln=(e,r)=>{let[t,n]=We(void 0,r);return new N(()=>n(e())),t},zn=e=>{let r;new N(()=>r=e(),()=>{r&&r()})},qn=e=>{let r=f;f=void 0,e(),f=r},Xe=e=>{let r=f;f=void 0;let t=e();return f=r,t},Ze=(e,r)=>{for(let t of e)t();return Xe(r)},$n=(e,r)=>()=>{Ze(e,r)};var De={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},Wn=(e,r)=>{let{sep:t,prefix:n,postfix:o,trailingSep:s,bra:a,ket:i,toUpperCase:u,radix:p}={...De,...r},c=e.buffer?Array.from(e):e,y=c.map(l=>{let m=(l|0).toString(p);return m=m.length===2?m:"0"+m,u?m.toUpperCase():m}).reduce((l,m)=>l+n+m+o+t,"");return a+y.slice(0,s?void 0:-t.length)+i},Xn=(e,r)=>{let{sep:t,prefix:n,postfix:o,bra:s,ket:a,radix:i}={...De,...r},[u,p,c,y,l]=[t,n,o,s,a].map(d=>d.length),m=e.slice(y,l>0?-l:void 0),x=p+2+c+u,h=[];for(let d=p;d<m.length;d+=x)h.push(parseInt(m[d]+m[d+1],i));return h},Qe=e=>e.toUpperCase(),Pe=e=>e.toLowerCase(),ge=(e,r)=>r===1?Qe(e):r===-1?Pe(e):e,er=(e,r=0,t=void 0)=>{t=(t<e.length?t:e.length)-1;for(let n=r,o=e.charCodeAt(n++);n<t;o=e.charCodeAt(n++))if(o>64&&o<91)return n-1},rr=(e,r=0,t=void 0)=>{t=(t<e.length?t:e.length)-1;for(let n=r,o=e.charCodeAt(n++);n<t;o=e.charCodeAt(n++))if(o>96&&o<123)return n-1},tr=(e,r,t=0,n=void 0)=>r===1?er(e,t,n):r===-1?rr(e,t,n):void 0,nr=(e,r)=>{let[t,n,o,s="",a="",i=""]=r,u=e.length-1;return e.map((c,y)=>{let l=ge(c[0],y>0?n:t),m=ge(c.slice(1),o),x=y<u?s:"";return l+m+x}).reduce((c,y)=>c+y,a)+i},or=(e,r)=>{let[t,n,o,s="",a="",i=""]=r;e=e.slice(a.length,-i.length||void 0);let u;if(s===""){let p=[0],c=0;for(;c!==void 0;)c=tr(e,n,c+1),p.push(c);u=ye(e,p)}else u=e.split(s);return u.map(p=>Pe(p))},ar=(e,r,t)=>nr(or(e,r),t),I=(e,r)=>t=>ar(t,e,r),K=[-1,-1,-1,"_"],S=[-1,-1,-1,"-"],R=[-1,1,-1,""],Zn=[1,1,-1,""],Qn=[1,1,1,"_"],eo=[1,1,1,"-"],ro=I(S,R),to=I(R,S),no=I(K,R),oo=I(R,K),ao=I(S,K),so=I(K,S);var po=e=>e>=0&&e<=1,co=e=>e>=0&&e<=255&&e===(e|0),mo=e=>e>=0&&e<=360,yo=e=>e>=0&&e<=Math.PI;})();
