var at=()=>{},U=e=>e.length===0,lt=String.fromCharCode,ge=e=>e.toUpperCase(),ye=e=>e.toLowerCase(),Z=Promise.resolve.bind(Promise),dr=Promise.reject.bind(Promise),ur=()=>new Promise(at),cr=()=>{let e,t;return[new Promise((r,i)=>{e=r,t=i}),e,t]},{from:ht,isArray:dt,of:_r}=Array,{MAX_VALUE:ve,NEGATIVE_INFINITY:fr,POSITIVE_INFINITY:pr,isFinite:mr,isInteger:br,isNaN:gr,parseFloat:yr,parseInt:W}=Number,{random:ut}=Math,{assign:ee,defineProperty:ct,entries:vr,fromEntries:wr,keys:xr,getPrototypeOf:_t,values:Ar}=Object,ft=Date.now,{iterator:te,toStringTag:pt}=Symbol,q=setTimeout,re=clearTimeout,Ir=setInterval,Sr=clearInterval,{assert:Tr,clear:Cr,debug:Er,dir:zr,error:we,log:kr,table:Mr}=console,{now:Ur}=performance,xe=(e,t=-ve,r=ve)=>e<t?t:e>r?r:e,x=(e,t)=>(e%t+t)%t,Br=(e,t,r)=>r*(t-e)+e,Pr=(e,t,r)=>(r<0?0:r>1?1:r)*(t-e)+e,Dr=(e,t,r,i)=>r*(t[i]-e[i])+e[i],Fr=(e,t,r,i)=>(r<0?0:r>1?1:r)*(t[i]-e[i])+e[i],mt=(e,t,r)=>{let i=e.length,n=Array(i).fill(0);for(let s=0,o=e.length;s<o;s++)n[s]=r*(t[s]-e[s])+e[s];return n},jr=(e,t,r)=>mt(e,t,r<0?0:r>1?1:r),Or=(e,t,r)=>(r-e)/(t-e),Lr=(e,t,r)=>{let i=(r-e)/(t-e);return i<0?0:i>1?1:i},Nr=(e,t,r,i)=>(r[i]-e[i])/(t[i]-e[i]),Rr=(e,t,r,i)=>{let n=(r[i]-e[i])/(t[i]-e[i]);return n<0?0:n>1?1:n},$r=(e,t,r)=>t[0]+(r-e[0])*(t[1]-t[0])/(e[1]-e[0]),Wr=(e,t,r)=>{let i=(r-e[0])/(e[1]-e[0]);return(i<0?0:i>1?1:i)*(t[1]-t[0])+t[0]},qr=e=>{let t=0,r=e.length;for(let i=0;i<r;i++)t+=e[i];return t},Vr=(e,t)=>e<t?e:t,ie=(e,t)=>e>t?e:t,ne=e=>{let{x:t,y:r,width:i,height:n}=e;return i<0&&(i*=-1,t-=i),n<0&&(n*=-1,r-=n),{x:t,y:r,width:i,height:n}},se=e=>_t(e).constructor,Kr=(e,...t)=>new(se(e))(...t),N=e=>e.prototype,Ae=e=>{let t=typeof e;return t==="object"||t==="function"},Gr=e=>!Ae(e),bt=e=>typeof e=="function",Hr=(e,t,r)=>{ct(N(e),t,{value:r})},j=e=>{let t=e.length,r=e[0]?.length??0;return[t,r]},Yr=j,Xr=(e,t,r)=>{let i=bt(r)?()=>Array(t).fill(void 0).map(r):()=>Array(t).fill(r);return Array(e).fill(void 0).map(i)},Ie=e=>{let[t,r]=j(e),i=[];for(let n=0;n<r;n++)i[n]=[];for(let n=0;n<t;n++)for(let s=0;s<r;s++)i[s][n]=e[n][s];return i},Se=(e,t,r,...i)=>{let[n,s]=j(e);return r??=ie(n-t,0),e.splice(t,r,...i)},Te=(e,t,r,...i)=>{let[n,s]=j(e),o=i.length>0?Ie(i):Array(n).fill([]);return r??=ie(s-t,0),Ie(e.map((a,l)=>a.splice(t,r,...o[l])))},Jr=(e,t)=>{let[r,i]=j(e);if(t=x(t,r===0?1:r),t===0)return e;let n=Se(e,r-t,t);return Se(e,0,0,...n),e},Qr=(e,t)=>{let[r,i]=j(e);if(t=x(t,i===0?1:i),t===0)return e;let n=Te(e,i-t,t);return Te(e,0,0,...n),e},Zr=(e,t)=>{let r=e.length,i=t.length,n=e.map(o=>Array(i).fill(o)),s=e.map(()=>t.slice());return[n,s]},ei=(e,t,r)=>{let i=t.length,n=r.length,s=Array(i).fill(void 0);for(let o=0;o<i;o++){let a=Array(n).fill(0),l=t[o];for(let d=0;d<n;d++)a[d]=e(l,r[d]);s[o]=a}return s},gt=e=>{let t=e.length,r=()=>ut()*t|0,i=(n,s)=>{let o=e[n];e[n]=e[s],e[s]=o};for(let n=0;n<t;n++)i(n,r());return e},ti=function*(e){let t=e.length;for(;!U(e);)t>=e.length&&(t=0,gt(e)),t=ie(t+((yield e[t])??1),0)},ri=(e,...t)=>r=>e.bind(r,...t),h=(e,t,...r)=>i=>e[t].bind(i,...r),ii=(e,t,...r)=>t.bind(e,...r),z=(e,t,...r)=>e[t].bind(e,...r),c=N(Array),k=N(Map),B=N(Set),oe=N(String),ni=h(c,"at"),si=h(c,"concat"),oi=h(c,"copyWithin"),ai=h(c,"entries"),li=h(c,"every"),hi=h(c,"fill"),di=h(c,"filter"),ui=h(c,"find"),ci=h(c,"findIndex"),_i=h(c,"findLast"),fi=h(c,"findLastIndex"),pi=h(c,"flat"),mi=h(c,"flatMap"),bi=h(c,"forEach"),gi=h(c,"includes"),yi=h(c,"indexOf"),vi=h(c,"join"),wi=h(c,"keys"),xi=h(c,"lastIndexOf"),Ai=h(c,"map"),yt=h(c,"pop"),vt=h(c,"push"),Ii=h(c,"reduce"),Si=h(c,"reduceRight"),Ti=h(c,"reverse"),Ci=h(c,"shift"),Ei=h(c,"slice"),zi=h(c,"some"),ki=h(c,"sort"),Mi=h(c,"splice"),Ui=h(c,"unshift"),Bi=h(c,"toLocaleString"),Pi=h(c,"toReversed"),Di=h(c,"toSorted"),Fi=h(c,"toSpliced"),ji=h(c,"toString"),Oi=h(c,"values"),Li=h(c,"with"),wt=h(c,"splice",0),Ce=h(c,"at",-1),V=h(B,"add"),Ni=h(B,"clear"),K=h(B,"delete"),Ri=h(B,"entries"),$i=h(B,"forEach"),ae=h(B,"has"),Wi=h(B,"keys"),qi=h(B,"values"),Vi=h(k,"clear"),Ee=h(k,"delete"),ze=h(k,"entries"),ke=h(k,"forEach"),R=h(k,"get"),Me=h(k,"has"),Ue=h(k,"keys"),le=h(k,"set"),Be=h(k,"values"),Ki=h(oe,"at"),Gi=h(oe,"charAt"),he=h(oe,"charCodeAt"),Hi=h(oe,"codePointAt"),Yi=(e,t="data.bin",r="application/octet-stream")=>{let i=new Blob([e],{type:r}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=t,n.click(),URL.revokeObjectURL(n.href),n.remove()},xt=e=>{let t=new FileReader;return new Promise((r,i)=>{t.onload=()=>r(t.result),t.onerror=i,t.readAsDataURL(e)})},At=e=>xt(e).then(t=>{let[r,i]=t.split(";base64,",2);return[r+";base64,",i]}),Xi=e=>At(e).then(t=>t[1]),Ji=e=>{let t=atob(e),r=t.length,i=he(t),n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=i(s);return n},Qi=e=>{let t=[];for(let r=0;r<e.length;r+=32766){let i=e.subarray(r,r+32766);t.push(lt(...i))}return btoa(t.join(""))},Zi=class{constructor(e){this.length=e,this.items=Array(e),this.back=e-1}items;front=0;back;count=0;pushBack(...e){for(let t of e)this.count===this.length&&this.popFront(),this.items[this.back]=t,this.back=x(this.back-1,this.length),this.count++}pushFront(...e){for(let t of e)this.count===this.length&&this.popBack(),this.items[this.front]=t,this.front=x(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.items[x(this.back+1,this.length)]}getFront(){if(this.count!==0)return this.items[x(this.front-1,this.length)]}popBack(){if(this.count===0)return;this.back=x(this.back+1,this.length);let e=this.items[this.back];return this.items[this.back]=void 0,this.count--,e}popFront(){if(this.count===0)return;this.front=x(this.front-1,this.length);let e=this.items[this.front];return this.items[this.front]=void 0,this.count--,e}rotate(e){let{front:t,back:r,length:i,count:n,items:s}=this;if(n!==0){if(e=x(e,n),n<i)for(let o=0;o<e;o++){let a=x(r-o,i),l=x(t-o-1,i);s[a]=s[l],s[l]=void 0}this.front=x(t-e,i),this.back=x(r-e,i)}}reverse(){let e=this.count/2|0,{length:t,front:r,back:i,items:n}=this;for(let s=1;s<=e;s++){let o=x(i+s,t),a=x(r-s,t),l=n[o];n[o]=n[a],n[a]=l}}resolveIndex(e){return x(this.back+e+1,this.length)}at(e){return this.items[this.resolveIndex(e)]}replace(e,t){this.items[x(this.back+e+1,this.count)]=t}insert(e,t){this.count===this.length&&this.popFront();let r=this.resolveIndex(e);for(let i=this.front;i>r;i--)this.items[i]=this.items[i-1];this.items[r]=t,this.count++}},Pe=e=>{let t=[];e.forEach(n=>{t.push(...n)});let r=new Map([...new Set(t)].map(n=>[n,new Set])),i=R(r);for(let[n,s]of e)s.forEach(o=>i(o).add(n));return r},en=class{constructor(e,t){let r=e??(t?Pe(t):new Map),i=t??(e?Pe(e):new Map),n=le(r),s=le(i),o=Ee(r),a=Ee(i),l=r.size,d=i.size,_=ke(r),g=ke(i),p=R(r),u=R(i),m=Me(r),y=Me(i),f=ze(r),I=ze(i),be=Ue(r),A=Ue(i),S=Be(r),M=Be(i),it=(b,...v)=>{let w=p(b)??(n(b,new Set)&&p(b)),T=ae(w),C=V(w);for(let E of v)T(E)||(C(E),u(E)?.add(b)||s(E,new Set([b])))},nt=(b,...v)=>{let w=u(b)??(s(b,new Set)&&u(b)),T=ae(w),C=V(w);for(let E of v)T(E)||(C(E),p(E)?.add(b)||n(E,new Set([b])))},hr=()=>{r.clear(),i.clear()},st=(b,v=!1)=>{let w=p(b);if(w){for(let T of w)u(T).delete(b);v?w.clear():v=o(b)}return v},ot=(b,v=!1)=>{let w=u(b);if(w){for(let T of w)p(T).delete(b);v?w.clear():v=a(b)}return v};ee(this,{fmap:r,rmap:i,size:l,rsize:d,forEach:_,rforEach:g,get:p,rget:u,has:m,rhas:y,entries:f,rentries:I,keys:be,rkeys:A,values:S,rvalues:M,add:it,radd:nt,clear:hr,delete:st,rdelete:ot,remove:(b,...v)=>{let w=p(b);if(w){let T=K(w);for(let C of v)T(C)&&u(C).delete(b)}},rremove:(b,...v)=>{let w=u(b);if(w){let T=K(w);for(let C of v)T(C)&&p(C).delete(b)}},set:(b,v)=>(st(b,!0),it(b,...v),this),rset:(b,v)=>(ot(b,!0),nt(b,...v),this),[te]:f,[pt]:"InvertibleMap"})}},tn=class{constructor(e){let t,r=R(e),i=[],n=yt(i),s=vt(i),o=wt(i),a=Ce(i),l=new Map,d=R(l),_=le(l),g=A=>{for(let S of r(A)??[]){let M=d(S);M?_(S,M+1):g(S)}_(A,1)},p=A=>{_(A,0);for(let S of r(A)??[]){let M=(d(S)??0)-1;M>-1&&(_(S,M),M<1&&p(S))}},u=()=>{o();for(let[A,S]of l)S>0&&s(A)},m=()=>(t=n(),t!==void 0&&_(t,0),t),y=(...A)=>{l.clear(),A.forEach(g),u()},f=(...A)=>{U(A)&&t!==void 0&&A.push(t),A.forEach(p),u()},I=()=>{l.clear(),o()},be=function*(){for(t=m();t!==void 0;)yield t,t=m()};ee(this,{edges:e,stack:i,fire:y,block:f,clear:I,pop:m,seek:a,[te]:be})}},rn=class{constructor(e){let{rforEach:t,get:r,rget:i}=e,n=new Set,s=V(n),o=K(n),a={},l={},d=()=>{n.clear(),a={},l={},t((u,m)=>{a[m]=u.size})},_=(...u)=>{d(),u.forEach(s)},g=(...u)=>{let m=[];for(let y of u)o(y)&&r(y)?.forEach(f=>{let I=(a[f]??i(f)?.size??1)-1;I<=0&&m.push(f),a[f]=I});return m.forEach(s),m},p=(...u)=>{let m=[];for(let y of u)o(y),r(y)?.forEach(f=>{(l[f]=(l[f]??0)+1)>=(i(f)?.size??0)&&m.push(f)});return u.concat(U(m)?m:p(...m))};ee(this,{pending:n,clear:d,fire:_,resolve:g,reject:p})}},De=class{wmap=new WeakMap;smap=new Map;pick(e){return Ae(e)?this.wmap:this.smap}get(e){return this.pick(e).get(e)}set(e,t){return this.pick(e).set(e,t),this}has(e){return this.pick(e).has(e)}delete(e){return this.pick(e).delete(e)}},Fe=Symbol(1),de=e=>class lr extends e{constructor(r=Fe){super(),this.value=r}getDeep(r,i=!0){if(U(r))return this;let n=r.pop(),s=this.get(n);return!s&&i&&this.set(n,s=new lr),s?.getDeep(r,i)}setDeep(r,i,n=!0){let s=this.getDeep(r,n);return s&&(s.value=i),s}hasDeep(r){if(U(r))return!0;let i=r.pop();return this.get(i)?.hasDeep(r)??!1}delDeep(r){if(U(r))return!1;let[i,...n]=r;return this.getDeep(n,!1)?.delete(i)??!1}},nn=de(WeakMap),It=de(Map),St=de(De),Tt=class extends Array{$set=new Set;$add=V(this.$set);$del=K(this.$set);includes=ae(this.$set);top=Ce(this);fsync(){return super.splice(0),super.push(...this.$set)}rsync(){let{$set:e,$add:t}=this;return e.clear(),super.forEach(t),this.length}reset(e=[]){let{$set:t,$add:r}=this;t.clear(),e.forEach(r),this.fsync()}constructor(e){super(),this.reset(e)}pop(){let e=super.pop();return this.$del(e),e}push(...e){let t=this.includes,r=this.$add,i=e.filter(t);return i.forEach(r),super.push(...i)}pushFront(...e){return e.forEach(this.$del),e.forEach(this.$add),this.fsync()}shift(){let e=super.shift();return this.$del(e),e}unshift(...e){let t=this.includes,r=e.filter(t);return super.unshift(...r),this.rsync()}unshiftRear(...e){return this.delMany(...e),super.unshift(...e),this.rsync()}del(e){return this.$del(e)?(super.splice(super.indexOf(e),1),!0):!1}delMany(...e){e.forEach(this.$del),this.fsync()}},Ct=class extends Array{min;max;resize_cb;constructor(e,t,r){super(),this.min=e,this.max=t,this.resize_cb=r}resize(e){let t=this.length,r=t-this.max>0?t-this.min:0;if(r>0){let i=super.splice(0,r);this.resize_cb?.(i)}return e}push(...e){return this.resize(super.push(...e))}},sn=class extends Tt{min;max;resize_cb;constructor(e,t,r){super(),this.min=e,this.max=t,this.resize_cb=r}resize(e){let t=this.length,r=t-this.max>0?t-this.min:0;if(r>0){let i=super.splice(0,r);i.forEach(this.$del),this.resize_cb?.(i)}return e}push(...e){return this.resize(super.push(...e))}pushFront(...e){return this.resize(super.pushFront(...e))}},on=class extends Array{chain=[];pending=[];onEmpty;constructor(e,{onEmpty:t,isEmpty:r}={}){super(),this.chain.push(...e),this.onEmpty=t,r&&t?.()}push(...e){let t=super.push(...e),r=this.chain;return this.pending.push(...e.map(i=>{r.forEach(([s,o])=>{i=i.then(s,o)});let n=()=>this.del(i);return i.then(n,n),i})),t}del(e){let t=this.pending,r=t.indexOf(e);return r>=0?(t.splice(r,1),super.splice(r,1),U(this)&&this.onEmpty?.(),!0):!1}},ue,an=()=>{ue=new Int32Array(256);let e=-306674912;for(let t=0;t<256;t++){let r=t;for(let i=8;i>0;--i)r=r&1?r>>>1^e:r>>>1;ue[t]=r}},ln=(e,t)=>{t=t===void 0?4294967295:t^-1,ue===void 0&&an();for(let r=0;r<e.length;++r)t=ue[(t^e[r])&255]^t>>>8;return(t^-1)>>>0},ce=(e,t)=>{let r=e;for(let i of t)r=r[i];return r},je=(e,t,r)=>{let i=t.pop(),n=ce(e,t);return n[i]=r,e},hn=e=>[t=>ce(e,t),(t,r)=>je(e,t,r)],Et=(e,t)=>ce(e,Oe(t)),zt=(e,t,r)=>je(e,Oe(t),r),dn=e=>[t=>Et(e,t),(t,r)=>zt(e,t,r)],Oe=e=>e.split(".").map(t=>t==="0"?0:W(t)||t),kt=(e,t)=>Le([e],t),Le=(e,t)=>t[0]==="u"?Re(e):$e(e),Mt=(e,t,r)=>{let[i,n]=Ne(e,t,r,1);return[i[0],n]},Ne=(e,t,r,i)=>r[0]==="u"?Ut(e,t,i):We(e,t,i),Re=e=>{let t=e.length,r=[];for(let i=0;i<t;i++){let n=e[i];n=n*(n>=0?1:-1);let s=[];do s.push((n&127)+128),n>>=7;while(n>0);s[0]&=127,r.push(...s.reverse())}return Uint8Array.from(r)},Ut=(e,t=0,r)=>{r===void 0&&(r=1/0);let i=[],n=t,s=e.length,o=0;for(let a=e[t++];r>0&&t<s+1;a=e[t++])o<<=7,o+=a&127,a>>7||(i.push(o),r--,o=0);return t--,[i,t-n]},$e=e=>{let t=e.length,r=[];for(let i=0;i<t;i++){let n=e[i],s=n>=0?1:-1,o=[];for(n=n*s;n>63;)o.push((n&127)+128),n>>=7;o.push(n&63|(s==-1?192:128)),o[0]&=127,r.push(...o.reverse())}return Uint8Array.from(r)},We=(e,t=0,r)=>{r===void 0&&(r=1/0);let i=[],n=t,s=e.length,o=0,a=0;for(let l=e[t++];r>0&&t<s+1;l=e[t++])o===0?(o=(l&64)>0?-1:1,a=l&63):(a<<=7,a+=l&127),l>>7||(i.push(a*o),r--,o=0,a=0);return t--,[i,t-n]},un=e=>Re([e]),cn=(e,t=0)=>{let[r,i]=Ut(e,t,1);return[r[0],i]},_n=e=>$e([e]),fn=(e,t=0)=>{let[r,i]=We(e,t,1);return[r[0],i]},pn=e=>!!e.buffer,qe=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array;default:return we(0),Uint8Array}},Bt=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,G=Bt(),mn=(e,t)=>{let r=e.byteLength;for(let i=0;i<r;i+=t)e.subarray(i,i+t).reverse();return e},Ve=(e,t)=>{let r=e.byteLength,i=new Uint8Array(r),n=t;for(let s=0;s<n;s++){let o=n-1-s*2;for(let a=s;a<r+s;a+=n)i[a]=e[a+o]}return i},Pt=(...e)=>{let t=[0];for(let i of e)t.push(t[t.length-1]+i.length);let r=new Uint8Array(t.pop());for(let i of e)r.set(i,t.shift());return r},Dt=(...e)=>{let t=[0];for(let i of e)t.push(t[t.length-1]+i.length);let r=new(se(e[0]))(t.pop());for(let i of e)r.set(i,t.shift());return r};function H(e,t,r,i){return e??=0,i??=0,r===void 0?[e+i,t===void 0?t:t+i,r]:(t??=r,e+=e>=0?0:r,t+=t>=0?0:r,r=t-e,[e+i,t+i,r>=0?r:0])}var bn=(e,t)=>Ke(e,t),gn=(e,t,r=0,i,n)=>{[i,n]=H(i,n,e.length);let s=[];for(let o=i;o<n;o+=t+r)s.push(e.slice(o,o+t));return s},Ke=(e,t,r=0,i,n)=>{[i,n]=H(i,n,e.length);let s=[];for(let o=i;o<n;o+=t+r)s.push(e.subarray(o,o+t));return s},yn=(e,t)=>e.length!==t.length?!1:Ft(e,t),Ft=(e,t)=>{let r=Math.min(e.length,t.length);for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0},jt=(e,t)=>{let r=[];for(let i=1;i<t.length;i++)r.push(e.slice(t[i-1],t[i]));return r},vn=(e,t)=>{let r=[];for(let i=1;i<t.length;i++)r.push(e.subarray(t[i-1],t[i]));return r},wn=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.slice(t[i-1],t[i]));return r},xn=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.subarray(t[i-1],t[i]));return r},An=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.slice(t[i-1],t[i]===void 0?void 0:t[i-1]+t[i]));return r},In=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.subarray(t[i-1],t[i]===void 0?void 0:t[i-1]+t[i]));return r},Ot=new TextEncoder,Lt=new TextDecoder,Sn=(e,t,r,...i)=>{let[n,s]=He(r,e,t,...i);return[n,t+s]},Tn=(e,t,r,i,...n)=>{let s=Ge(r,i,...n);return e.set(s,t),[e,t+s.length]},Cn=(...e)=>{let t=[];for(let r of e)t.push(Ge(...r));return Pt(...t)},En=(e,t,...r)=>{let i=[],n=0;for(let[s,...o]of r){let[a,l]=He(s,e,t+n,...o);i.push(a),n+=l}return[i,n]},Ge=(e,t,...r)=>{switch(e){case"bool":return Nt(t);case"cstr":return $t(t);case"str":return qt(t);case"bytes":return Kt(t);default:return e[1]==="v"?e.endsWith("[]")?Le(t,e):kt(t,e):e.endsWith("[]")?Ye(t,e):Ht(t,e)}},He=(e,t,r,...i)=>{switch(e){case"bool":return Rt(t,r);case"cstr":return Wt(t,r);case"str":return Vt(t,r,...i);case"bytes":return Gt(t,r,...i);default:return e[1]==="v"?e.endsWith("[]")?Ne(t,r,e,...i):Mt(t,r,e):e.endsWith("[]")?Xe(t,r,e,...i):Yt(t,r,e)}},Nt=e=>Uint8Array.of(e?1:0),Rt=(e,t=0)=>[e[t]>=1,1],$t=e=>Ot.encode(e+"\0"),Wt=(e,t=0)=>{let r=e.indexOf(0,t),i=e.subarray(t,r);return[Lt.decode(i),i.length+1]},qt=e=>Ot.encode(e),Vt=(e,t=0,r)=>{let i=r===void 0?void 0:t+r,n=e.subarray(t,i);return[Lt.decode(n),n.length]},Kt=e=>e,Gt=(e,t=0,r)=>{let i=r===void 0?void 0:t+r,n=e.slice(t,i);return[n,n.length]},Ye=(e,t)=>{let[r,i,n]=t,s=qe(t),o=W(i),a=!!(n==="l"&&G||n==="b"&&!G||o===1),l=s.from(e);if(l instanceof Uint8Array)return l;let d=new Uint8Array(l.buffer);return a?d:Ve(d,o)},Xe=(e,t=0,r,i)=>{let[n,s,o]=r,a=W(s),l=!!(o==="l"&&G||o==="b"&&!G||a===1),d=i?a*i:void 0,_=e.slice(t,d?t+d:void 0),g=_.length,p=qe(r),u=new p(l?_.buffer:Ve(_,a).buffer);return[Array.from(u),g]},Ht=(e,t)=>Ye([e],t),Yt=(e,t=0,r)=>{let[i,n]=Xe(e,t,r,1);return[i[0],n]},zn=(e,t)=>{let r={};for(let i in e)r[i]=e[i](t[i]);return r},kn=(e,t)=>{let r={};for(let i in e)r[i]=e[i](...t[i]);return r},O=(e,t)=>{let r=[];for(let i=0;i<e.length;i++)r.push(e[i](t[i]));return r},Mn=(e,t)=>{let r=[];for(let i=0;i<e.length;i++)r.push(e[i](...t[i]));return r},_e=(e,t)=>dt(t)?t.map(e):e(t),P=e=>((e??1)*100).toFixed(0)+"%",Un=e=>_e(P,e),D=e=>xe(e??0,0,255).toFixed(0),Bn=e=>_e(D,e),fe=e=>(e??0).toFixed(1)+"deg",Pn=e=>_e(fe,e),F=e=>(e<16?"0":"")+(e|0).toString(16),Dn=[F,F,F],Fn=e=>"#"+O(Dn,e).join(""),jn=[F,F,F,e=>F(xe((e??1)*255,0,255))],On=e=>"#"+O(jn,e).join(""),Ln=e=>"rgb("+O([D,D,D],e).join(",")+")",Nn=e=>"rgba("+O([D,D,D,P],e).join(",")+")",Rn=e=>"hsl("+O([fe,P,P],e).join(",")+")",$n=e=>"hsla("+O([fe,P,P,P],e).join(",")+")",Xt,pe,me=(e,t)=>(Xt??=new OffscreenCanvas(e??10,t??10),Xt),Je=(e,t)=>(pe===void 0&&(pe=me(e,t).getContext("2d",{willReadFrequently:!0}),pe.imageSmoothingEnabled=!1),pe),Wn=e=>e===void 0?!1:e.startsWith("data:image/"),qn=e=>e.slice(0,e.indexOf(";base64,")+8),Vn=e=>e.slice(5,e.indexOf(";base64,")),Kn=e=>e.substring(e.indexOf(";base64,")+8),Gn=async(e,t,r,i,n)=>{r&&(r=ne(r));let s=await $(e,t),o=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,i):await createImageBitmap(s,i),a=me(),l=Je();return a.width=o.width,a.height=o.height,l.globalCompositeOperation="copy",l.resetTransform(),l.drawImage(o,0,0),a.convertToBlob(n)},Hn=async(e,t,r,i,n)=>{r&&(r=ne(r));let s=await $(e,t),o=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,i):await createImageBitmap(s,i),a=me(),l=Je();return a.width=o.width,a.height=o.height,l.globalCompositeOperation="copy",l.resetTransform(),l.drawImage(o,0,0),l.getImageData(0,0,o.width,o.height,n)},$=(e,t)=>{if(typeof e=="string"){let r=new Image;return r.src=e,r.decode().then(()=>r)}else{if(e instanceof Uint8ClampedArray)return Z(new ImageData(e,t));if(ArrayBuffer.isView(e))return $(new Uint8ClampedArray(e.buffer),t);if(e instanceof ArrayBuffer)return $(new Uint8ClampedArray(e),t);if(e instanceof Array)return $(Uint8ClampedArray.from(e),t)}return Z(e)},Yn=(e,t,r,i=1)=>{let n=e.length/t,s=new Uint8ClampedArray(n).fill(1),o=new Uint8ClampedArray(n);if(r!==void 0){for(let a=0;a<n;a++)s[a]=e[a*t+r]<i?0:1;e=e.filter((a,l)=>l%t!==r),t--}for(let a=0;a<t;a++)for(let l=0;l<n;l++)o[l]+=e[l*t+a];if(r!==void 0)for(let a=0;a<n;a++)o[a]*=s[a];return new Uint8Array(o.buffer)},Jt=(e,t,r=1)=>{let{width:i,height:n,data:s}=e,o=s.length/(i*n),a=m=>s.subarray(m*i*o,(m*i+i)*o),l=m=>{let y=new Uint8Array(n*o);for(let f=0;f<n;f++)for(let I=0;I<o;I++)y[f*o+I]=s[(f*i+m)*o+I];return y},d=m=>{let y=0;for(let f=0,I=m.length;f<I;f+=o)y+=t(m[f+0],m[f+1],m[f+2],m[f+3]);return y},[_,g,p,u]=[0,0,n,i];for(;_<n&&!(d(a(_))>=r);_++);for(;p>=_&&!(d(a(p))>=r);p--);for(;g<i&&!(d(l(g))>=r);g++);for(;u>=g&&!(d(l(u))>=r);u--);return{x:g,y:_,width:u-g,height:p-_}},Qt=(e,t)=>{let{width:r,height:i,data:n}=e,s=n.length/(r*i),o=ne({x:0,y:0,width:r,height:i,...t}),[a,l,d,_]=[o.y,o.x,o.y+o.height,o.x+o.width],g=o.width*s,p=(r-_+(l-0))*s,u=(a*r+l)*s,m=((d-1)*r+_)*s,y=Ke(n,g,p,u,m),f=Dt(...y);return s===4?new ImageData(f,o.width,o.height):{width:o.width,height:o.height,data:f,colorSpace:e.colorSpace??"srgb"}},Xn=(e,t,r=1)=>Qt(e,Jt(e,t,r)),Jn=(e,t)=>{let{x:r,y:i,width:n,channels:s}=e,{x:o,y:a,width:l,channels:d}=t,_=(o??0)-(r??0),g=(a??0)-(i??0);return p=>d*(p/s%n-_+((p/s/n|0)-g)*l)},Qn=e=>{we(0)},Qe=Symbol(1),Zt=Symbol(1),Zn=(e,t,r)=>{let i,n=()=>{};return(...s)=>(re(i),r!==void 0&&n(r),new Promise((o,a)=>{n=a,i=q(()=>o(t(...s)),e)}))},es=(e,t)=>{let r,i,n,s=o=>(n=new Promise((a,l)=>i=a).then(s),o);return s(),(...o)=>(re(r),r=q(()=>i(t(...o)),e),n)},er=(e,t)=>{let r=0;return(...i)=>{let n=ft();return n-r>e?(r=n,t(...i)):Qe}},ts=(e,t,r,i)=>{let n,s=()=>{},o=er(t,r);return(...a)=>{re(n),i!==void 0&&s(i);let l=o(...a);return l===Qe?new Promise((d,_)=>{s=_,n=q(()=>d(r(...a)),e)}):Z(l)}},rs=(e,t)=>new Promise((r,i)=>{q(t?i:r,e,Zt)}),Y=(e,t=!1)=>{let r=t?new De:new Map,i=z(r,"get"),n=z(r,"set"),s=z(r,"has");return{fn:o=>{let a=s(o),l=a?i(o):e(o);return a||n(o,l),l},memory:r}},is=e=>Y(e).fn,ns=(e,t)=>{let r=Y(t),i=z(r.memory,"has"),n=r.fn;return s=>i(s)||--e>=0?n(s):t(s)},tr=(e,t,r)=>{let i=Y(t),n=z(i.memory,"has"),s=i.fn;return o=>{let a=n(o)||--e>=0?s(o):r;return e===0&&(r??=a),a}},ss=(e,t,r)=>{let i=Y(r),n=z(i.memory,"has"),s=z(i.memory,"delete"),o=i.fn,a=new Ct(e,t,d=>{d.forEach(s)}),l=z(a,"push");return d=>(n(d)||l(d),o(d))},os=e=>tr(1,e),Ze=(e,t=!1)=>{let r=t?new St:new It;return{fn:(...i)=>{let n=r.getDeep(i.toReversed()),s=n.value!==Fe,o=s?n.value:e(...i);return s||(n.value=o),o},memory:r}},as=e=>Ze(e,!1).fn,ls=e=>Ze(e,!0).fn,rr=(e,t)=>e.length>1?r=>rr(e.bind(void 0,r)):e.bind(t),ir=(e,t,r=e.length)=>(...i)=>{r-=i.length;let n=e.bind(void 0,...i);return r<=0?n.call(t):ir(n,t,r)},hs=(e,t)=>{for(let r=0;r<t.length;r++)t[r]=e()},ds=(e,t,r)=>{for(let i=0;i<t.length;i++)t[i]=e(r[i])},us=(e,t,r,i)=>{for(let n=0;n<t.length;n++)t[n]=e(r[n],i[n])},cs=(e,t,r,i,n)=>{for(let s=0;s<t.length;s++)t[s]=e(r[s],i[s],n[s])},_s=(e,t,r,i,n,s)=>{for(let o=0;o<t.length;o++)t[o]=e(r[o],i[o],n[o],s[o])},fs=(e,t,r,i,n,s,o)=>{for(let a=0;a<t.length;a++)t[a]=e(r[a],i[a],n[a],s[a],o[a])},ps=(e,t,...r)=>{let i=r.length,n=Array(i).fill(0);for(let s=0;s<t.length;s++){for(let o=0;o<i;o++)n[o]=r[o][s];t[s]=e(...n)}},ms=(e,t,...r)=>{let i=e(...r);for(let n=0;n<t.length;n++)t[n]=i(n)},bs=e=>e[0].map((t,r)=>e.map(i=>i[r])),gs=(e,t,r)=>{[t,r]=H(t,r,e.length);let i=e.slice(t+1,r);for(let n=0;n<i.length;n++)i[n]-=e[t+n-1];return i},ys=(e,t,r)=>{[t,r]=H(t,r,e.length);let i=e.slice(t,r-1);for(let n=0;n<i.length;n++)i[n]-=e[t+n+1];return i},vs=e=>{let t=e.length,r=new(se(e))(t+1).fill(0);for(let i=0;i<t;i++)r[i+1]=r[i]+e[i];return r},ws=(e,t=0,r)=>{t??=0,r??=e.length;for(let i=t;i<r;i++)e[i]*=e[i]<0?-1:1;return e},xs=(e,t=0,r)=>{t??=0,r??=e.length;for(let i=t;i<r;i++)e[i]*=-1;return e},As=(e,t,r)=>{t??=0,r??=e.length;for(let i=t;i<r;i++)e[i]=~e[i];return e},Is=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]&=t;return e},Ss=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]|=t;return e},Ts=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]^=t;return e},Cs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]<<=t;return e},Es=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]>>=t;return e},zs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]>>>=t;return e},ks=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]+=t;return e},Ms=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]-=t;return e},Us=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]*=t;return e},Bs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]/=t;return e},Ps=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]**=t;return e},Ds=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]%=t;return e},Fs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]=(e[n]%t+t)%t;return e},nr={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},js=(e,t)=>{let{sep:r,prefix:i,postfix:n,trailingSep:s,bra:o,ket:a,toUpperCase:l,radix:d}={...nr,...t},_=e.buffer?ht(e):e,g=_.map(p=>{let u=(p|0).toString(d);return u=u.length===2?u:"0"+u,l?ge(u):u}).reduce((p,u)=>p+i+u+n+r,"");return o+g.slice(0,s?void 0:-r.length)+a},Os=(e,t)=>{let{sep:r,prefix:i,postfix:n,bra:s,ket:o,radix:a}={...nr,...t},[l,d,_,g,p]=[r,i,n,s,o].map(f=>f.length),u=e.slice(g,p>0?-p:void 0),m=d+2+_+l,y=[];for(let f=d;f<u.length;f+=m)y.push(W(u[f]+u[f+1],a));return y},et=(e,t)=>t===1?ge(e):t===-1?ye(e):e,sr=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let i=he(e),n;for(;n=i(t++);)if(n>64&&n<91)return t-1},or=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let i=he(e),n;for(;n=i(t++);)if(n>96&&n<123)return t-1},ar=(e,t,r=0,i=void 0)=>t===1?sr(e,r,i):t===-1?or(e,r,i):void 0,tt=(e,t)=>{let[r,i,n,s="",o="",a=""]=e,l=t.length-1;return t.map((d,_)=>{let g=et(d[0],_>0?i:r),p=et(d.slice(1),n),u=_<l?s:"";return g+p+u}).reduce((d,_)=>d+_,o)+a},rt=(e,t)=>{let[,r,,i="",n="",s=""]=e;t=t.slice(n.length,-s.length||void 0);let o;if(i===""){let a=[0],l=0;for(;l!==void 0;)l=ar(t,r,l+1),a.push(l);o=jt(t,a)}else o=t.split(i);return o.map(a=>ye(a))},Ls=(e,t,r)=>tt(t,rt(e,r)),L=(e,t)=>{let r=tt.bind(void 0,t),i=rt.bind(void 0,e);return n=>r(i(n))},X=[-1,-1,-1,"_"],J=[-1,-1,-1,"-"],Q=[-1,1,-1,""],Ns=[1,1,-1,""],Rs=[1,1,1,"_"],$s=[1,1,1,"-"],Ws=L(J,Q),qs=L(Q,J),Vs=L(X,Q),Ks=L(Q,X),Gs=L(J,X),Hs=L(X,J),Ys=e=>e>=0&&e<=1,Xs=e=>e>=0&&e<=255&&e===(e|0),Js=e=>e>=0&&e<=360,Qs=e=>e>=0&&e<=Math.PI;export{Yr as Array2DShape,on as ChainedPromiseQueue,ln as Crc32,Zi as Deque,St as HybridTree,De as HybridWeakMap,en as InvertibleMap,Ct as LimitedStack,sn as LimitedStackSet,Tt as StackSet,It as StrongTree,Qe as THROTTLE_REJECT,Zt as TIMEOUT,Fe as TREE_VALUE_UNSET,rn as TopologicalAsyncScheduler,tn as TopologicalScheduler,nn as WeakTree,ws as abs,ks as add,ht as array_from,dt as array_isArray,U as array_isEmpty,_r as array_of,Is as band,Ji as base64BodyToBytes,As as bcomp,dn as bindDotPathTo,hn as bindKeyPathTo,ri as bindMethodFactory,h as bindMethodFactoryByName,ii as bindMethodToSelf,z as bindMethodToSelfByName,ni as bind_array_at,wt as bind_array_clear,si as bind_array_concat,oi as bind_array_copyWithin,ai as bind_array_entries,li as bind_array_every,hi as bind_array_fill,di as bind_array_filter,ui as bind_array_find,ci as bind_array_findIndex,_i as bind_array_findLast,fi as bind_array_findLastIndex,pi as bind_array_flat,mi as bind_array_flatMap,bi as bind_array_forEach,gi as bind_array_includes,yi as bind_array_indexOf,vi as bind_array_join,wi as bind_array_keys,xi as bind_array_lastIndexOf,Ai as bind_array_map,yt as bind_array_pop,vt as bind_array_push,Ii as bind_array_reduce,Si as bind_array_reduceRight,Ti as bind_array_reverse,Ci as bind_array_shift,Ei as bind_array_slice,zi as bind_array_some,ki as bind_array_sort,Mi as bind_array_splice,Bi as bind_array_toLocaleString,Pi as bind_array_toReversed,Di as bind_array_toSorted,Fi as bind_array_toSpliced,ji as bind_array_toString,Ui as bind_array_unshift,Oi as bind_array_values,Li as bind_array_with,Vi as bind_map_clear,Ee as bind_map_delete,ze as bind_map_entries,ke as bind_map_forEach,R as bind_map_get,Me as bind_map_has,Ue as bind_map_keys,le as bind_map_set,Be as bind_map_values,V as bind_set_add,Ni as bind_set_clear,K as bind_set_delete,Ri as bind_set_entries,$i as bind_set_forEach,ae as bind_set_has,Wi as bind_set_keys,qi as bind_set_values,Ce as bind_stack_seek,Ki as bind_string_at,Gi as bind_string_charAt,he as bind_string_charCodeAt,Hi as bind_string_codePointAt,xt as blobToBase64,Xi as blobToBase64Body,At as blobToBase64Split,Cs as blsh,Ss as bor,Es as brsh,zs as bursh,Ts as bxor,Qi as bytesToBase64Body,Q as camelCase,qs as camelToKebab,Ks as camelToSnake,xe as clamp,Pt as concatBytes,Dt as concatTyped,Tr as console_assert,Cr as console_clear,Er as console_debug,zr as console_dir,we as console_error,kr as console_log,Mr as console_table,Kr as constructFrom,$ as constructImageBitmapSource,Gn as constructImageBlob,Hn as constructImageData,se as constructorOf,Ls as convertCase,L as convertCase_Factory,Jn as coordinateTransformer,Qt as cropImageData,vs as cumulativeSum,rr as curry,ir as curryMulti,ft as date_now,Zn as debounce,es as debounceAndShare,Rt as decode_bool,Gt as decode_bytes,Wt as decode_cstr,fn as decode_ivar,We as decode_ivar_array,Yt as decode_number,Xe as decode_number_array,Vt as decode_str,cn as decode_uvar,Mt as decode_varint,Ne as decode_varint_array,gs as diff,ys as diff_right,Bs as div,Sr as dom_clearInterval,re as dom_clearTimeout,Ir as dom_setInterval,q as dom_setTimeout,Oe as dotPathToKeyPath,Yi as downloadBuffer,Nt as encode_bool,Kt as encode_bytes,$t as encode_cstr,_n as encode_ivar,$e as encode_ivar_array,Ht as encode_number,Ye as encode_number_array,qt as encode_str,un as encode_uvar,Re as encode_uvar_array,kt as encode_varint,Le as encode_varint_array,G as env_is_little_endian,or as findNextLowerCase,sr as findNextUpperCase,ar as findNextUpperOrLowerCase,_e as formatEach,me as getBGCanvas,Je as getBGCtx,Kn as getBase64ImageBody,qn as getBase64ImageHeader,Vn as getBase64ImageMIMEType,Jt as getBoundingBox,Et as getDotPath,Bt as getEnvironmentEndianness,ce as getKeyPath,js as hexStringOfArray,Os as hexStringToArray,F as hex_fmt,Rn as hsl_fmt,$n as hsla_fmt,Yn as intensityBitmap,Pe as invertMap,Or as invlerp,Lr as invlerpClamped,Nr as invlerpi,Rr as invlerpiClamped,Wn as isBase64Image,Ae as isComplex,Js as isDegrees,bt as isFunction,yn as isIdentical,Gr as isPrimitive,Qs as isRadians,Ft as isSubidentical,pn as isTypedArray,Xs as isUByte,Ys as isUnitInterval,J as kebabCase,Ws as kebabToCamel,Gs as kebabToSnake,Br as lerp,Pr as lerpClamped,Dr as lerpi,Fr as lerpiClamped,mt as lerpv,jr as lerpvClamped,$r as limp,Wr as limpClamped,ut as math_random,ie as max,is as memorize,tr as memorizeAfterN,ns as memorizeAtmostN,Y as memorizeCore,ss as memorizeLRU,as as memorizeMulti,Ze as memorizeMultiCore,ls as memorizeMultiWeak,os as memorizeOnce,Zr as meshGrid,ei as meshMap,Vr as min,Fs as mod,x as modulo,Hr as monkeyPatchPrototypeOfClass,Us as mult,xs as neg,Xr as newArray2D,at as noop,ve as number_MAX_VALUE,fr as number_NEGATIVE_INFINITY,pr as number_POSITIVE_INFINITY,mr as number_isFinite,br as number_isInteger,gr as number_isNaN,yr as number_parseFloat,W as number_parseInt,ee as object_assign,ct as object_defineProperty,vr as object_entries,wr as object_fromEntries,_t as object_getPrototypeOf,xr as object_keys,Ar as object_values,Ge as pack,Cn as packSeq,Ns as pascalCase,Un as percent,P as percent_fmt,Ur as performance_now,ne as positiveRect,Ps as pow,rs as promiseTimeout,ur as promise_forever,cr as promise_outside,dr as promise_reject,Z as promise_resolve,N as prototypeOfClass,Qn as randomRGBA,Sn as readFrom,kn as recordArgsMap,zn as recordMap,Ds as rem,H as resolveRange,Ln as rgb_fmt,Fn as rgb_hex_fmt,Nn as rgba_fmt,On as rgba_hex_fmt,Jr as rotateArray2DMajor,Qr as rotateArray2DMinor,$s as screamingKebabCase,Rs as screamingSnakeCase,Mn as sequenceArgsMap,O as sequenceMap,zt as setDotPath,je as setKeyPath,j as shapeOfArray2D,gt as shuffleArray,ti as shuffledDeque,jt as sliceContinuous,vn as sliceContinuousTypedSubarray,An as sliceIntervalLengths,In as sliceIntervalLengthsTypedSubarray,wn as sliceIntervals,xn as sliceIntervalsTypedSubarray,gn as sliceSkip,Ke as sliceSkipTypedSubarray,X as snakeCase,Vs as snakeToCamel,Hs as snakeToKebab,Se as spliceArray2DMajor,Te as spliceArray2DMinor,bn as splitTypedSubarray,lt as string_fromCharCode,ye as string_toLowerCase,ge as string_toUpperCase,Ms as sub,qr as sum,mn as swapEndianness,Ve as swapEndiannessFast,te as symbol_iterator,pt as symbol_toStringTag,er as throttle,ts as throttleAndTrail,et as toUpperOrLowerCase,rt as tokenToWords,bs as transpose2D,Ie as transposeArray2D,de as treeClass_Factory,Xn as trimImagePadding,qe as typed_array_constructor_of,Bn as ubyte,D as ubyte_fmt,Pn as udegree,fe as udegree_fmt,He as unpack,En as unpackSeq,hs as vectorize0,ds as vectorize1,us as vectorize2,cs as vectorize3,_s as vectorize4,fs as vectorize5,ms as vectorizeIndexHOF,ps as vectorizeN,tt as wordsToToken,Tn as writeTo};
