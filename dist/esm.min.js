var ot=()=>{},O=e=>e.length===0,at=String.fromCharCode,me=e=>e.toUpperCase(),be=e=>e.toLowerCase(),Q=Promise.resolve.bind(Promise),or=Promise.reject.bind(Promise),ar=()=>new Promise(ot),lr=()=>{let e,t;return[new Promise((r,i)=>{e=r,t=i}),e,t]},{from:lt,isArray:ht,of:hr}=Array,{isInteger:ge,MAX_VALUE:ye,NEGATIVE_INFINITY:dr,POSITIVE_INFINITY:ur}=Number,{assign:Z,defineProperty:dt,entries:cr,fromEntries:_r,keys:pr,getPrototypeOf:ut,values:fr}=Object,ct=Date.now,{iterator:ee,toStringTag:_t}=Symbol,W=setTimeout,te=clearTimeout,mr=setInterval,br=clearInterval,ve=(e,t=-ye,r=ye)=>e<t?t:e>r?r:e,x=(e,t)=>(e%t+t)%t,gr=(e,t,r)=>r*(t-e)+e,yr=(e,t,r)=>(r<0?0:r>1?1:r)*(t-e)+e,vr=(e,t,r,i)=>r*(t[i]-e[i])+e[i],wr=(e,t,r,i)=>(r<0?0:r>1?1:r)*(t[i]-e[i])+e[i],pt=(e,t,r)=>{let i=e.length,n=Array(i).fill(0);for(let s=0,o=e.length;s<o;s++)n[s]=r*(t[s]-e[s])+e[s];return n},xr=(e,t,r)=>pt(e,t,r<0?0:r>1?1:r),Ar=(e,t,r)=>(r-e)/(t-e),Ir=(e,t,r)=>{let i=(r-e)/(t-e);return i<0?0:i>1?1:i},Sr=(e,t,r,i)=>(r[i]-e[i])/(t[i]-e[i]),Tr=(e,t,r,i)=>{let n=(r[i]-e[i])/(t[i]-e[i]);return n<0?0:n>1?1:n},Cr=(e,t,r)=>t[0]+(r-e[0])*(t[1]-t[0])/(e[1]-e[0]),Er=(e,t,r)=>{let i=(r-e[0])/(e[1]-e[0]);return(i<0?0:i>1?1:i)*(t[1]-t[0])+t[0]},zr=e=>{let t=0,r=e.length;for(let i=0;i<r;i++)t+=e[i];return t},kr=(e,t)=>e<t?e:t,we=(e,t)=>e>t?e:t,L=e=>{let t=e.length,r=e[0]?.length??0;return[t,r]},xe=e=>{let[t,r]=L(e),i=[];for(let n=0;n<r;n++)i[n]=[];for(let n=0;n<t;n++)for(let s=0;s<r;s++)i[s][n]=e[n][s];return i},Ae=(e,t,r,...i)=>{let[n,s]=L(e);return r??=we(n-t,0),e.splice(t,r,...i)},Ie=(e,t,r,...i)=>{let[n,s]=L(e),o=i.length>0?xe(i):Array(n).fill([]);return r??=we(s-t,0),xe(e.map((a,l)=>a.splice(t,r,...o[l])))},Ur=(e,t)=>{let[r,i]=L(e);if(t=x(t,r===0?1:r),t===0)return e;let n=Ae(e,r-t,t);return Ae(e,0,0,...n),e},Mr=(e,t)=>{let[r,i]=L(e);if(t=x(t,i===0?1:i),t===0)return e;let n=Ie(e,i-t,t);return Ie(e,0,0,...n),e},Br=(e,t)=>{let r=e.length,i=t.length,n=e.map(o=>Array(i).fill(o)),s=e.map(()=>t.slice());return[n,s]},Pr=(e,t,r)=>{let i=t.length,n=r.length,s=Array(i).fill(void 0);for(let o=0;o<i;o++){let a=Array(n).fill(0),l=t[o];for(let d=0;d<n;d++)a[d]=e(l,r[d]);s[o]=a}return s},re=e=>{let{x:t,y:r,width:i,height:n}=e;return i<0&&(i*=-1,t-=i),n<0&&(n*=-1,r-=n),{x:t,y:r,width:i,height:n}},ie=e=>ut(e).constructor,jr=(e,...t)=>new(ie(e))(...t),R=e=>e.prototype,Se=e=>{let t=typeof e;return t==="object"||t==="function"},Or=e=>!Se(e),Dr=(e,t,r)=>{dt(R(e),t,{value:r})},Fr=(e,...t)=>r=>e.bind(r,...t),h=(e,t,...r)=>i=>e[t].bind(i,...r),Lr=(e,t,...r)=>t.bind(e,...r),z=(e,t,...r)=>e[t].bind(e,...r),c=R(Array),k=R(Map),M=R(Set),ne=R(String),Rr=h(c,"at"),$r=h(c,"concat"),Nr=h(c,"copyWithin"),Wr=h(c,"entries"),Vr=h(c,"every"),qr=h(c,"fill"),Kr=h(c,"filter"),Gr=h(c,"find"),Hr=h(c,"findIndex"),Yr=h(c,"findLast"),Xr=h(c,"findLastIndex"),Jr=h(c,"flat"),Qr=h(c,"flatMap"),Zr=h(c,"forEach"),ei=h(c,"includes"),ti=h(c,"indexOf"),ri=h(c,"join"),ii=h(c,"keys"),ni=h(c,"lastIndexOf"),si=h(c,"map"),ft=h(c,"pop"),mt=h(c,"push"),oi=h(c,"reduce"),ai=h(c,"reduceRight"),li=h(c,"reverse"),hi=h(c,"shift"),di=h(c,"slice"),ui=h(c,"some"),ci=h(c,"sort"),_i=h(c,"splice"),pi=h(c,"unshift"),fi=h(c,"toLocaleString"),mi=h(c,"toReversed"),bi=h(c,"toSorted"),gi=h(c,"toSpliced"),yi=h(c,"toString"),vi=h(c,"values"),wi=h(c,"with"),bt=h(c,"splice",0),Te=h(c,"at",-1),V=h(M,"add"),xi=h(M,"clear"),q=h(M,"delete"),Ai=h(M,"entries"),Ii=h(M,"forEach"),se=h(M,"has"),Si=h(M,"keys"),Ti=h(M,"values"),Ci=h(k,"clear"),Ce=h(k,"delete"),Ee=h(k,"entries"),ze=h(k,"forEach"),$=h(k,"get"),ke=h(k,"has"),Ue=h(k,"keys"),oe=h(k,"set"),Me=h(k,"values"),Ei=h(ne,"at"),zi=h(ne,"charAt"),ae=h(ne,"charCodeAt"),ki=h(ne,"codePointAt"),Ui=(e,t="data.bin",r="application/octet-stream")=>{let i=new Blob([e],{type:r}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=t,n.click(),URL.revokeObjectURL(n.href),n.remove()},gt=e=>{let t=new FileReader;return new Promise((r,i)=>{t.onload=()=>r(t.result),t.onerror=i,t.readAsDataURL(e)})},yt=e=>gt(e).then(t=>{let[r,i]=t.split(";base64,",2);return[r+";base64,",i]}),Mi=e=>yt(e).then(t=>t[1]),Bi=e=>{let t=atob(e),r=t.length,i=ae(t),n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=i(s);return n},Pi=e=>{let t=[];for(let r=0;r<e.length;r+=32766){let i=e.subarray(r,r+32766);t.push(at(...i))}return btoa(t.join(""))},ji=class{constructor(e){this.length=e,this.items=Array(e),this.back=e-1}items;front=0;back;count=0;pushBack(...e){for(let t of e)this.count===this.length&&this.popFront(),this.items[this.back]=t,this.back=x(this.back-1,this.length),this.count++}pushFront(...e){for(let t of e)this.count===this.length&&this.popBack(),this.items[this.front]=t,this.front=x(this.front+1,this.length),this.count++}getBack(){if(this.count!==0)return this.items[x(this.back+1,this.length)]}getFront(){if(this.count!==0)return this.items[x(this.front-1,this.length)]}popBack(){if(this.count===0)return;this.back=x(this.back+1,this.length);let e=this.items[this.back];return this.items[this.back]=void 0,this.count--,e}popFront(){if(this.count===0)return;this.front=x(this.front-1,this.length);let e=this.items[this.front];return this.items[this.front]=void 0,this.count--,e}rotate(e){let{front:t,back:r,length:i,count:n,items:s}=this;if(n!==0){if(e=x(e,n),n<i)for(let o=0;o<e;o++){let a=x(r-o,i),l=x(t-o-1,i);s[a]=s[l],s[l]=void 0}this.front=x(t-e,i),this.back=x(r-e,i)}}reverse(){let e=this.count/2|0,{length:t,front:r,back:i,items:n}=this;for(let s=1;s<=e;s++){let o=x(i+s,t),a=x(r-s,t),l=n[o];n[o]=n[a],n[a]=l}}resolveIndex(e){return x(this.back+e+1,this.length)}at(e){return this.items[this.resolveIndex(e)]}replace(e,t){this.items[x(this.back+e+1,this.count)]=t}insert(e,t){this.count===this.length&&this.popFront();let r=this.resolveIndex(e);for(let i=this.front;i>r;i--)this.items[i]=this.items[i-1];this.items[r]=t,this.count++}},Be=e=>{let t=[];e.forEach(n=>{t.push(...n)});let r=new Map([...new Set(t)].map(n=>[n,new Set])),i=$(r);for(let[n,s]of e)s.forEach(o=>i(o).add(n));return r},Oi=class{constructor(e,t){let r=e??(t?Be(t):new Map),i=t??(e?Be(e):new Map),n=oe(r),s=oe(i),o=Ce(r),a=Ce(i),l=r.size,d=i.size,_=ze(r),g=ze(i),f=$(r),u=$(i),m=ke(r),y=ke(i),p=Ee(r),I=Ee(i),fe=Ue(r),A=Ue(i),S=Me(r),U=Me(i),rt=(b,...v)=>{let w=f(b)??(n(b,new Set)&&f(b)),T=se(w),C=V(w);for(let E of v)T(E)||(C(E),u(E)?.add(b)||s(E,new Set([b])))},it=(b,...v)=>{let w=u(b)??(s(b,new Set)&&u(b)),T=se(w),C=V(w);for(let E of v)T(E)||(C(E),f(E)?.add(b)||n(E,new Set([b])))},sr=()=>{r.clear(),i.clear()},nt=(b,v=!1)=>{let w=f(b);if(w){for(let T of w)u(T).delete(b);v?w.clear():v=o(b)}return v},st=(b,v=!1)=>{let w=u(b);if(w){for(let T of w)f(T).delete(b);v?w.clear():v=a(b)}return v};Z(this,{fmap:r,rmap:i,size:l,rsize:d,forEach:_,rforEach:g,get:f,rget:u,has:m,rhas:y,entries:p,rentries:I,keys:fe,rkeys:A,values:S,rvalues:U,add:rt,radd:it,clear:sr,delete:nt,rdelete:st,remove:(b,...v)=>{let w=f(b);if(w){let T=q(w);for(let C of v)T(C)&&u(C).delete(b)}},rremove:(b,...v)=>{let w=u(b);if(w){let T=q(w);for(let C of v)T(C)&&f(C).delete(b)}},set:(b,v)=>(nt(b,!0),rt(b,...v),this),rset:(b,v)=>(st(b,!0),it(b,...v),this),[ee]:p,[_t]:"InvertibleMap"})}},Di=class{constructor(e){let t,r=$(e),i=[],n=ft(i),s=mt(i),o=bt(i),a=Te(i),l=new Map,d=$(l),_=oe(l),g=A=>{for(let S of r(A)??[]){let U=d(S);U?_(S,U+1):g(S)}_(A,1)},f=A=>{_(A,0);for(let S of r(A)??[]){let U=(d(S)??0)-1;U>-1&&(_(S,U),U<1&&f(S))}},u=()=>{o();for(let[A,S]of l)S>0&&s(A)},m=()=>(t=n(),t!==void 0&&_(t,0),t),y=(...A)=>{l.clear(),A.forEach(g),u()},p=(...A)=>{O(A)&&t!==void 0&&A.push(t),A.forEach(f),u()},I=()=>{l.clear(),o()},fe=function*(){for(t=m();t!==void 0;)yield t,t=m()};Z(this,{edges:e,stack:i,fire:y,block:p,clear:I,pop:m,seek:a,[ee]:fe})}},Fi=class{constructor(e){let{rforEach:t,get:r,rget:i}=e,n=new Set,s=V(n),o=q(n),a={},l={},d=()=>{n.clear(),a={},l={},t((u,m)=>{a[m]=u.size})},_=(...u)=>{console.log(u),d(),u.forEach(s)},g=(...u)=>{let m=[];for(let y of u)o(y)&&r(y)?.forEach(p=>{let I=(a[p]??i(p)?.size??1)-1;I<=0&&m.push(p),a[p]=I});return m.forEach(s),console.log(m),m},f=(...u)=>{let m=[];for(let y of u)o(y),r(y)?.forEach(p=>{(l[p]=(l[p]??0)+1)>=(i(p)?.size??0)&&m.push(p)});return u.concat(O(m)?m:f(...m))};Z(this,{pending:n,clear:d,fire:_,resolve:g,reject:f})}},Pe=class{wmap=new WeakMap;smap=new Map;pick(e){return Se(e)?this.wmap:this.smap}get(e){return this.pick(e).get(e)}set(e,t){return this.pick(e).set(e,t),this}has(e){return this.pick(e).has(e)}delete(e){return this.pick(e).delete(e)}},je=Symbol("represents an unset value for a tree"),le=e=>class nr extends e{constructor(r=je){super(),this.value=r}getDeep(r,i=!0){if(O(r))return this;let n=r.pop(),s=this.get(n);return!s&&i&&this.set(n,s=new nr),s?.getDeep(r,i)}setDeep(r,i,n=!0){let s=this.getDeep(r,n);return s&&(s.value=i),s}hasDeep(r){if(O(r))return!0;let i=r.pop();return this.get(i)?.hasDeep(r)??!1}delDeep(r){if(O(r))return!1;let[i,...n]=r;return this.getDeep(n,!1)?.delete(i)??!1}},Li=le(WeakMap),vt=le(Map),wt=le(Pe),xt=class extends Array{$set=new Set;$add=V(this.$set);$del=q(this.$set);includes=se(this.$set);top=Te(this);fsync(){return super.splice(0),super.push(...this.$set)}rsync(){let{$set:e,$add:t}=this;return e.clear(),super.forEach(t),this.length}reset(e=[]){let{$set:t,$add:r}=this;t.clear(),e.forEach(r),this.fsync()}constructor(e){super(),this.reset(e)}pop(){let e=super.pop();return this.$del(e),e}push(...e){let t=this.includes,r=this.$add,i=e.filter(t);return i.forEach(r),super.push(...i)}pushFront(...e){return e.forEach(this.$del),e.forEach(this.$add),this.fsync()}shift(){let e=super.shift();return this.$del(e),e}unshift(...e){let t=this.includes,r=e.filter(t);return super.unshift(...r),this.rsync()}unshiftRear(...e){return this.delMany(...e),super.unshift(...e),this.rsync()}del(e){return this.$del(e)?(super.splice(super.indexOf(e),1),!0):!1}delMany(...e){e.forEach(this.$del),this.fsync()}},At=class extends Array{min;max;resize_cb;constructor(e,t,r){super(),this.min=e,this.max=t,this.resize_cb=r}resize(e){let t=this.length,r=t-this.max>0?t-this.min:0;if(r>0){let i=super.splice(0,r);this.resize_cb?.(i)}return e}push(...e){return this.resize(super.push(...e))}},Ri=class extends xt{min;max;resize_cb;constructor(e,t,r){super(),this.min=e,this.max=t,this.resize_cb=r}resize(e){let t=this.length,r=t-this.max>0?t-this.min:0;if(r>0){let i=super.splice(0,r);i.forEach(this.$del),this.resize_cb?.(i)}return e}push(...e){return this.resize(super.push(...e))}pushFront(...e){return this.resize(super.pushFront(...e))}},$i=class extends Array{chain=[];pending=[];onEmpty;constructor(e,{onEmpty:t,isEmpty:r}={}){super(),this.chain.push(...e),this.onEmpty=t,r&&t?.()}push(...e){let t=super.push(...e),r=this.chain;return this.pending.push(...e.map(i=>{r.forEach(([s,o])=>{i=i.then(s,o)});let n=()=>this.del(i);return i.then(n,n),i})),t}del(e){let t=this.pending,r=t.indexOf(e);return r>=0?(t.splice(r,1),super.splice(r,1),O(this)&&this.onEmpty?.(),!0):!1}},he,Ni=()=>{he=new Int32Array(256);let e=-306674912;for(let t=0;t<256;t++){let r=t;for(let i=8;i>0;--i)r=r&1?r>>>1^e:r>>>1;he[t]=r}},Wi=(e,t)=>{t=t===void 0?4294967295:t^-1,he===void 0&&Ni();for(let r=0;r<e.length;++r)t=he[(t^e[r])&255]^t>>>8;return(t^-1)>>>0},de=(e,t)=>{let r=e;for(let i of t)r=r[i];return r},Oe=(e,t,r)=>{let i=t.pop(),n=de(e,t);return n[i]=r,e},Vi=e=>[t=>de(e,t),(t,r)=>Oe(e,t,r)],It=(e,t)=>de(e,De(t)),St=(e,t,r)=>Oe(e,De(t),r),qi=e=>[t=>It(e,t),(t,r)=>St(e,t,r)],De=e=>e.split(".").map(t=>t==="0"?0:parseInt(t)||t),Tt=(e,t)=>Fe([e],t),Fe=(e,t)=>t[0]==="u"?Re(e):$e(e),Ct=(e,t,r)=>{let[i,n]=Le(e,t,r,1);return[i[0],n]},Le=(e,t,r,i)=>r[0]==="u"?Et(e,t,i):Ne(e,t,i),Re=e=>{let t=e.length,r=[];for(let i=0;i<t;i++){let n=e[i];n=n*(n>=0?1:-1);let s=[];do s.push((n&127)+128),n>>=7;while(n>0);s[0]&=127,r.push(...s.reverse())}return Uint8Array.from(r)},Et=(e,t=0,r)=>{r===void 0&&(r=1/0);let i=[],n=t,s=e.length,o=0;for(let a=e[t++];r>0&&t<s+1;a=e[t++])o<<=7,o+=a&127,a>>7||(i.push(o),r--,o=0);return t--,[i,t-n]},$e=e=>{let t=e.length,r=[];for(let i=0;i<t;i++){let n=e[i],s=n>=0?1:-1,o=[];for(n=n*s;n>63;)o.push((n&127)+128),n>>=7;o.push(n&63|(s==-1?192:128)),o[0]&=127,r.push(...o.reverse())}return Uint8Array.from(r)},Ne=(e,t=0,r)=>{r===void 0&&(r=1/0);let i=[],n=t,s=e.length,o=0,a=0;for(let l=e[t++];r>0&&t<s+1;l=e[t++])o===0?(o=(l&64)>0?-1:1,a=l&63):(a<<=7,a+=l&127),l>>7||(i.push(a*o),r--,o=0,a=0);return t--,[i,t-n]},Ki=e=>Re([e]),Gi=(e,t=0)=>{let[r,i]=Et(e,t,1);return[r[0],i]},Hi=e=>$e([e]),Yi=(e,t=0)=>{let[r,i]=Ne(e,t,1);return[r[0],i]},Xi=e=>!!e.buffer,We=e=>{if(e[2]==="c")return Uint8ClampedArray;switch(e=e[0]+e[1],e){case"u1":return Uint8Array;case"u2":return Uint16Array;case"u4":return Uint32Array;case"i1":return Int8Array;case"i2":return Int16Array;case"i4":return Int32Array;case"f4":return Float32Array;case"f8":return Float64Array;default:return console.error('an unrecognized typed array type `"${type}"` was provided'),Uint8Array}},zt=()=>new Uint8Array(Uint32Array.of(1).buffer)[0]===1,K=zt(),Ji=(e,t)=>{let r=e.byteLength;for(let i=0;i<r;i+=t)e.subarray(i,i+t).reverse();return e},Ve=(e,t)=>{let r=e.byteLength,i=new Uint8Array(r),n=t;for(let s=0;s<n;s++){let o=n-1-s*2;for(let a=s;a<r+s;a+=n)i[a]=e[a+o]}return i},kt=(...e)=>{let t=[0];for(let i of e)t.push(t[t.length-1]+i.length);let r=new Uint8Array(t.pop());for(let i of e)r.set(i,t.shift());return r},Ut=(...e)=>{let t=[0];for(let i of e)t.push(t[t.length-1]+i.length);let r=new(ie(e[0]))(t.pop());for(let i of e)r.set(i,t.shift());return r};function G(e,t,r,i){return e??=0,i??=0,r===void 0?[e+i,t===void 0?t:t+i,r]:(t??=r,e+=e>=0?0:r,t+=t>=0?0:r,r=t-e,[e+i,t+i,r>=0?r:0])}var Qi=(e,t)=>qe(e,t),Zi=(e,t,r=0,i,n)=>{[i,n]=G(i,n,e.length);let s=[];for(let o=i;o<n;o+=t+r)s.push(e.slice(o,o+t));return s},qe=(e,t,r=0,i,n)=>{[i,n]=G(i,n,e.length);let s=[];for(let o=i;o<n;o+=t+r)s.push(e.subarray(o,o+t));return s},en=(e,t)=>e.length!==t.length?!1:Mt(e,t),Mt=(e,t)=>{let r=Math.min(e.length,t.length);for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0},Bt=(e,t)=>{let r=[];for(let i=1;i<t.length;i++)r.push(e.slice(t[i-1],t[i]));return r},tn=(e,t)=>{let r=[];for(let i=1;i<t.length;i++)r.push(e.subarray(t[i-1],t[i]));return r},rn=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.slice(t[i-1],t[i]));return r},nn=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.subarray(t[i-1],t[i]));return r},sn=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.slice(t[i-1],t[i]===void 0?void 0:t[i-1]+t[i]));return r},on=(e,t)=>{let r=[];for(let i=1;i<t.length;i+=2)r.push(e.subarray(t[i-1],t[i]===void 0?void 0:t[i-1]+t[i]));return r},Pt=new TextEncoder,jt=new TextDecoder,an=(e,t,r,...i)=>{let[n,s]=Ge(r,e,t,...i);return[n,t+s]},ln=(e,t,r,i,...n)=>{let s=Ke(r,i,...n);return e.set(s,t),[e,t+s.length]},hn=(...e)=>{let t=[];for(let r of e)t.push(Ke(...r));return kt(...t)},dn=(e,t,...r)=>{let i=[],n=0;for(let[s,...o]of r){let[a,l]=Ge(s,e,t+n,...o);i.push(a),n+=l}return[i,n]},Ke=(e,t,...r)=>{switch(e){case"bool":return Ot(t);case"cstr":return Ft(t);case"str":return Rt(t);case"bytes":return Nt(t);default:return e[1]==="v"?e.endsWith("[]")?Fe(t,e):Tt(t,e):e.endsWith("[]")?He(t,e):Vt(t,e)}},Ge=(e,t,r,...i)=>{switch(e){case"bool":return Dt(t,r);case"cstr":return Lt(t,r);case"str":return $t(t,r,...i);case"bytes":return Wt(t,r,...i);default:return e[1]==="v"?e.endsWith("[]")?Le(t,r,e,...i):Ct(t,r,e):e.endsWith("[]")?Ye(t,r,e,...i):qt(t,r,e)}},Ot=e=>Uint8Array.of(e?1:0),Dt=(e,t=0)=>[e[t]>=1,1],Ft=e=>Pt.encode(e+"\0"),Lt=(e,t=0)=>{let r=e.indexOf(0,t),i=e.subarray(t,r);return[jt.decode(i),i.length+1]},Rt=e=>Pt.encode(e),$t=(e,t=0,r)=>{let i=r===void 0?void 0:t+r,n=e.subarray(t,i);return[jt.decode(n),n.length]},Nt=e=>e,Wt=(e,t=0,r)=>{let i=r===void 0?void 0:t+r,n=e.slice(t,i);return[n,n.length]},He=(e,t)=>{let[r,i,n]=t,s=We(t),o=parseInt(i),a=!!(n==="l"&&K||n==="b"&&!K||o===1),l=s.from(e);if(l instanceof Uint8Array)return l;let d=new Uint8Array(l.buffer);return a?d:Ve(d,o)},Ye=(e,t=0,r,i)=>{let[n,s,o]=r,a=parseInt(s),l=!!(o==="l"&&K||o==="b"&&!K||a===1),d=i?a*i:void 0,_=e.slice(t,d?t+d:void 0),g=_.length,f=We(r),u=new f(l?_.buffer:Ve(_,a).buffer);return[Array.from(u),g]},Vt=(e,t)=>He([e],t),qt=(e,t=0,r)=>{let[i,n]=Ye(e,t,r,1);return[i[0],n]},un=(e,t)=>{let r={};for(let i in e)r[i]=e[i](t[i]);return r},cn=(e,t)=>{let r={};for(let i in e)r[i]=e[i](...t[i]);return r},D=(e,t)=>{let r=[];for(let i=0;i<e.length;i++)r.push(e[i](t[i]));return r},_n=(e,t)=>{let r=[];for(let i=0;i<e.length;i++)r.push(e[i](...t[i]));return r},ue=(e,t)=>ht(t)?t.map(e):e(t),B=e=>((e??1)*100).toFixed(0)+"%",pn=e=>ue(B,e),P=e=>ve(e??0,0,255).toFixed(0),fn=e=>ue(P,e),ce=e=>(e??0).toFixed(1)+"deg",mn=e=>ue(ce,e),j=e=>(e<16?"0":"")+(e|0).toString(16),bn=[j,j,j],gn=e=>"#"+D(bn,e).join(""),yn=[j,j,j,e=>j(ve((e??1)*255,0,255))],vn=e=>"#"+D(yn,e).join(""),wn=e=>"rgb("+D([P,P,P],e).join(",")+")",xn=e=>"rgba("+D([P,P,P,B],e).join(",")+")",An=e=>"hsl("+D([ce,B,B],e).join(",")+")",In=e=>"hsla("+D([ce,B,B,B],e).join(",")+")",Kt,_e,pe=(e,t)=>(Kt??=new OffscreenCanvas(e??10,t??10),Kt),Xe=(e,t)=>(_e===void 0&&(_e=pe(e,t).getContext("2d",{willReadFrequently:!0}),_e.imageSmoothingEnabled=!1),_e),Sn=e=>e===void 0?!1:e.startsWith("data:image/"),Tn=e=>e.slice(0,e.indexOf(";base64,")+8),Cn=e=>e.slice(5,e.indexOf(";base64,")),En=e=>e.substring(e.indexOf(";base64,")+8),zn=async(e,t,r,i,n)=>{r&&(r=re(r));let s=await N(e,t),o=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,i):await createImageBitmap(s,i),a=pe(),l=Xe();return a.width=o.width,a.height=o.height,l.globalCompositeOperation="copy",l.resetTransform(),l.drawImage(o,0,0),a.convertToBlob(n)},kn=async(e,t,r,i,n)=>{r&&(r=re(r));let s=await N(e,t),o=r?await createImageBitmap(s,r.x,r.y,r.width,r.height,i):await createImageBitmap(s,i),a=pe(),l=Xe();return a.width=o.width,a.height=o.height,l.globalCompositeOperation="copy",l.resetTransform(),l.drawImage(o,0,0),l.getImageData(0,0,o.width,o.height,n)},N=(e,t)=>{if(typeof e=="string"){let r=new Image;return r.src=e,r.decode().then(()=>r)}else{if(e instanceof Uint8ClampedArray)return Q(new ImageData(e,t));if(ArrayBuffer.isView(e))return N(new Uint8ClampedArray(e.buffer),t);if(e instanceof ArrayBuffer)return N(new Uint8ClampedArray(e),t);if(e instanceof Array)return N(Uint8ClampedArray.from(e),t)}return Q(e)},Un=(e,t,r,i=1)=>{let n=e.length/t,s=new Uint8ClampedArray(n).fill(1),o=new Uint8ClampedArray(n);if(r!==void 0){for(let a=0;a<n;a++)s[a]=e[a*t+r]<i?0:1;e=e.filter((a,l)=>l%t!==r),t--}for(let a=0;a<t;a++)for(let l=0;l<n;l++)o[l]+=e[l*t+a];if(r!==void 0)for(let a=0;a<n;a++)o[a]*=s[a];return new Uint8Array(o.buffer)},Gt=(e,t,r=1)=>{let{width:i,height:n,data:s}=e,o=s.length/(i*n),a=m=>s.subarray(m*i*o,(m*i+i)*o),l=m=>{let y=new Uint8Array(n*o);for(let p=0;p<n;p++)for(let I=0;I<o;I++)y[p*o+I]=s[(p*i+m)*o+I];return y},d=m=>{let y=0;for(let p=0,I=m.length;p<I;p+=o)y+=t(m[p+0],m[p+1],m[p+2],m[p+3]);return y};console.assert(ge(o));let[_,g,f,u]=[0,0,n,i];for(;_<n&&!(d(a(_))>=r);_++);for(;f>=_&&!(d(a(f))>=r);f--);for(;g<i&&!(d(l(g))>=r);g++);for(;u>=g&&!(d(l(u))>=r);u--);return{x:g,y:_,width:u-g,height:f-_}},Ht=(e,t)=>{let{width:r,height:i,data:n}=e,s=n.length/(r*i),o=re({x:0,y:0,width:r,height:i,...t}),[a,l,d,_]=[o.y,o.x,o.y+o.height,o.x+o.width];console.assert(ge(s));let g=o.width*s,f=(r-_+(l-0))*s,u=(a*r+l)*s,m=((d-1)*r+_)*s,y=qe(n,g,f,u,m),p=Ut(...y);return s===4?new ImageData(p,o.width,o.height):{width:o.width,height:o.height,data:p,colorSpace:e.colorSpace??"srgb"}},Mn=(e,t,r=1)=>Ht(e,Gt(e,t,r)),Bn=(e,t)=>{let{x:r,y:i,width:n,channels:s}=e,{x:o,y:a,width:l,channels:d}=t,_=(o??0)-(r??0),g=(a??0)-(i??0);return f=>d*(f/s%n-_+((f/s/n|0)-g)*l)},Pn=e=>{console.error("not implemented")},Je=Symbol("a rejection by a throttled function"),Yt=Symbol("a timeout by an awaited promiseTimeout function"),jn=(e,t,r)=>{let i,n=()=>{};return(...s)=>(te(i),r!==void 0&&n(r),new Promise((o,a)=>{n=a,i=W(()=>o(t(...s)),e)}))},On=(e,t)=>{let r,i,n,s=o=>(n=new Promise((a,l)=>i=a).then(s),o);return s(),(...o)=>(te(r),r=W(()=>i(t(...o)),e),n)},Xt=(e,t)=>{let r=0;return(...i)=>{let n=ct();return n-r>e?(r=n,t(...i)):Je}},Dn=(e,t,r,i)=>{let n,s=()=>{},o=Xt(t,r);return(...a)=>{te(n),i!==void 0&&s(i);let l=o(...a);return l===Je?new Promise((d,_)=>{s=_,n=W(()=>d(r(...a)),e)}):Q(l)}},Fn=(e,t)=>new Promise((r,i)=>{W(t?i:r,e,Yt)}),H=(e,t=!1)=>{let r=t?new Pe:new Map,i=z(r,"get"),n=z(r,"set"),s=z(r,"has");return{fn:o=>{let a=s(o),l=a?i(o):e(o);return a||n(o,l),l},memory:r}},Ln=e=>H(e).fn,Rn=(e,t)=>{let r=H(t),i=z(r.memory,"has"),n=r.fn;return s=>i(s)||--e>=0?n(s):t(s)},Jt=(e,t,r)=>{let i=H(t),n=z(i.memory,"has"),s=i.fn;return o=>{let a=n(o)||--e>=0?s(o):r;return e===0&&(r??=a),a}},$n=(e,t,r)=>{let i=H(r),n=z(i.memory,"has"),s=z(i.memory,"delete"),o=i.fn,a=new At(e,t,d=>{d.forEach(s)}),l=z(a,"push");return d=>(n(d)||l(d),o(d))},Nn=e=>Jt(1,e),Qe=(e,t=!1)=>{let r=t?new wt:new vt;return{fn:(...i)=>{let n=r.getDeep(i.toReversed()),s=n.value!==je,o=s?n.value:e(...i);return s||(n.value=o),o},memory:r}},Wn=e=>Qe(e,!1).fn,Vn=e=>Qe(e,!0).fn,Qt=(e,t)=>e.length>1?r=>Qt(e.bind(void 0,r)):e.bind(t),Zt=(e,t,r=e.length)=>(...i)=>{r-=i.length;let n=e.bind(void 0,...i);return r<=0?n.call(t):Zt(n,t,r)},qn=(e,t)=>{for(let r=0;r<t.length;r++)t[r]=e()},Kn=(e,t,r)=>{for(let i=0;i<t.length;i++)t[i]=e(r[i])},Gn=(e,t,r,i)=>{for(let n=0;n<t.length;n++)t[n]=e(r[n],i[n])},Hn=(e,t,r,i,n)=>{for(let s=0;s<t.length;s++)t[s]=e(r[s],i[s],n[s])},Yn=(e,t,r,i,n,s)=>{for(let o=0;o<t.length;o++)t[o]=e(r[o],i[o],n[o],s[o])},Xn=(e,t,r,i,n,s,o)=>{for(let a=0;a<t.length;a++)t[a]=e(r[a],i[a],n[a],s[a],o[a])},Jn=(e,t,...r)=>{let i=r.length,n=Array(i).fill(0);for(let s=0;s<t.length;s++){for(let o=0;o<i;o++)n[o]=r[o][s];t[s]=e(...n)}},Qn=(e,t,...r)=>{let i=e(...r);for(let n=0;n<t.length;n++)t[n]=i(n)},Zn=e=>e[0].map((t,r)=>e.map(i=>i[r])),es=(e,t,r)=>{[t,r]=G(t,r,e.length);let i=e.slice(t+1,r);for(let n=0;n<i.length;n++)i[n]-=e[t+n-1];return i},ts=(e,t,r)=>{[t,r]=G(t,r,e.length);let i=e.slice(t,r-1);for(let n=0;n<i.length;n++)i[n]-=e[t+n+1];return i},rs=e=>{let t=e.length,r=new(ie(e))(t+1).fill(0);for(let i=0;i<t;i++)r[i+1]=r[i]+e[i];return r},is=(e,t=0,r)=>{t??=0,r??=e.length;for(let i=t;i<r;i++)e[i]*=e[i]<0?-1:1;return e},ns=(e,t=0,r)=>{t??=0,r??=e.length;for(let i=t;i<r;i++)e[i]*=-1;return e},ss=(e,t,r)=>{t??=0,r??=e.length;for(let i=t;i<r;i++)e[i]=~e[i];return e},os=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]&=t;return e},as=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]|=t;return e},ls=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]^=t;return e},hs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]<<=t;return e},ds=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]>>=t;return e},us=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]>>>=t;return e},cs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]+=t;return e},_s=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]-=t;return e},ps=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]*=t;return e},fs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]/=t;return e},ms=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]**=t;return e},bs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]%=t;return e},gs=(e,t,r,i)=>{r??=0,i??=e.length;for(let n=r;n<i;n++)e[n]=(e[n]%t+t)%t;return e},er={sep:", ",prefix:"0x",postfix:"",trailingSep:!1,bra:"[",ket:"]",toUpperCase:!0,radix:16},ys=(e,t)=>{let{sep:r,prefix:i,postfix:n,trailingSep:s,bra:o,ket:a,toUpperCase:l,radix:d}={...er,...t},_=e.buffer?lt(e):e,g=_.map(f=>{let u=(f|0).toString(d);return u=u.length===2?u:"0"+u,l?me(u):u}).reduce((f,u)=>f+i+u+n+r,"");return o+g.slice(0,s?void 0:-r.length)+a},vs=(e,t)=>{let{sep:r,prefix:i,postfix:n,bra:s,ket:o,radix:a}={...er,...t},[l,d,_,g,f]=[r,i,n,s,o].map(p=>p.length),u=e.slice(g,f>0?-f:void 0),m=d+2+_+l,y=[];for(let p=d;p<u.length;p+=m)y.push(parseInt(u[p]+u[p+1],a));return y},Ze=(e,t)=>t===1?me(e):t===-1?be(e):e,tr=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let i=ae(e),n;for(;n=i(t++);)if(n>64&&n<91)return t-1},rr=(e,t=0,r=void 0)=>{r=(r<e.length?r:e.length)-1;let i=ae(e),n;for(;n=i(t++);)if(n>96&&n<123)return t-1},ir=(e,t,r=0,i=void 0)=>t===1?tr(e,r,i):t===-1?rr(e,r,i):void 0,et=(e,t)=>{let[r,i,n,s="",o="",a=""]=e,l=t.length-1;return t.map((d,_)=>{let g=Ze(d[0],_>0?i:r),f=Ze(d.slice(1),n),u=_<l?s:"";return g+f+u}).reduce((d,_)=>d+_,o)+a},tt=(e,t)=>{let[,r,,i="",n="",s=""]=e;t=t.slice(n.length,-s.length||void 0);let o;if(i===""){let a=[0],l=0;for(;l!==void 0;)l=ir(t,r,l+1),a.push(l);o=Bt(t,a)}else o=t.split(i);return o.map(a=>be(a))},ws=(e,t,r)=>et(t,tt(e,r)),F=(e,t)=>{let r=et.bind(void 0,t),i=tt.bind(void 0,e);return n=>r(i(n))},Y=[-1,-1,-1,"_"],X=[-1,-1,-1,"-"],J=[-1,1,-1,""],xs=[1,1,-1,""],As=[1,1,1,"_"],Is=[1,1,1,"-"],Ss=F(X,J),Ts=F(J,X),Cs=F(Y,J),Es=F(J,Y),zs=F(X,Y),ks=F(Y,X),Us=e=>e>=0&&e<=1,Ms=e=>e>=0&&e<=255&&e===(e|0),Bs=e=>e>=0&&e<=360,Ps=e=>e>=0&&e<=Math.PI;export{L as Array2DShape,$i as ChainedPromiseQueue,Wi as Crc32,ji as Deque,wt as HybridTree,Pe as HybridWeakMap,Oi as InvertibleMap,At as LimitedStack,Ri as LimitedStackSet,xt as StackSet,vt as StrongTree,Je as THROTTLE_REJECT,Yt as TIMEOUT,je as TREE_VALUE_UNSET,Fi as TopologicalAsyncScheduler,Di as TopologicalScheduler,Li as WeakTree,is as abs,cs as add,lt as array_from,ht as array_isArray,O as array_isEmpty,hr as array_of,os as band,Bi as base64BodyToBytes,ss as bcomp,qi as bindDotPathTo,Vi as bindKeyPathTo,Fr as bindMethodFactory,h as bindMethodFactoryByName,Lr as bindMethodToSelf,z as bindMethodToSelfByName,Rr as bind_array_at,bt as bind_array_clear,$r as bind_array_concat,Nr as bind_array_copyWithin,Wr as bind_array_entries,Vr as bind_array_every,qr as bind_array_fill,Kr as bind_array_filter,Gr as bind_array_find,Hr as bind_array_findIndex,Yr as bind_array_findLast,Xr as bind_array_findLastIndex,Jr as bind_array_flat,Qr as bind_array_flatMap,Zr as bind_array_forEach,ei as bind_array_includes,ti as bind_array_indexOf,ri as bind_array_join,ii as bind_array_keys,ni as bind_array_lastIndexOf,si as bind_array_map,ft as bind_array_pop,mt as bind_array_push,oi as bind_array_reduce,ai as bind_array_reduceRight,li as bind_array_reverse,hi as bind_array_shift,di as bind_array_slice,ui as bind_array_some,ci as bind_array_sort,_i as bind_array_splice,fi as bind_array_toLocaleString,mi as bind_array_toReversed,bi as bind_array_toSorted,gi as bind_array_toSpliced,yi as bind_array_toString,pi as bind_array_unshift,vi as bind_array_values,wi as bind_array_with,Ci as bind_map_clear,Ce as bind_map_delete,Ee as bind_map_entries,ze as bind_map_forEach,$ as bind_map_get,ke as bind_map_has,Ue as bind_map_keys,oe as bind_map_set,Me as bind_map_values,V as bind_set_add,xi as bind_set_clear,q as bind_set_delete,Ai as bind_set_entries,Ii as bind_set_forEach,se as bind_set_has,Si as bind_set_keys,Ti as bind_set_values,Te as bind_stack_seek,Ei as bind_string_at,zi as bind_string_charAt,ae as bind_string_charCodeAt,ki as bind_string_codePointAt,gt as blobToBase64,Mi as blobToBase64Body,yt as blobToBase64Split,hs as blsh,as as bor,ds as brsh,us as bursh,ls as bxor,Pi as bytesToBase64Body,J as camelCase,Ts as camelToKebab,Es as camelToSnake,ve as clamp,kt as concatBytes,Ut as concatTyped,jr as constructFrom,N as constructImageBitmapSource,zn as constructImageBlob,kn as constructImageData,ie as constructorOf,ws as convertCase,F as convertCase_Factory,Bn as coordinateTransformer,Ht as cropImageData,rs as cumulativeSum,Qt as curry,Zt as curryMulti,ct as date_now,jn as debounce,On as debounceAndShare,Dt as decode_bool,Wt as decode_bytes,Lt as decode_cstr,Yi as decode_ivar,Ne as decode_ivar_array,qt as decode_number,Ye as decode_number_array,$t as decode_str,Gi as decode_uvar,Ct as decode_varint,Le as decode_varint_array,es as diff,ts as diff_right,fs as div,br as dom_clearInterval,te as dom_clearTimeout,mr as dom_setInterval,W as dom_setTimeout,De as dotPathToKeyPath,Ui as downloadBuffer,Ot as encode_bool,Nt as encode_bytes,Ft as encode_cstr,Hi as encode_ivar,$e as encode_ivar_array,Vt as encode_number,He as encode_number_array,Rt as encode_str,Ki as encode_uvar,Re as encode_uvar_array,Tt as encode_varint,Fe as encode_varint_array,K as env_is_little_endian,rr as findNextLowerCase,tr as findNextUpperCase,ir as findNextUpperOrLowerCase,ue as formatEach,pe as getBGCanvas,Xe as getBGCtx,En as getBase64ImageBody,Tn as getBase64ImageHeader,Cn as getBase64ImageMIMEType,Gt as getBoundingBox,It as getDotPath,zt as getEnvironmentEndianess,de as getKeyPath,ys as hexStringOfArray,vs as hexStringToArray,j as hex_fmt,An as hsl_fmt,In as hsla_fmt,Un as intensityBitmap,Be as invertMap,Ar as invlerp,Ir as invlerpClamped,Sr as invlerpi,Tr as invlerpiClamped,Sn as isBase64Image,Se as isComplex,Bs as isDegrees,en as isIdentical,Or as isPrimitive,Ps as isRadians,Mt as isSubidentical,Xi as isTypedArray,Ms as isUByte,Us as isUnitInterval,X as kebabCase,Ss as kebabToCamel,zs as kebabToSnake,gr as lerp,yr as lerpClamped,vr as lerpi,wr as lerpiClamped,pt as lerpv,xr as lerpvClamped,Cr as limp,Er as limpClamped,we as max,Ln as memorize,Jt as memorizeAfterN,Rn as memorizeAtmostN,H as memorizeCore,$n as memorizeLRU,Wn as memorizeMulti,Qe as memorizeMultiCore,Vn as memorizeMultiWeak,Nn as memorizeOnce,Br as meshGrid,Pr as meshMap,kr as min,gs as mod,x as modulo,Dr as monkeyPatchPrototypeOfClass,ps as mult,ns as neg,ot as noop,ye as number_MAX_VALUE,dr as number_NEGATIVE_INFINITY,ur as number_POSITIVE_INFINITY,ge as number_isInteger,Z as object_assign,dt as object_defineProperty,cr as object_entries,_r as object_fromEntries,ut as object_getPrototypeOf,pr as object_keys,fr as object_values,Ke as pack,hn as packSeq,xs as pascalCase,pn as percent,B as percent_fmt,re as positiveRect,ms as pow,Fn as promiseTimeout,ar as promise_forever,lr as promise_outside,or as promise_reject,Q as promise_resolve,R as prototypeOfClass,Pn as randomRGBA,an as readFrom,cn as recordArgsMap,un as recordMap,bs as rem,G as resolveRange,wn as rgb_fmt,gn as rgb_hex_fmt,xn as rgba_fmt,vn as rgba_hex_fmt,Ur as rotateArray2DMajor,Mr as rotateArray2DMinor,Is as screamingKebabCase,As as screamingSnakeCase,_n as sequenceArgsMap,D as sequenceMap,St as setDotPath,Oe as setKeyPath,Bt as sliceContinuous,tn as sliceContinuousTypedSubarray,sn as sliceIntervalLengths,on as sliceIntervalLengthsTypedSubarray,rn as sliceIntervals,nn as sliceIntervalsTypedSubarray,Zi as sliceSkip,qe as sliceSkipTypedSubarray,Y as snakeCase,Cs as snakeToCamel,ks as snakeToKebab,Ae as spliceArray2DMajor,Ie as spliceArray2DMinor,Qi as splitTypedSubarray,at as string_fromCharCode,be as string_toLowerCase,me as string_toUpperCase,_s as sub,zr as sum,Ji as swapEndianess,Ve as swapEndianessFast,ee as symbol_iterator,_t as symbol_toStringTag,Xt as throttle,Dn as throttleAndTrail,Ze as toUpperOrLowerCase,tt as tokenToWords,Zn as transpose2D,xe as transposeArray2D,le as treeClass_Factory,Mn as trimImagePadding,We as typed_array_constructor_of,fn as ubyte,P as ubyte_fmt,mn as udegree,ce as udegree_fmt,Ge as unpack,dn as unpackSeq,qn as vectorize0,Kn as vectorize1,Gn as vectorize2,Hn as vectorize3,Yn as vectorize4,Xn as vectorize5,Qn as vectorizeIndexHOF,Jn as vectorizeN,et as wordsToToken,ln as writeTo};
